/*! For license information please see main.07a409a1.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function j(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Se(e){if(e=mi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Ie)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ve=!1,Ue=null,ze={onError:function(e){Me=!0,Fe=e}};function je(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,xt,_t,It,St=!1,Et=[],Tt=null,Ct=null,At=null,Nt=new Map,Rt=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ht(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){St=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),Nt.forEach(Vt),Rt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function jt(e){function t(t){return zt(t,e)}if(0<Et.length){zt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),Nt.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var Bt=b.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=1,Gt(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Wt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=4,Gt(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Gt(e,t,n,r){var i=Ht(e,t,n,r);if(null===i)Br(e,t,r,Kt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=mi(i);if(null!==a&&bt(a),null===(a=Ht(e,t,n,r))&&Br(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}var Kt=null;function Ht(e,t,n,r){if(Kt=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Yt=null,Jt=null;function Xt(){if(Jt)return Jt;var e,t,n=Yt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(un),cn=F({},un,{view:0,detail:0}),ln=nn(cn),fn=F({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(fn),dn=nn(F({},fn,{dataTransfer:0})),pn=nn(F({},cn,{relatedTarget:0})),vn=nn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=nn(mn),gn=nn(F({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function _n(){return xn}var In=F({},cn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=nn(In),En=nn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=nn(F({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Cn=nn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=nn(An),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var On=l&&"TextEvent"in window&&!Dn,Ln=l&&(!Pn||Dn&&8<Dn&&11>=Dn),Mn=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Kn(e){Mr(e,0)}function Hn(e){if(H(yi(e)))return e}function $n(e,t){if("change"===e)return t}var Qn=!1;if(l){var Yn;if(l){var Jn="oninput"in document;if(!Jn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Jn="function"===typeof Xn.oninput}Yn=Jn}else Yn=!1;Qn=Yn&&(!document.documentMode||9<document.documentMode)}function Zn(){Wn&&(Wn.detachEvent("onpropertychange",er),Gn=Wn=null)}function er(e){if("value"===e.propertyName&&Hn(Gn)){var t=[];qn(t,Gn,e,we(e)),Re(Kn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Gn=n,(Wn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hn(Gn)}function rr(e,t){if("click"===e)return Hn(t)}function ir(e,t){if("input"===e||"change"===e)return Hn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=sr(n,a);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,mr=null,yr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==pr||pr!==$(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&or(mr,r)||(mr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},wr={},xr={};function _r(e){if(wr[e])return wr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return wr[e]=n[t];return e}l&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Ir=_r("animationend"),Sr=_r("animationiteration"),Er=_r("animationstart"),Tr=_r("transitionend"),Cr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Cr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Pr=Ar[Rr];Nr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Nr(Ir,"onAnimationEnd"),Nr(Sr,"onAnimationIteration"),Nr(Er,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(je.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ve||(Ve=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Fr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(jr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),jr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Vr("selectionchange",!1,t))}}function jr(e,t,n,r){switch($t(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=vi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Cr.get(e);if(void 0!==u){var s=sn,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":s=Sn;break;case"focusin":c="focus",s=pn;break;case"focusout":c="blur",s=pn;break;case"beforeblur":case"afterblur":s=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tn;break;case Ir:case Sr:case Er:s=vn;break;case Tr:s=Cn;break;case"scroll":s=ln;break;case"wheel":s=Nn;break;case"copy":case"cut":case"paste":s=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=En}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(qr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=hn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=En,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:yi(s),d=null==c?u:yi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,vi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Kr(o,u,s,l,!1),null!==c&&null!==f&&Kr(o,f,c,l,!0)}if("select"===(s=(u=r?yi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Bn(u))if(Qn)m=ir;else{m=nr;var y=tr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=rr);switch(m&&(m=m(e,r))?qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?yi(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(pr=y,vr=r,mr=null);break;case"focusout":mr=vr=pr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,gr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=Xt()):(Yt="value"in(Qt=i)?Qt.value:Qt.textContent,zn=!0)),0<(y=Wr(r,k)).length&&(k=new gn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Un(n))&&(k.data=g))),(g=On?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=Xt(),Jt=Yt=Qt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Mr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Pe(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(qr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Hr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Hr,"\n").replace($r,"")}function Yr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function Jr(){}var Xr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ci="__reactFiber$"+si,li="__reactProps$"+si,fi="__reactContainer$"+si,hi="__reactEvents$"+si,di="__reactListeners$"+si,pi="__reactHandles$"+si;function vi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[ci])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[li]||null}var ki=[],bi=-1;function wi(e){return{current:e}}function xi(e){0>bi||(e.current=ki[bi],ki[bi]=null,bi--)}function _i(e,t){bi++,ki[bi]=e.current,e.current=t}var Ii={},Si=wi(Ii),Ei=wi(!1),Ti=Ii;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){xi(Ei),xi(Si)}function Ri(e,t,n){if(Si.current!==Ii)throw Error(a(168));_i(Si,t),_i(Ei,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ti=Si.current,_i(Si,e),_i(Ei,Ei.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,xi(Ei),xi(Si),_i(Si,e)):xi(Ei),_i(Ei,n)}var Li=null,Mi=!1,Fi=!1;function Vi(e){null===Li?Li=[e]:Li.push(e)}function Ui(){if(!Fi&&null!==Li){Fi=!0;var e=0,t=gt;try{var n=Li;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Mi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),He(Ze,Ui),i}finally{gt=t,Fi=!1}}return null}var zi=b.ReactCurrentBatchConfig;function ji(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Bi=wi(null),qi=null,Wi=null,Gi=null;function Ki(){Gi=Wi=qi=null}function Hi(e){var t=Bi.current;xi(Bi),e._currentValue=t}function $i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qi(e,t){qi=e,Gi=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yu=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Gi!==e)if(e={context:e,memoizedValue:t,next:null},null===Wi){if(null===qi)throw Error(a(308));Wi=e,qi.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var Ji=null,Xi=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=n.interleaved)?(t.next=t,null===Ji?Ji=[n]:Ji.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Xi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Xi=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ss|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ua=(new r.Component).refs;function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bs(),r=qs(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Ws(e,r,n))&&ra(t,e,r)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Yi(a):(i=Ai(t)?Ti:Si.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,Zi(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Yi(a):(a=Ai(t)?Ti:Si.current,i.context=Ci(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],va=0,ma=null,ya=0,ga=[],ka=0,ba=null,wa=1,xa="";function _a(e,t){pa[va++]=ya,pa[va++]=ma,ma=e,ya=t}function Ia(e,t,n){ga[ka++]=wa,ga[ka++]=xa,ga[ka++]=ba,ba=e;var r=wa;e=xa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-ot(t)+i|n<<i|r,xa=a+e}else wa=1<<a|n<<i|r,xa=e}function Sa(e){null!==e.return&&(_a(e,1),Ia(e,1,0))}function Ea(e){for(;e===ma;)ma=pa[--va],pa[va]=null,ya=pa[--va],pa[va]=null;for(;e===ba;)ba=ga[--ka],ga[ka]=null,xa=ga[--ka],ga[ka]=null,wa=ga[--ka],ga[ka]=null}var Ta=null,Ca=null,Aa=!1,Na=null;function Ra(e,t){var n=bc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Pa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ta=e,Ca=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ta=e,Ca=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ba?{id:wa,overflow:xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=bc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ta=e,Ca=null,!0);default:return!1}}function Da(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Oa(e){if(Aa){var t=Ca;if(t){var n=t;if(!Pa(e,t)){if(Da(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ta;t&&Pa(e,t)?Ra(r,n):(e.flags=-4097&e.flags|2,Aa=!1,Ta=e)}}else{if(Da(e))throw Error(a(418));e.flags=-4097&e.flags|2,Aa=!1,Ta=e}}}function La(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ta=e}function Ma(e){if(e!==Ta)return!1;if(!Aa)return La(e),Aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ca)){if(Da(e)){for(e=Ca;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Ra(e,t),t=oi(t.nextSibling)}if(La(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ca=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ca=null}}else Ca=Ta?oi(e.stateNode.nextSibling):null;return!0}function Fa(){Ca=Ta=null,Aa=!1}function Va(e){null===Na?Na=[e]:Na.push(e)}function Ua(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function za(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ja(e){return(0,e._init)(e._payload)}function Ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=xc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ec(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&ja(a)===t.type)?((r=i(t,n.props)).ref=Ua(e,t,n),r.return=e,r):((r=_c(n.type,n.key,n.props,null,e.mode,r)).ref=Ua(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Tc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ec(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=_c(t.type,t.key,t.props,null,e.mode,n)).ref=Ua(e,null,t),n.return=e,n;case x:return(t=Tc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ic(t,e.mode,n,null)).return=e,t;za(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);za(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);za(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Aa&&_a(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Aa&&_a(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Aa&&_a(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),Aa&&_a(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Aa&&_a(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Aa&&_a(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ja(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ua(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Ic(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=_c(o.type,o.key,o.props,null,r.mode,s)).ref=Ua(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Tc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);za(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ec(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var qa=Ba(!0),Wa=Ba(!1),Ga={},Ka=wi(Ga),Ha=wi(Ga),$a=wi(Ga);function Qa(e){if(e===Ga)throw Error(a(174));return e}function Ya(e,t){switch(_i($a,t),_i(Ha,e),_i(Ka,Ga),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ka),_i(Ka,t)}function Ja(){xi(Ka),xi(Ha),xi($a)}function Xa(e){Qa($a.current);var t=Qa(Ka.current),n=se(t,e.type);t!==n&&(_i(Ha,e),_i(Ka,n))}function Za(e){Ha.current===e&&(xi(Ka),xi(Ha))}var eo=wi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:eu,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=so=null,t.updateQueue=null,io.current=tu,e=n(r,i)}while(fo)}if(io.current=Xo,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function bo(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,uo.lanes|=f,Ss|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ar(r,t.memoizedState)||(yu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,Ss|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ar(o,t.memoizedState)||(yu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Io(){}function So(e,t){var n=uo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,yu=!0),r=r.queue,Mo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Ro(9,To.bind(null,n,r,i,t),void 0,null),null===gs)throw Error(a(349));0!==(30&oo)||Eo(n,t,i)}return i}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&Ws(e,1,-1)}function Co(e,t,n){return n((function(){Ao(t)&&Ws(e,1,-1)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function No(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ho.bind(null,uo,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return bo().memoizedState}function Do(e,t,n,r){var i=ko();uo.flags|=e,i.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function Oo(e,t,n,r){var i=bo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Ro(t,n,a,r))}uo.flags|=e,i.memoizedState=Ro(1|t,n,a,r)}function Lo(e,t){return Do(8390656,8,e,t)}function Mo(e,t){return Oo(2048,8,e,t)}function Fo(e,t){return Oo(4,2,e,t)}function Vo(e,t){return Oo(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4,4,Uo.bind(null,t,e),n)}function jo(){}function Bo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{gt=n,ao.transition=r}}function Go(){return bo().memoizedState}function Ko(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$o(e)?Qo(t,n):(Yo(e,t,n),null!==(e=Ws(e,r,n=Bs()))&&Jo(e,t,r))}function Ho(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($o(e))Qo(t,i);else{Yo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ar(u,o))return}catch(s){}null!==(e=Ws(e,r,n=Bs()))&&Jo(e,t,r)}}function $o(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function Qo(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=t.interleaved)?(n.next=n,null===Ji?Ji=[t]:Ji.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xo={readContext:Yi,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Zo={readContext:Yi,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Yi,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:No,useDebugValue:jo,useDeferredValue:function(e){var t=No(e),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=No(!1),t=e[0];return e=Wo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=ko();if(Aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===gs)throw Error(a(349));0!==(30&oo)||Eo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=gs.identifierPrefix;if(Aa){var n=xa;t=":"+t+"R"+(n=(wa&~(1<<32-ot(wa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Yi,useCallback:Bo,useContext:Yi,useEffect:Mo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:Vo,useMemo:qo,useReducer:xo,useRef:Po,useState:function(){return xo(wo)},useDebugValue:jo,useDeferredValue:function(e){var t=xo(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:Io,useSyncExternalStore:So,useId:Go,unstable_isNewReconciler:!1},tu={readContext:Yi,useCallback:Bo,useContext:Yi,useEffect:Mo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:Vo,useMemo:qo,useReducer:_o,useRef:Po,useState:function(){return _o(wo)},useDebugValue:jo,useDeferredValue:function(e){var t=_o(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:Io,useSyncExternalStore:So,useId:Go,unstable_isNewReconciler:!1};function nu(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var iu,au,ou,uu="function"===typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ps||(Ps=!0,Ds=r),ru(0,t)},n}function cu(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ru(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ru(0,t),"function"!==typeof r&&(null===Os?Os=new Set([this]):Os.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function lu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function du(e,t){if(!Aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vu(e,t,n){var r=t.pendingProps;switch(Ea(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pu(t),null;case 1:case 17:return Ai(t.type)&&Ni(),pu(t),null;case 3:return r=t.stateNode,Ja(),xi(Ei),xi(Si),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Na&&(Qs(Na),Na=null))),pu(t),null;case 5:Za(t);var i=Qa($a.current);if(n=t.type,null!==e&&null!=t.stateNode)au(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return pu(t),null}if(e=Qa(Ka.current),Ma(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Yr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ci]=t,e[li]=r,iu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return pu(t),null;case 6:if(e&&null!=t.stateNode)ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Qa($a.current),Qa(Ka.current),Ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Ta))switch(s=0!==(1&e.mode),e.tag){case 3:Yr(r.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Yr(r.nodeValue,n,s)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return pu(t),null;case 13:if(xi(eo),r=t.memoizedState,Aa&&null!==Ca&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ca;r;)r=oi(r.nextSibling);return Fa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ma(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else Fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return pu(t),null}return null!==Na&&(Qs(Na),Na=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ma(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===_s&&(_s=3):ic())),null!==t.updateQueue&&(t.flags|=4),pu(t),null);case 4:return Ja(),null===e&&zr(t.stateNode.containerInfo),pu(t),null;case 10:return Hi(t.type._context),pu(t),null;case 19:if(xi(eo),null===(o=t.memoizedState))return pu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)du(o,!1);else{if(0!==_s||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,du(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Rs&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),du(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Aa)return pu(t),null}else 2*Je()-o.renderingStartTime>Rs&&1073741824!==n&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=eo.current,_i(eo,r?1&n|2:1&n),t):(pu(t),null);case 22:case 23:return ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ws)&&(pu(t),6&t.subtreeFlags&&(t.flags|=8192)):pu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}iu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},au=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qa(Ka.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var mu=b.ReactCurrentOwner,yu=!1;function gu(e,t,n,r){t.child=null===e?Wa(t,null,n,r):qa(t,e.child,n,r)}function ku(e,t,n,r,i){n=n.render;var a=t.ref;return Qi(t,i),r=yo(e,t,n,r,a,i),n=go(),null===e||yu?(Aa&&n&&Sa(t),t.flags|=1,gu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uu(e,t,i))}function bu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||wc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=_c(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Uu(e,t,i)}return t.flags|=1,(e=xc(a,r)).ref=t.ref,e.return=t,t.child=e}function wu(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(yu=!1,0===(e.lanes&i))return t.lanes=e.lanes,Uu(e,t,i);0!==(131072&e.flags)&&(yu=!0)}return Iu(e,t,n,r,i)}function xu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},_i(xs,ws),ws|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,_i(xs,ws),ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,_i(xs,ws),ws|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(xs,ws),ws|=r;return gu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Iu(e,t,n,r,i){var a=Ai(n)?Ti:Si.current;return a=Ci(t,a),Qi(t,i),n=yo(e,t,n,r,a,i),r=go(),null===e||yu?(Aa&&r&&Sa(t),t.flags|=1,gu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uu(e,t,i))}function Su(e,t,n,r,i){if(Ai(n)){var a=!0;Di(t)}else a=!1;if(Qi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Yi(c):c=Ci(t,c=Ai(n)?Ti:Si.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ha(t,o,r,c),Xi=!1;var h=t.memoizedState;o.state=h,aa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ei.current||Xi?("function"===typeof l&&(sa(t,n,l,r),s=t.memoizedState),(u=Xi||la(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ji(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Yi(s):s=Ci(t,s=Ai(n)?Ti:Si.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ha(t,o,r,s),Xi=!1,h=t.memoizedState,o.state=h,aa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ei.current||Xi?("function"===typeof d&&(sa(t,n,d,r),p=t.memoizedState),(c=Xi||la(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Eu(e,t,n,r,a,i)}function Eu(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Oi(t,n,!1),Uu(e,t,a);r=t.stateNode,mu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,u,a)):gu(e,t,u,a),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function Tu(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Ya(e,t.containerInfo)}function Cu(e,t,n,r,i){return Fa(),Va(i),t.flags|=256,gu(e,t,n,r),t.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Nu(e){return{baseLanes:e,cachePool:null}}function Ru(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(eo,1&o),null===e)return Oa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Sc(o,i,0,null),e=Ic(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Nu(n),t.memoizedState=Au,e):Pu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Lu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Sc({mode:"visible",children:i.children},o,0,null),(u=Ic(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=Nu(n),t.memoizedState=Au,u);if(0===(1&t.mode))t=Lu(e,t,n,null);else if("$!"===r.data)t=Lu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),yu||i){if(null!==(i=gs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Ws(e,i,-1))}ic(),t=Lu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=mc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ca=oi(r.nextSibling),Ta=t,Aa=!0,Na=null,null!==n&&(ga[ka++]=wa,ga[ka++]=xa,ga[ka++]=ba,wa=n.id,xa=n.overflow,ba=t),(t=Pu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Ou(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Nu(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Au,i):(n=Du(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Ou(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Nu(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Au,i):(n=Du(e,t,i.children,n),t.memoizedState=null,n)}function Pu(e,t){return(t=Sc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Du(e,t,n,r){var i=e.child;return e=i.sibling,n=xc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Ou(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=xc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=xc(o,r):(r=Ic(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Lu(e,t,n,r){return null!==r&&Va(r),qa(t,e.child,null,n),(e=Pu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),$i(e.return,t,n)}function Fu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mu(e,n,t);else if(19===e.tag)Mu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fu(t,!0,n,null,a);break;case"together":Fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ss|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=xc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function zu(e,t){switch(Ea(t),t.tag){case 1:return Ai(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),xi(Ei),xi(Si),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(xi(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(eo),null;case 4:return Ja(),null;case 10:return Hi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var ju=!1,Bu=!1,qu="function"===typeof WeakSet?WeakSet:Set,Wu=null;function Gu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dc(e,t,r)}else n.current=null}function Ku(e,t,n){try{n()}catch(r){dc(e,t,r)}}var Hu=!1;function $u(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Ku(t,n,a)}i=i.next}while(i!==r)}}function Qu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Ju(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Ku(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Gu(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dc(t,n,o)}break;case 5:Gu(t,n);break;case 4:is(e,t,n)}}function Xu(e){var t=e.alternate;null!==t&&(e.alternate=null,Xu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[hi],delete t[di],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zu(e){return 5===e.tag||3===e.tag||4===e.tag}function es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ts(e){e:{for(var t=e.return;null!==t;){if(Zu(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),rs(e,n=es(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ns(e,n=es(e),t);break;default:throw Error(a(161))}}function ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function rs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rs(e,t,n),e=e.sibling;null!==e;)rs(e,t,n),e=e.sibling}function is(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,l=n,f=c;;)if(Ju(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(s=r,c=o.stateNode,8===s.nodeType?ai(s.parentNode,c):1===s.nodeType&&ai(s,c),jt(s)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Ju(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function as(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return $u(3,t,t.return),Qu(3,t),void $u(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&J(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?me(n,s):"dangerouslySetInnerHTML"===u?fe(n,s):"children"===u?he(n,s):k(n,u,s,t)}switch(e){case"input":X(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[li]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&jt(t.stateNode.containerInfo));case 13:case 19:return void os(t)}throw Error(a(163))}function os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qu),t.forEach((function(t){var r=yc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function us(e,t,n){Wu=e,ss(e,t,n)}function ss(e,t,n){for(var r=0!==(1&e.mode);null!==Wu;){var i=Wu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||ju;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Bu;u=ju;var c=Bu;if(ju=o,(Bu=s)&&!c)for(Wu=i;null!==Wu;)s=(o=Wu).child,22===o.tag&&null!==o.memoizedState?fs(i):null!==s?(s.return=o,Wu=s):fs(i);for(;null!==a;)Wu=a,ss(a,t,n),a=a.sibling;Wu=i,ju=u,Bu=c}cs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Wu=a):cs(e)}}function cs(e){for(;null!==Wu;){var t=Wu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Bu||Qu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Bu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ji(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&jt(h)}}}break;default:throw Error(a(163))}Bu||512&t.flags&&Yu(t)}catch(d){dc(t,t.return,d)}}if(t===e){Wu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}function ls(e){for(;null!==Wu;){var t=Wu;if(t===e){Wu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Wu=n;break}Wu=t.return}}function fs(e){for(;null!==Wu;){var t=Wu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qu(4,t)}catch(s){dc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){dc(t,i,s)}}var a=t.return;try{Yu(t)}catch(s){dc(t,a,s)}break;case 5:var o=t.return;try{Yu(t)}catch(s){dc(t,o,s)}}}catch(s){dc(t,t.return,s)}if(t===e){Wu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Wu=u;break}Wu=t.return}}var hs,ds=Math.ceil,ps=b.ReactCurrentDispatcher,vs=b.ReactCurrentOwner,ms=b.ReactCurrentBatchConfig,ys=0,gs=null,ks=null,bs=0,ws=0,xs=wi(0),_s=0,Is=null,Ss=0,Es=0,Ts=0,Cs=null,As=null,Ns=0,Rs=1/0,Ps=!1,Ds=null,Os=null,Ls=!1,Ms=null,Fs=0,Vs=0,Us=null,zs=-1,js=0;function Bs(){return 0!==(6&ys)?Je():-1!==zs?zs:zs=Je()}function qs(e){return 0===(1&e.mode)?1:0!==(2&ys)&&0!==bs?bs&-bs:null!==zi.transition?(0===js&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),js=e),js):0!==(e=gt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function Ws(e,t,n){if(50<Vs)throw Vs=0,Us=null,Error(a(185));var r=Gs(e,t);return null===r?null:(mt(r,t,n),0!==(2&ys)&&r===gs||(r===gs&&(0===(2&ys)&&(Es|=t),4===_s&&Ys(r,bs)),Ks(r,n),1===t&&0===ys&&0===(1&e.mode)&&(Rs=Je()+500,Mi&&Ui())),r)}function Gs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Ks(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===gs?bs:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Mi=!0,Vi(e)}(Js.bind(null,e)):Vi(Js.bind(null,e)),ri((function(){0===ys&&Ui()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=gc(n,Hs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hs(e,t){if(zs=-1,js=0,0!==(6&ys))throw Error(a(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=ht(e,e===gs?bs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=ys;ys|=2;var o=rc();for(gs===e&&bs===t||(Rs=Je()+500,tc(e,t));;)try{uc();break}catch(s){nc(e,s)}Ki(),ps.current=o,ys=i,null!==ks?t=0:(gs=null,bs=0,t=_s)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=$s(e,i))),1===t)throw n=Is,tc(e,0),Ys(e,r),Ks(e,Je()),n;if(6===t)Ys(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(o=pt(e))&&(r=o,t=$s(e,o))),1===t))throw n=Is,tc(e,0),Ys(e,r),Ks(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:lc(e,As);break;case 3:if(Ys(e,r),(130023424&r)===r&&10<(t=Ns+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Bs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(lc.bind(null,e,As),t);break}lc(e,As);break;case 4:if(Ys(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ds(r/1960))-r)){e.timeoutHandle=ei(lc.bind(null,e,As),r);break}lc(e,As);break;default:throw Error(a(329))}}}return Ks(e,Je()),e.callbackNode===n?Hs.bind(null,e):null}function $s(e,t){var n=Cs;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=As,As=n,null!==t&&Qs(t)),e}function Qs(e){null===As?As=e:As.push.apply(As,e)}function Ys(e,t){for(t&=~Ts,t&=~Es,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Js(e){if(0!==(6&ys))throw Error(a(327));fc();var t=ht(e,0);if(0===(1&t))return Ks(e,Je()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=$s(e,r))}if(1===n)throw n=Is,tc(e,0),Ys(e,t),Ks(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,As),Ks(e,Je()),null}function Xs(e,t){var n=ys;ys|=1;try{return e(t)}finally{0===(ys=n)&&(Rs=Je()+500,Mi&&Ui())}}function Zs(e){null!==Ms&&0===Ms.tag&&0===(6&ys)&&fc();var t=ys;ys|=1;var n=ms.transition,r=gt;try{if(ms.transition=null,gt=1,e)return e()}finally{gt=r,ms.transition=n,0===(6&(ys=t))&&Ui()}}function ec(){ws=xs.current,xi(xs)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(Ea(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:Ja(),xi(Ei),xi(Si),ro();break;case 5:Za(r);break;case 4:Ja();break;case 13:case 19:xi(eo);break;case 10:Hi(r.type._context);break;case 22:case 23:ec()}n=n.return}if(gs=e,ks=e=xc(e.current,null),bs=ws=t,_s=0,Is=null,Ts=Es=Ss=0,As=Cs=null,null!==Ji){for(t=0;t<Ji.length;t++)if(null!==(r=(n=Ji[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ji=null}return e}function nc(e,t){for(;;){var n=ks;try{if(Ki(),io.current=Xo,lo){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,vs.current=null,null===n||null===n.return){_s=1,Is=t,ks=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=bs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fu(u);if(null!==p){p.flags&=-257,hu(p,u,s,0,t),1&p.mode&&lu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){lu(o,l,t),ic();break e}c=Error(a(426))}else if(Aa&&1&s.mode){var y=fu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),hu(y,u,s,0,t),Va(c);break e}}o=c,4!==_s&&(_s=2),null===Cs?Cs=[o]:Cs.push(o),c=nu(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ia(s,su(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Os||!Os.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ia(s,cu(s,o,t));break e}}s=s.return}while(null!==s)}cc(n)}catch(b){t=b,ks===n&&null!==n&&(ks=n=n.return);continue}break}}function rc(){var e=ps.current;return ps.current=Xo,null===e?Xo:e}function ic(){0!==_s&&3!==_s&&2!==_s||(_s=4),null===gs||0===(268435455&Ss)&&0===(268435455&Es)||Ys(gs,bs)}function ac(e,t){var n=ys;ys|=2;var r=rc();for(gs===e&&bs===t||tc(e,t);;)try{oc();break}catch(i){nc(e,i)}if(Ki(),ys=n,ps.current=r,null!==ks)throw Error(a(261));return gs=null,bs=0,_s}function oc(){for(;null!==ks;)sc(ks)}function uc(){for(;null!==ks&&!Qe();)sc(ks)}function sc(e){var t=hs(e.alternate,e,ws);e.memoizedProps=e.pendingProps,null===t?cc(e):ks=t,vs.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vu(n,t,ws)))return void(ks=n)}else{if(null!==(n=zu(n,t)))return n.flags&=32767,void(ks=n);if(null===e)return _s=6,void(ks=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===_s&&(_s=5)}function lc(e,t){var n=gt,r=ms.transition;try{ms.transition=null,gt=1,function(e,t,n){do{fc()}while(null!==Ms);if(0!==(6&ys))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===gs&&(ks=gs=null,bs=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ls||(Ls=!0,gc(tt,(function(){return fc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=ms.transition,ms.transition=null;var u=gt;gt=1;var s=ys;ys|=4,vs.current=null,function(e,t){if(fr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xr={focusedElem:e,selectionRange:n},Wu=t;null!==Wu;)if(e=(t=Wu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Wu=e;else for(;null!==Wu;){t=Wu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ji(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){dc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Wu=e;break}Wu=t.return}v=Hu,Hu=!1}(e,r),function(e,t){for(Wu=t;null!==Wu;){var n=(t=Wu).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{is(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(I){dc(i,t,I)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Wu=n;else for(;null!==Wu;){t=Wu;try{var o=t.flags;if(32&o&&he(t.stateNode,""),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Ns=Je())}break;case 22:var l=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=l;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var v=p.stateNode;if(i){var m=v.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var y=p.stateNode,g=p.memoizedProps.style,k=void 0!==g&&null!==g&&g.hasOwnProperty("display")?g.display:null;y.style.display=ve("display",k)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(l&&!h&&0!==(1&n.mode)){Wu=n;for(var b=n.child;null!==b;){for(n=Wu=b;null!==Wu;){var w=(r=Wu).child;switch(r.tag){case 0:case 11:case 14:case 15:$u(4,r,r.return);break;case 1:Gu(r,r.return);var x=r.stateNode;if("function"===typeof x.componentWillUnmount){var _=r.return;try{x.props=r.memoizedProps,x.state=r.memoizedState,x.componentWillUnmount()}catch(I){dc(r,_,I)}}break;case 5:Gu(r,r.return);break;case 22:if(null!==r.memoizedState){ls(n);continue}}null!==w?(w.return=r,Wu=w):ls(n)}b=b.sibling}}}switch(4102&o){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,as(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,as(t.alternate,t);break;case 4:as(t.alternate,t)}}catch(I){dc(t,t.return,I)}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}}(e,r),hr(Xr),Xr=null,e.current=r,us(r,e,i),Ye(),ys=s,gt=u,ms.transition=o}else e.current=r;if(Ls&&(Ls=!1,Ms=e,Fs=i),0===(o=e.pendingLanes)&&(Os=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Ks(e,Je()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Ps)throw Ps=!1,e=Ds,Ds=null,e;0!==(1&Fs)&&0!==e.tag&&fc(),0!==(1&(o=e.pendingLanes))?e===Us?Vs++:(Vs=0,Us=e):Vs=0,Ui()}(e,t,n)}finally{ms.transition=r,gt=n}return null}function fc(){if(null!==Ms){var e=kt(Fs),t=ms.transition,n=gt;try{if(ms.transition=null,gt=16>e?16:e,null===Ms)var r=!1;else{if(e=Ms,Ms=null,Fs=0,0!==(6&ys))throw Error(a(331));var i=ys;for(ys|=4,Wu=e.current;null!==Wu;){var o=Wu,u=o.child;if(0!==(16&Wu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Wu=l;null!==Wu;){var f=Wu;switch(f.tag){case 0:case 11:case 15:$u(8,f,o)}var h=f.child;if(null!==h)h.return=f,Wu=h;else for(;null!==Wu;){var d=(f=Wu).sibling,p=f.return;if(Xu(f),f===l){Wu=null;break}if(null!==d){d.return=p,Wu=d;break}Wu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Wu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Wu=u;else e:for(;null!==Wu;){if(0!==(2048&(o=Wu).flags))switch(o.tag){case 0:case 11:case 15:$u(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Wu=g;break e}Wu=o.return}}var k=e.current;for(Wu=k;null!==Wu;){var b=(u=Wu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Wu=b;else e:for(u=k;null!==Wu;){if(0!==(2048&(s=Wu).flags))try{switch(s.tag){case 0:case 11:case 15:Qu(9,s)}}catch(x){dc(s,s.return,x)}if(s===u){Wu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Wu=w;break e}Wu=s.return}}if(ys=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{gt=n,ms.transition=t}}return!1}function hc(e,t,n){na(e,t=su(0,t=nu(n,t),1)),t=Bs(),null!==(e=Gs(e,1))&&(mt(e,1,t),Ks(e,t))}function dc(e,t,n){if(3===e.tag)hc(e,e,n);else for(;null!==t;){if(3===t.tag){hc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Os||!Os.has(r))){na(t,e=cu(t,e=nu(n,e),1)),e=Bs(),null!==(t=Gs(t,1))&&(mt(t,1,e),Ks(t,e));break}}t=t.return}}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Bs(),e.pingedLanes|=e.suspendedLanes&n,gs===e&&(bs&n)===n&&(4===_s||3===_s&&(130023424&bs)===bs&&500>Je()-Ns?tc(e,0):Ts|=n),Ks(e,t)}function vc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Bs();null!==(e=Gs(e,t))&&(mt(e,t,n),Ks(e,n))}function mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vc(e,n)}function yc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vc(e,n)}function gc(e,t){return He(e,t)}function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bc(e,t,n,r){return new kc(e,t,n,r)}function wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xc(e,t){var n=e.alternate;return null===n?((n=bc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _c(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)wc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Ic(n.children,i,o,t);case I:u=8,i|=8;break;case S:return(e=bc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=bc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=bc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Sc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=bc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ic(e,t,n,r){return(e=bc(7,e,r,t)).lanes=n,e}function Sc(e,t,n,r){return(e=bc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={},e}function Ec(e,t,n){return(e=bc(6,e,null,t)).lanes=n,e}function Tc(e,t,n){return(t=bc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ac(e,t,n,r,i,a,o,u,s){return e=new Cc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=bc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(a),e}function Nc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Rc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Pi(e,n,t)}return t}function Pc(e,t,n,r,i,a,o,u,s){return(e=Ac(n,r,!0,e,0,a,0,u,s)).context=Rc(null),n=e.current,(a=ta(r=Bs(),i=qs(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,mt(e,i,r),Ks(e,r),e}function Dc(e,t,n,r){var i=t.current,a=Bs(),o=qs(i);return n=Rc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Ws(i,o,a))&&ra(e,i,o),o}function Oc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Lc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Mc(e,t){Lc(e,t),(e=e.alternate)&&Lc(e,t)}hs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)yu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yu=!1,function(e,t,n){switch(t.tag){case 3:Tu(t),Fa();break;case 5:Xa(t);break;case 1:Ai(t.type)&&Di(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(Bi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ru(e,t,n):(_i(eo,1&eo.current),null!==(e=Uu(e,t,n))?e.sibling:null);_i(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,xu(e,t,n)}return Uu(e,t,n)}(e,t,n);yu=0!==(131072&e.flags)}else yu=!1,Aa&&0!==(1048576&t.flags)&&Ia(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ci(t,Si.current);Qi(t,n),i=yo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=Eu(null,t,r,!0,o,n)):(t.tag=0,Aa&&o&&Sa(t),gu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ji(r,e),i){case 0:t=Iu(null,t,r,e,n);break e;case 1:t=Su(null,t,r,e,n);break e;case 11:t=ku(null,t,r,e,n);break e;case 14:t=bu(null,t,r,ji(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:ji(r,i),n);case 3:e:{if(Tu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Cu(e,t,r,n,i=Error(a(424)));break e}for(Ca=oi(t.stateNode.containerInfo.firstChild),Ta=t,Aa=!0,Na=null,n=Wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fa(),r===i){t=Uu(e,t,n);break e}gu(e,t,r,n)}t=t.child}return t;case 5:return Xa(t),null===e&&Oa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Zr(r,i)?u=null:null!==o&&Zr(r,o)&&(t.flags|=32),_u(e,t),gu(e,t,u,n),t.child;case 6:return null===e&&Oa(t),null;case 13:return Ru(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):gu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ku(e,t,r,i=t.elementType===r?i:ji(r,i),n);case 7:return gu(e,t,t.pendingProps,n),t.child;case 8:case 12:return gu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,_i(Bi,r._currentValue),r._currentValue=u,null!==o)if(ar(o.value,u)){if(o.children===i.children&&!Ei.current){t=Uu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ta(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),$i(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),$i(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}gu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Qi(t,n),r=r(i=Yi(i)),t.flags|=1,gu(e,t,r,n),t.child;case 14:return i=ji(r=t.type,t.pendingProps),bu(e,t,r,i=ji(r.type,i),n);case 15:return wu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ai(r)?(e=!0,Di(t)):e=!1,Qi(t,n),fa(t,r,i),da(t,r,i,n),Eu(null,t,r,!0,e,n);case 19:return Vu(e,t,n);case 22:return xu(e,t,n)}throw Error(a(156,t.tag))};var Fc="function"===typeof reportError?reportError:function(e){console.error(e)};function Vc(e){this._internalRoot=e}function Uc(e){this._internalRoot=e}function zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bc(){}function qc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Oc(o);u.call(e)}}Dc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Oc(o);a.call(e)}}var o=Pc(t,r,e,0,null,!1,0,"",Bc);return e._reactRootContainer=o,e[fi]=o.current,zr(8===e.nodeType?e.parentNode:e),Zs(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Oc(s);u.call(e)}}var s=Ac(e,0,!1,null,0,!1,0,"",Bc);return e._reactRootContainer=s,e[fi]=s.current,zr(8===e.nodeType?e.parentNode:e),Zs((function(){Dc(t,s,n,r)})),s}(n,t,e,i,r);return Oc(o)}Uc.prototype.render=Vc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Dc(e,t,null,null)},Uc.prototype.unmount=Vc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zs((function(){Dc(null,e,null,null)})),t[fi]=null}},Uc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),Ks(t,Je()),0===(6&ys)&&(Rs=Je()+500,Ui()))}break;case 13:var r=Bs();Zs((function(){return Ws(e,1,r)})),Mc(e,1)}},wt=function(e){13===e.tag&&(Ws(e,134217728,Bs()),Mc(e,134217728))},xt=function(e){if(13===e.tag){var t=Bs(),n=qs(e);Ws(e,n,t),Mc(e,n)}},_t=function(){return gt},It=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=Xs,Ae=Zs;var Wc={usingClientEntryPoint:!1,Events:[mi,yi,gi,Ee,Te,Xs]},Gc={findFiberByHostInstance:vi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Kc={bundleType:Gc.bundleType,version:Gc.version,rendererPackageName:Gc.rendererPackageName,rendererConfig:Gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:Gc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{it=Hc.inject(Kc),at=Hc}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!zc(t))throw Error(a(200));return Nc(e,t,null,n)},t.createRoot=function(e,t){if(!zc(e))throw Error(a(299));var n=!1,r="",i=Fc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ac(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Vc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return Zs(e)},t.hydrate=function(e,t,n){if(!jc(t))throw Error(a(200));return qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!zc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Fc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Pc(t,null,e,1,null!=n?n:null,i,0,o,u),e[fi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Uc(t)},t.render=function(e,t,n){if(!jc(t))throw Error(a(200));return qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!jc(e))throw Error(a(40));return!!e._reactRootContainer&&(Zs((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Xs,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return qc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(I.prototype),s(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,S=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?_():(I=!1,S=null)}}else I=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=N,_=function(){P.postMessage(null)}}else _=function(){y(N,0)};function D(e){S=e,I||(I=!0,_())}function O(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".2843ca88.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="todo_app:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunktodo_app=self.webpackChunktodo_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return au},SDK_VERSION:function(){return ns},_DEFAULT_ENTRY_NAME:function(){return qu},_addComponent:function(){return Hu},_addOrOverwriteComponent:function(){return $u},_apps:function(){return Gu},_clearComponents:function(){return Xu},_components:function(){return Ku},_getProvider:function(){return Yu},_registerComponent:function(){return Qu},_removeServiceInstance:function(){return Ju},deleteApp:function(){return os},getApp:function(){return is},getApps:function(){return as},initializeApp:function(){return rs},onLog:function(){return cs},registerVersion:function(){return ss},setLogLevel:function(){return ls}});var t=n(791),r=n.t(t,2),i=n(164);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(e){return function(e){if(Array.isArray(e))return a(e)}(e)||o(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){if(Array.isArray(e))return e}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return c(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||l()}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=v(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function m(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=v(e))&&(r&&(r+=" "),r+=t);return r}function y(e,t){var n=p({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}function g(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}function k(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function w(e){if(e.type)return e;if("#"===e.charAt(0))return w(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(k(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(k(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function x(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function _(e){var t="hsl"===(e=w(e)).type?w(function(e){var t=(e=w(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),x({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function I(e,t){return e=w(e),t=b(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,x(e)}function S(e,t){if(e=w(e),t=b(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return x(e)}function E(e,t){if(e=w(e),t=b(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return x(e)}var T=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},C=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,A=T((function(e){return C.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var N=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),R=Math.abs,P=String.fromCharCode,D=Object.assign;function O(e){return e.trim()}function L(e,t,n){return e.replace(t,n)}function M(e,t){return e.indexOf(t)}function F(e,t){return 0|e.charCodeAt(t)}function V(e,t,n){return e.slice(t,n)}function U(e){return e.length}function z(e){return e.length}function j(e,t){return t.push(e),e}var B=1,q=1,W=0,G=0,K=0,H="";function $(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:B,column:q,length:o,return:""}}function Q(e,t){return D($("",null,null,"",null,null,0),e,{length:-e.length},t)}function Y(){return K=G>0?F(H,--G):0,q--,10===K&&(q=1,B--),K}function J(){return K=G<W?F(H,G++):0,q++,10===K&&(q=1,B++),K}function X(){return F(H,G)}function Z(){return G}function ee(e,t){return V(H,e,t)}function te(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ne(e){return B=q=1,W=U(H=e),G=0,[]}function re(e){return H="",e}function ie(e){return O(ee(G-1,ue(91===e?e+2:40===e?e+1:e)))}function ae(e){for(;(K=X())&&K<33;)J();return te(e)>2||te(K)>3?"":" "}function oe(e,t){for(;--t&&J()&&!(K<48||K>102||K>57&&K<65||K>70&&K<97););return ee(e,Z()+(t<6&&32==X()&&32==J()))}function ue(e){for(;J();)switch(K){case e:return G;case 34:case 39:34!==e&&39!==e&&ue(K);break;case 40:41===e&&ue(e);break;case 92:J()}return G}function se(e,t){for(;J()&&e+K!==57&&(e+K!==84||47!==X()););return"/*"+ee(t,G-1)+"*"+P(47===e?e:J())}function ce(e){for(;!te(X());)J();return ee(e,G)}var le="-ms-",fe="-moz-",he="-webkit-",de="comm",pe="rule",ve="decl",me="@keyframes";function ye(e,t){for(var n="",r=z(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function ge(e,t,n,r){switch(e.type){case"@import":case ve:return e.return=e.return||e.value;case de:return"";case me:return e.return=e.value+"{"+ye(e.children,r)+"}";case pe:e.value=e.props.join(",")}return U(n=ye(e.children,r))?e.return=e.value+"{"+n+"}":""}function ke(e,t){switch(function(e,t){return(((t<<2^F(e,0))<<2^F(e,1))<<2^F(e,2))<<2^F(e,3)}(e,t)){case 5103:return he+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return he+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return he+e+fe+e+le+e+e;case 6828:case 4268:return he+e+le+e+e;case 6165:return he+e+le+"flex-"+e+e;case 5187:return he+e+L(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return he+e+le+"flex-item-"+L(e,/flex-|-self/,"")+e;case 4675:return he+e+le+"flex-line-pack"+L(e,/align-content|flex-|-self/,"")+e;case 5548:return he+e+le+L(e,"shrink","negative")+e;case 5292:return he+e+le+L(e,"basis","preferred-size")+e;case 6060:return he+"box-"+L(e,"-grow","")+he+e+le+L(e,"grow","positive")+e;case 4554:return he+L(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return L(L(L(e,/(zoom-|grab)/,he+"$1"),/(image-set)/,he+"$1"),e,"")+e;case 5495:case 3959:return L(e,/(image-set\([^]*)/,he+"$1$`$1");case 4968:return L(L(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+he+e+e;case 4095:case 3583:case 4068:case 2532:return L(e,/(.+)-inline(.+)/,he+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(U(e)-1-t>6)switch(F(e,t+1)){case 109:if(45!==F(e,t+4))break;case 102:return L(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+fe+(108==F(e,t+3)?"$3":"$2-$3"))+e;case 115:return~M(e,"stretch")?ke(L(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==F(e,t+1))break;case 6444:switch(F(e,U(e)-3-(~M(e,"!important")&&10))){case 107:return L(e,":",":"+he)+e;case 101:return L(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+he+(45===F(e,14)?"inline-":"")+"box$3$1"+he+"$2$3$1"+le+"$2box$3")+e}break;case 5936:switch(F(e,t+11)){case 114:return he+e+le+L(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return he+e+le+L(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return he+e+le+L(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return he+e+le+e+e}return e}function be(e){return re(we("",null,null,null,[""],e=ne(e),0,[0],e))}function we(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,x=r,_=k;m;)switch(p=g,g=J()){case 40:if(108!=p&&58==_.charCodeAt(f-1)){-1!=M(_+=L(ie(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:_+=ie(g);break;case 9:case 10:case 13:case 32:_+=ae(p);break;case 92:_+=oe(Z()-1,7);continue;case 47:switch(X()){case 42:case 47:j(_e(se(J(),Z()),t,n),s);break;default:_+="/"}break;case 123*v:u[c++]=U(_)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:d>0&&U(_)-f&&j(d>32?Ie(_+";",r,n,f-1):Ie(L(_," ","")+";",r,n,f-2),s);break;case 59:_+=";";default:if(j(x=xe(_,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)we(_,t,x,x,b,a,f,u,w);else switch(h){case 100:case 109:case 115:we(e,x,x,r&&j(xe(e,x,x,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:we(_,x,x,x,[""],w,0,u,w)}}c=l=d=0,v=y=1,k=_="",f=o;break;case 58:f=1+U(_),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==Y())continue;switch(_+=P(g),g*v){case 38:y=l>0?1:(_+="\f",-1);break;case 44:u[c++]=(U(_)-1)*y,y=1;break;case 64:45===X()&&(_+=ie(J())),h=X(),l=f=U(k=_+=ce(Z())),g++;break;case 45:45===p&&2==U(_)&&(v=0)}}return a}function xe(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=z(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=V(e,f+1,f=R(v=o[p])),k=e;y<d;++y)(k=O(v>0?h[y]+" "+g:L(g,/&\f/g,h[y])))&&(s[m++]=k);return $(e,t,n,0===i?pe:u,s,c,l)}function _e(e,t,n){return $(e,t,n,de,P(K),V(e,2,-2),0)}function Ie(e,t,n,r){return $(e,t,n,ve,V(e,0,r),V(e,r+1,-1),r)}var Se=function(e,t,n){for(var r=0,i=0;r=i,i=X(),38===r&&12===i&&(t[n]=1),!te(i);)J();return ee(e,G)},Ee=function(e,t){return re(function(e,t){var n=-1,r=44;do{switch(te(r)){case 0:38===r&&12===X()&&(t[n]=1),e[n]+=Se(G-1,t,n);break;case 2:e[n]+=ie(r);break;case 4:if(44===r){e[++n]=58===X()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=P(r)}}while(r=J());return e}(ne(e),t))},Te=new WeakMap,Ce=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Te.get(n))&&!r){Te.set(e,!0);for(var i=[],a=Ee(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},Ae=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Ne=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ve:e.return=ke(e.value,e.length);break;case me:return ye([Q(e,{value:L(e.value,"@","@"+he)})],r);case pe:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ye([Q(e,{props:[L(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ye([Q(e,{props:[L(t,/:(plac\w+)/,":-webkit-input-$1")]}),Q(e,{props:[L(t,/:(plac\w+)/,":-moz-$1")]}),Q(e,{props:[L(t,/:(plac\w+)/,le+"input-$1")]})],r)}return""}))}}],Re=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Ne;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[ge,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=z(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([Ce,Ae].concat(r,l));a=function(e,t,n,r){s=n,function(e){ye(be(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new N({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var Pe=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},De={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Oe=/[A-Z]|^ms/g,Le=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Me=function(e){return 45===e.charCodeAt(1)},Fe=function(e){return null!=e&&"boolean"!==typeof e},Ve=T((function(e){return Me(e)?e:e.replace(Oe,"-$&").toLowerCase()})),Ue=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Le,(function(e,t,n){return je={name:t,styles:n,next:je},t}))}return 1===De[e]||Me(e)||"number"!==typeof t||0===t?t:t+"px"};function ze(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return je={name:n.name,styles:n.styles,next:je},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)je={name:r.name,styles:r.styles,next:je},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ze(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Fe(o)&&(r+=Ve(a)+":"+Ue(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=ze(e,t,o);switch(a){case"animation":case"animationName":r+=Ve(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Fe(o[s])&&(r+=Ve(a)+":"+Ue(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=je,a=n(e);return je=i,ze(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var je,Be=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var qe=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";je=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=ze(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=ze(n,t,e[o]),r&&(i+=a[o]);Be.lastIndex=0;for(var u,s="";null!==(u=Be.exec(i));)s+="-"+u[1];return{name:Pe(i)+s,styles:i,next:je}},We=(0,t.createContext)("undefined"!==typeof HTMLElement?Re({key:"css"}):null);We.Provider;var Ge=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(We);return e(n,i,r)}))},Ke=(0,t.createContext)({});r.useInsertionEffect&&r.useInsertionEffect;function He(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var $e=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Qe=function(e,t,n){$e(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},Ye=A,Je=function(e){return"theme"!==e},Xe=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Ye:Je},Ze=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},et=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};var tt=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;$e(t,n,r);et((function(){return Qe(t,n,r)}));return null},nt=function e(n,r){var i,a,o=n.__emotion_real===n,u=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var s=Ze(n,r,o),c=s||Xe(u),l=!c("as");return function(){var f=arguments,h=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var d=f.length,v=1;v<d;v++)h.push(f[v],f[0][v])}var m=Ge((function(e,n,r){var i=l&&e.as||u,o="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=(0,t.useContext)(Ke)}"string"===typeof e.className?o=He(n.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=qe(h.concat(f),n.registered,d);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?Xe(i):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(tt,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,t.createElement)(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=u,m.__emotion_styles=h,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,n){return e(t,p({},r,n,{shouldForwardProp:Ze(m,n,!0)})).apply(void 0,h)},m}},rt=nt.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){rt[e]=rt(e)}));var it=rt;function at(e,t){return it(e,t)}function ot(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function ut(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?p({},e):e;return ot(e)&&ot(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(ot(t[i])&&i in e&&ot(e[i])?r[i]=ut(e[i],t[i],n):r[i]=t[i])})),r}var st=["values","unit","step"];function ct(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=d(e,st),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return p({},e,h({},t.key,t.val))}),{})}(n),c=Object.keys(s);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function v(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return p({keys:c,values:s,up:l,down:f,between:v,only:function(e){return c.indexOf(e)+1<c.length?v(e,c[c.indexOf(e)+1]):l(e)},not:function(e){var t=c.indexOf(e);return 0===t?l(c[1]):t===c.length-1?f(c[t]):v(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var lt={borderRadius:4},ft={xs:0,sm:600,md:900,lg:1200,xl:1536},ht={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(ft[e],"px)")}};function dt(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||ht;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||ht;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||ft).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function pt(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function vt(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function mt(e){if("string"!==typeof e)throw new Error(k(7));return e.charAt(0).toUpperCase()+e.slice(1)}function yt(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function gt(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:yt(e,n)||i,t&&(r=t(r)),r}var kt=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=yt(e.theme,i)||{};return dt(e,n,(function(e){var n=gt(o,a,e);return e===n&&"string"===typeof e&&(n=gt(o,a,"".concat(t).concat("default"===e?"":mt(e)),e)),!1===r?n:h({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var bt=function(e,t){return t?ut(e,t,{clone:!1}):e};var wt={m:"margin",p:"padding"},xt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},_t={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},It=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!_t[e])return[e];e=_t[e]}var t=f(e.split(""),2),n=t[0],r=t[1],i=wt[n],a=xt[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),St=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Et=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Tt=[].concat(St,Et);function Ct(e,t,n,r){var i=yt(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function At(e){return Ct(e,"spacing",8)}function Nt(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function Rt(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=Nt(t,n),e}),{})}}(It(n),r);return dt(e,e[n],i)}function Pt(e,t){var n=At(e.theme);return Object.keys(e).map((function(r){return Rt(e,t,r,n)})).reduce(bt,{})}function Dt(e){return Pt(e,St)}function Ot(e){return Pt(e,Et)}function Lt(e){return Pt(e,Tt)}Dt.propTypes={},Dt.filterProps=St,Ot.propTypes={},Ot.filterProps=Et,Lt.propTypes={},Lt.filterProps=Tt;var Mt=Lt;function Ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=At({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var Vt=["breakpoints","palette","spacing","shape"];var Ut=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=d(e,Vt),c=ct(n),l=Ft(a),f=ut({breakpoints:c,direction:"ltr",components:{},palette:p({mode:"light"},i),spacing:l,shape:p({},lt,u)},s),h=arguments.length,v=new Array(h>1?h-1:0),m=1;m<h;m++)v[m-1]=arguments[m];return f=v.reduce((function(e,t){return ut(e,t)}),f)},zt=["variant"];function jt(e){return 0===e.length}function Bt(e){var t=e.variant,n=d(e,zt),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?jt(r)?e[t]:mt(e[t]):"".concat(jt(r)?t:mt(t)).concat(mt(e[t].toString()))})),r}var qt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?bt(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Wt(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Gt=kt({prop:"border",themeKey:"borders",transform:Wt}),Kt=kt({prop:"borderTop",themeKey:"borders",transform:Wt}),Ht=kt({prop:"borderRight",themeKey:"borders",transform:Wt}),$t=kt({prop:"borderBottom",themeKey:"borders",transform:Wt}),Qt=kt({prop:"borderLeft",themeKey:"borders",transform:Wt}),Yt=kt({prop:"borderColor",themeKey:"palette"}),Jt=kt({prop:"borderTopColor",themeKey:"palette"}),Xt=kt({prop:"borderRightColor",themeKey:"palette"}),Zt=kt({prop:"borderBottomColor",themeKey:"palette"}),en=kt({prop:"borderLeftColor",themeKey:"palette"}),tn=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=Ct(e.theme,"shape.borderRadius",4);return dt(e,e.borderRadius,(function(e){return{borderRadius:Nt(t,e)}}))}return null};tn.propTypes={},tn.filterProps=["borderRadius"];var nn=qt(Gt,Kt,Ht,$t,Qt,Yt,Jt,Xt,Zt,en,tn),rn=qt(kt({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),kt({prop:"display"}),kt({prop:"overflow"}),kt({prop:"textOverflow"}),kt({prop:"visibility"}),kt({prop:"whiteSpace"})),an=qt(kt({prop:"flexBasis"}),kt({prop:"flexDirection"}),kt({prop:"flexWrap"}),kt({prop:"justifyContent"}),kt({prop:"alignItems"}),kt({prop:"alignContent"}),kt({prop:"order"}),kt({prop:"flex"}),kt({prop:"flexGrow"}),kt({prop:"flexShrink"}),kt({prop:"alignSelf"}),kt({prop:"justifyItems"}),kt({prop:"justifySelf"})),on=function(e){if(void 0!==e.gap&&null!==e.gap){var t=Ct(e.theme,"spacing",8);return dt(e,e.gap,(function(e){return{gap:Nt(t,e)}}))}return null};on.propTypes={},on.filterProps=["gap"];var un=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=Ct(e.theme,"spacing",8);return dt(e,e.columnGap,(function(e){return{columnGap:Nt(t,e)}}))}return null};un.propTypes={},un.filterProps=["columnGap"];var sn=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=Ct(e.theme,"spacing",8);return dt(e,e.rowGap,(function(e){return{rowGap:Nt(t,e)}}))}return null};sn.propTypes={},sn.filterProps=["rowGap"];var cn=qt(on,un,sn,kt({prop:"gridColumn"}),kt({prop:"gridRow"}),kt({prop:"gridAutoFlow"}),kt({prop:"gridAutoColumns"}),kt({prop:"gridAutoRows"}),kt({prop:"gridTemplateColumns"}),kt({prop:"gridTemplateRows"}),kt({prop:"gridTemplateAreas"}),kt({prop:"gridArea"})),ln=qt(kt({prop:"position"}),kt({prop:"zIndex",themeKey:"zIndex"}),kt({prop:"top"}),kt({prop:"right"}),kt({prop:"bottom"}),kt({prop:"left"})),fn=qt(kt({prop:"color",themeKey:"palette"}),kt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),kt({prop:"backgroundColor",themeKey:"palette"})),hn=kt({prop:"boxShadow",themeKey:"shadows"});function dn(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var pn=kt({prop:"width",transform:dn}),vn=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return dt(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||ft[t]||dn(t)}}))}return null};vn.filterProps=["maxWidth"];var mn=kt({prop:"minWidth",transform:dn}),yn=kt({prop:"height",transform:dn}),gn=kt({prop:"maxHeight",transform:dn}),kn=kt({prop:"minHeight",transform:dn}),bn=(kt({prop:"size",cssProperty:"width",transform:dn}),kt({prop:"size",cssProperty:"height",transform:dn}),qt(pn,vn,mn,yn,gn,kn,kt({prop:"boxSizing"}))),wn=kt({prop:"fontFamily",themeKey:"typography"}),xn=kt({prop:"fontSize",themeKey:"typography"}),_n=kt({prop:"fontStyle",themeKey:"typography"}),In=kt({prop:"fontWeight",themeKey:"typography"}),Sn=kt({prop:"letterSpacing"}),En=kt({prop:"textTransform"}),Tn=kt({prop:"lineHeight"}),Cn=kt({prop:"textAlign"}),An=qt(kt({prop:"typography",cssProperty:!1,themeKey:"typography"}),wn,xn,_n,In,Sn,Tn,Cn,En),Nn={borders:nn.filterProps,display:rn.filterProps,flexbox:an.filterProps,grid:cn.filterProps,positions:ln.filterProps,palette:fn.filterProps,shadows:hn.filterProps,sizing:bn.filterProps,spacing:Mt.filterProps,typography:An.filterProps},Rn={borders:nn,display:rn,flexbox:an,grid:cn,positions:ln,palette:fn,shadows:hn,sizing:bn,spacing:Mt,typography:An},Pn=Object.keys(Nn).reduce((function(e,t){return Nn[t].forEach((function(n){e[n]=Rn[t]})),e}),{});function Dn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function On(e,t){return"function"===typeof e?e(t):e}var Ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(h(i={},e,n),h(i,"theme",r),i),o=t[e];return o?o(a):h({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=pt(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=On(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=bt(s,n(e,a,u));else{var o=dt({theme:u},a,(function(t){return h({},e,t)}));Dn(o,a)?s[e]=r({sx:a,theme:u}):s=bt(s,o)}else s=bt(s,n(e,a,u))})),vt(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();Ln.filterProps=["sx"];var Mn=Ln,Fn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Vn=["theme"],Un=["theme"];function zn(e){return 0===Object.keys(e).length}var jn=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Bn=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Bt(e.props);r[t]=e.style})),r},qn=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[Bt(n.props)])})),s};function Wn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Gn=Ut();function Kn(e,t,n){var r;return p({toolbar:(r={minHeight:56},h(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),h(r,e.up("sm"),{minHeight:64}),r)},n)}var Hn={black:"#000",white:"#fff"},$n={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Qn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Yn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Jn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Xn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Zn={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},er={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},tr=["mode","contrastThreshold","tonalOffset"],nr={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hn.white,default:Hn.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},rr={text:{primary:Hn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Hn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ir(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=E(e.main,i):"dark"===t&&(e.dark=S(e.main,a)))}function ar(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=d(e,tr),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Xn[200],light:Xn[50],dark:Xn[400]}:{main:Xn[700],light:Xn[400],dark:Xn[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Qn[200],light:Qn[50],dark:Qn[400]}:{main:Qn[500],light:Qn[300],dark:Qn[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Yn[500],light:Yn[300],dark:Yn[700]}:{main:Yn[700],light:Yn[400],dark:Yn[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Zn[400],light:Zn[300],dark:Zn[700]}:{main:Zn[700],light:Zn[500],dark:Zn[900]}}(n),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:er[400],light:er[300],dark:er[700]}:{main:er[800],light:er[500],dark:er[900]}}(n),v=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Jn[400],light:Jn[300],dark:Jn[700]}:{main:"#ed6c02",light:Jn[500],dark:Jn[900]}}(n);function m(e){var t=function(e,t){var n=_(e),r=_(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,rr.text.primary)>=i?rr.text.primary:nr.text.primary;return t}var y=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=p({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(k(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(k(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return ir(t,"light",u,o),ir(t,"dark",c,o),t.contrastText||(t.contrastText=m(t.main)),t},g={dark:rr,light:nr};return ut(p({common:Hn,mode:n,primary:y({color:s,name:"primary"}),secondary:y({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:l,name:"error"}),warning:y({color:v,name:"warning"}),info:y({color:f,name:"info"}),success:y({color:h,name:"success"}),grey:$n,contrastThreshold:i,getContrastText:m,augmentColor:y,tonalOffset:o},g[n]),u)}var or=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var ur={textTransform:"uppercase"},sr='"Roboto", "Helvetica", "Arial", sans-serif';function cr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?sr:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,h=void 0===f?500:f,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,k=n.allVariants,b=n.pxToRem,w=d(n,or);var x=o/14,_=b||function(e){return"".concat(e/g*x,"rem")},I=function(e,t,n,r,a){return p({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===sr?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,k);var o},S={h1:I(s,96,1.167,-1.5),h2:I(s,60,1.2,-.5),h3:I(l,48,1.167,0),h4:I(l,34,1.235,.25),h5:I(l,24,1.334,0),h6:I(h,20,1.6,.15),subtitle1:I(l,16,1.75,.15),subtitle2:I(h,14,1.57,.1),body1:I(l,16,1.5,.15),body2:I(l,14,1.43,.15),button:I(h,14,1.75,.4,ur),caption:I(l,12,1.66,.4),overline:I(l,12,2.66,1,ur)};return ut(p({htmlFontSize:g,pxToRem:_,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:m},S),w,{clone:!1})}function lr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var fr=["none",lr(0,2,1,-1,0,1,1,0,0,1,3,0),lr(0,3,1,-2,0,2,2,0,0,1,5,0),lr(0,3,3,-2,0,3,4,0,0,1,8,0),lr(0,2,4,-1,0,4,5,0,0,1,10,0),lr(0,3,5,-1,0,5,8,0,0,1,14,0),lr(0,3,5,-1,0,6,10,0,0,1,18,0),lr(0,4,5,-2,0,7,10,1,0,2,16,1),lr(0,5,5,-3,0,8,10,1,0,3,14,2),lr(0,5,6,-3,0,9,12,1,0,3,16,2),lr(0,6,6,-3,0,10,14,1,0,4,18,3),lr(0,6,7,-4,0,11,15,1,0,4,20,3),lr(0,7,8,-4,0,12,17,2,0,5,22,4),lr(0,7,8,-4,0,13,19,2,0,5,24,4),lr(0,7,9,-4,0,14,21,2,0,5,26,4),lr(0,8,9,-5,0,15,22,2,0,6,28,5),lr(0,8,10,-5,0,16,24,2,0,6,30,5),lr(0,8,11,-5,0,17,26,2,0,6,32,5),lr(0,9,11,-5,0,18,28,2,0,7,34,6),lr(0,9,12,-6,0,19,29,2,0,7,36,6),lr(0,10,13,-6,0,20,31,3,0,8,38,7),lr(0,10,13,-6,0,21,33,3,0,8,40,7),lr(0,10,14,-6,0,22,35,3,0,8,42,7),lr(0,11,14,-7,0,23,36,3,0,9,44,8),lr(0,11,15,-7,0,24,38,3,0,9,46,8)],hr=["duration","easing","delay"],dr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},pr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function vr(e){return"".concat(Math.round(e),"ms")}function mr(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function yr(e){var t=p({},dr,e.easing),n=p({},pr,e.duration);return p({getAutoHeightDuration:mr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;d(r,hr);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:vr(a)," ").concat(u," ").concat("string"===typeof c?c:vr(c))})).join(",")}},e,{easing:t,duration:n})}var gr={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},kr=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function br(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=d(e,kr),l=ar(i),f=Ut(e),h=ut(f,{mixins:Kn(f.breakpoints,f.spacing,n),palette:l,shadows:fr.slice(),typography:cr(l,s),transitions:yr(o),zIndex:p({},gr)});h=ut(h,c);for(var v=arguments.length,m=new Array(v>1?v-1:0),y=1;y<v;y++)m[y-1]=arguments[y];return h=m.reduce((function(e,t){return ut(e,t)}),h)}var wr=br(),xr=function(e){return Wn(e)&&"classes"!==e},_r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Gn:t,r=e.rootShouldForwardProp,i=void 0===r?Wn:r,a=e.slotShouldForwardProp,o=void 0===a?Wn:a,u=e.styleFunctionSx,c=void 0===u?Mn:u;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,u=r.slot,l=r.skipVariantsResolver,h=r.skipSx,v=r.overridesResolver,m=d(r,Fn),y=void 0!==l?l:u&&"Root"!==u||!1,g=h||!1;var k=Wn;"Root"===u?k=i:u&&(k=o);var b=at(e,p({shouldForwardProp:k,label:t},m)),w=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=d(t,Vn);return e(p({theme:zn(r)?n:r},i))}:e})):[],u=e;a&&v&&o.push((function(e){var t=zn(e.theme)?n:e.theme,r=jn(a,t);if(r){var i={};return Object.entries(r).forEach((function(t){var n=f(t,2),r=n[0],a=n[1];i[r]="function"===typeof a?a(e):a})),v(e,i)}return null})),a&&!y&&o.push((function(e){var t=zn(e.theme)?n:e.theme;return qn(e,Bn(a,t),t,a)})),g||o.push((function(e){var t=zn(e.theme)?n:e.theme;return c(p({},e,{theme:t}))}));var l=o.length-r.length;if(Array.isArray(e)&&l>0){var h=new Array(l).fill("");(u=[].concat(s(e),s(h))).raw=[].concat(s(e.raw),s(h))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=d(t,Un);return e(p({theme:zn(r)?n:r},i))});var m=b.apply(void 0,[u].concat(s(o)));return m};return b.withConfig&&(w.withConfig=b.withConfig),w}}({defaultTheme:wr,rootShouldForwardProp:xr}),Ir=_r;var Sr=t.createContext(null);function Er(){return t.useContext(Sr)}function Tr(e){return 0===Object.keys(e).length}var Cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Er();return!t||Tr(t)?e:t},Ar=Ut();var Nr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar;return Cr(e)};function Rr(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?y(t.components[n].defaultProps,r):r}({theme:Nr(r),name:n,props:t});return i}function Pr(e){return Rr({props:e.props,name:e.name,defaultTheme:wr})}function Dr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Or(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){Dr(e,t),Dr(n,t)}}),[e,n])}var Lr=Or,Mr="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;var Fr,Vr=function(e){var n=t.useRef(e);return Mr((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])},Ur=!0,zr=!1,jr={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Br(e){e.metaKey||e.altKey||e.ctrlKey||(Ur=!0)}function qr(){Ur=!1}function Wr(){"hidden"===this.visibilityState&&zr&&(Ur=!0)}function Gr(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Ur||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!jr[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Kr=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Br,!0),t.addEventListener("mousedown",qr,!0),t.addEventListener("pointerdown",qr,!0),t.addEventListener("touchstart",qr,!0),t.addEventListener("visibilitychange",Wr,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!Gr(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(zr=!0,window.clearTimeout(Fr),Fr=window.setTimeout((function(){zr=!1}),100),n.current=!1,!0)},ref:e}};function Hr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function $r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qr(e,t){return Qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qr(e,t)}var Yr=t.createContext(null);function Jr(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function Xr(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Zr(e,n,r){var i=Jr(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:Xr(u,"exit",e),enter:Xr(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:Xr(u,"exit",e),enter:Xr(u,"enter",e)})}})),a}var ei=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},ti=function(e){var n,r;function i(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind($r(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,Qr(n,r);var a=i.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,Jr(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:Xr(e,"appear",r),enter:Xr(e,"enter",r),exit:Xr(e,"exit",r)})}))):Zr(e,a,o),firstRender:!1}},a.handleExited=function(e,t){var n=Jr(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=p({},t.children);return delete n[e.key],{children:n}})))},a.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=d(e,["component","childFactory"]),a=this.state.contextValue,o=ei(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(Yr.Provider,{value:a},o):t.createElement(Yr.Provider,{value:a},t.createElement(n,i,o))},i}(t.Component);ti.propTypes={},ti.defaultProps={component:"div",childFactory:function(e){return e}};var ni=ti,ri=(n(110),r.useInsertionEffect?r.useInsertionEffect:t.useLayoutEffect),ii=Ge((function(e,n){var r=e.styles,i=qe([r],void 0,(0,t.useContext)(Ke)),a=(0,t.useRef)();return ri((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),ri((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&Qe(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function ai(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qe(t)}var oi=function(){var e=ai.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var ui=n(184);var si=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,c=e.in,l=e.onExited,h=e.timeout,d=f(t.useState(!1),2),p=d[0],v=d[1],y=m(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),g={width:s,height:s,top:-s/2+u,left:-s/2+o},k=m(r.child,p&&r.childLeaving,a&&r.childPulsate);return c||p||v(!0),t.useEffect((function(){if(!c&&null!=l){var e=setTimeout(l,h);return function(){clearTimeout(e)}}}),[l,c,h]),(0,ui.jsx)("span",{className:y,style:g,children:(0,ui.jsx)("span",{className:k})})},ci=function(e){return e},li=function(){var e=ci;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=ci}}}(),fi={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function hi(e,t){return fi[t]||"".concat(li.generate(e),"-").concat(t)}function di(e,t){var n={};return t.forEach((function(t){n[t]=hi(e,t)})),n}var pi,vi,mi,yi,gi,ki,bi,wi,xi=di("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),_i=["center","classes","className"],Ii=oi(gi||(gi=pi||(pi=Hr(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Si=oi(ki||(ki=vi||(vi=Hr(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Ei=oi(bi||(bi=mi||(mi=Hr(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Ti=Ir("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ci=Ir(si,{name:"MuiTouchRipple",slot:"Ripple"})(wi||(wi=yi||(yi=Hr(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),xi.rippleVisible,Ii,550,(function(e){return e.theme.transitions.easing.easeInOut}),xi.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),xi.child,xi.childLeaving,Si,550,(function(e){return e.theme.transitions.easing.easeInOut}),xi.childPulsate,Ei,(function(e){return e.theme.transitions.easing.easeInOut})),Ai=t.forwardRef((function(e,n){var r=Pr({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,u=void 0===o?{}:o,c=r.className,l=d(r,_i),h=f(t.useState([]),2),v=h[0],y=h[1],g=t.useRef(0),k=t.useRef(null);t.useEffect((function(){k.current&&(k.current(),k.current=null)}),[v]);var b=t.useRef(!1),w=t.useRef(null),x=t.useRef(null),_=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(w.current)}}),[]);var I=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;y((function(e){return[].concat(s(e),[(0,ui.jsx)(Ci,{classes:{ripple:m(u.ripple,xi.ripple),rippleVisible:m(u.rippleVisible,xi.rippleVisible),ripplePulsate:m(u.ripplePulsate,xi.ripplePulsate),child:m(u.child,xi.child),childLeaving:m(u.childLeaving,xi.childLeaving),childPulsate:m(u.childPulsate,xi.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},g.current)])})),g.current+=1,k.current=a}),[u]),S=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&b.current)b.current=!1;else{"touchstart"===e.type&&(b.current=!0);var l,f,h,d=c?null:_.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,y=v.clientY;l=Math.round(m-p.left),f=Math.round(y-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var g=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,k=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(g,2)+Math.pow(k,2))}e.touches?null===x.current&&(x.current=function(){I({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},w.current=setTimeout((function(){x.current&&(x.current(),x.current=null)}),80)):I({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,I]),E=t.useCallback((function(){S({},{pulsate:!0})}),[S]),T=t.useCallback((function(e,t){if(clearTimeout(w.current),"touchend"===e.type&&x.current)return x.current(),x.current=null,void(w.current=setTimeout((function(){T(e,t)})));x.current=null,y((function(e){return e.length>0?e.slice(1):e})),k.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:E,start:S,stop:T}}),[E,S,T]),(0,ui.jsx)(Ti,p({className:m(u.root,xi.root,c),ref:_},l,{children:(0,ui.jsx)(ni,{component:null,exit:!0,children:v})}))})),Ni=Ai;function Ri(e){return hi("MuiButtonBase",e)}var Pi,Di=di("MuiButtonBase",["root","disabled","focusVisible"]),Oi=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Li=Ir("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((h(Pi={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(Di.disabled),{pointerEvents:"none",cursor:"default"}),h(Pi,"@media print",{colorAdjust:"exact"}),Pi)),Mi=t.forwardRef((function(e,n){var r=Pr({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,u=r.children,s=r.className,c=r.component,l=void 0===c?"button":c,h=r.disabled,v=void 0!==h&&h,y=r.disableRipple,k=void 0!==y&&y,b=r.disableTouchRipple,w=void 0!==b&&b,x=r.focusRipple,_=void 0!==x&&x,I=r.LinkComponent,S=void 0===I?"a":I,E=r.onBlur,T=r.onClick,C=r.onContextMenu,A=r.onDragLeave,N=r.onFocus,R=r.onFocusVisible,P=r.onKeyDown,D=r.onKeyUp,O=r.onMouseDown,L=r.onMouseLeave,M=r.onMouseUp,F=r.onTouchEnd,V=r.onTouchMove,U=r.onTouchStart,z=r.tabIndex,j=void 0===z?0:z,B=r.TouchRippleProps,q=r.touchRippleRef,W=r.type,G=d(r,Oi),K=t.useRef(null),H=t.useRef(null),$=Lr(H,q),Q=Kr(),Y=Q.isFocusVisibleRef,J=Q.onFocus,X=Q.onBlur,Z=Q.ref,ee=f(t.useState(!1),2),te=ee[0],ne=ee[1];v&&te&&ne(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){ne(!0),K.current.focus()}}}),[]);var re=f(t.useState(!1),2),ie=re[0],ae=re[1];t.useEffect((function(){ae(!0)}),[]);var oe=ie&&!k&&!v;function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return Vr((function(r){return t&&t(r),!n&&H.current&&H.current[e](r),!0}))}t.useEffect((function(){te&&_&&!k&&ie&&H.current.pulsate()}),[k,_,te,ie]);var se=ue("start",O),ce=ue("stop",C),le=ue("stop",A),fe=ue("stop",M),he=ue("stop",(function(e){te&&e.preventDefault(),L&&L(e)})),de=ue("start",U),pe=ue("stop",F),ve=ue("stop",V),me=ue("stop",(function(e){X(e),!1===Y.current&&ne(!1),E&&E(e)}),!1),ye=Vr((function(e){K.current||(K.current=e.currentTarget),J(e),!0===Y.current&&(ne(!0),R&&R(e)),N&&N(e)})),ge=function(){var e=K.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},ke=t.useRef(!1),be=Vr((function(e){_&&!ke.current&&te&&H.current&&" "===e.key&&(ke.current=!0,H.current.stop(e,(function(){H.current.start(e)}))),e.target===e.currentTarget&&ge()&&" "===e.key&&e.preventDefault(),P&&P(e),e.target===e.currentTarget&&ge()&&"Enter"===e.key&&!v&&(e.preventDefault(),T&&T(e))})),we=Vr((function(e){_&&" "===e.key&&H.current&&te&&!e.defaultPrevented&&(ke.current=!1,H.current.stop(e,(function(){H.current.pulsate(e)}))),D&&D(e),T&&e.target===e.currentTarget&&ge()&&" "===e.key&&!e.defaultPrevented&&T(e)})),xe=l;"button"===xe&&(G.href||G.to)&&(xe=S);var _e={};"button"===xe?(_e.type=void 0===W?"button":W,_e.disabled=v):(G.href||G.to||(_e.role="button"),v&&(_e["aria-disabled"]=v));var Ie=Lr(Z,K),Se=Lr(n,Ie);var Ee=p({},r,{centerRipple:o,component:l,disabled:v,disableRipple:k,disableTouchRipple:w,focusRipple:_,tabIndex:j,focusVisible:te}),Te=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=g({root:["root",t&&"disabled",n&&"focusVisible"]},Ri,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Ee);return(0,ui.jsxs)(Li,p({as:xe,className:m(Te.root,s),ownerState:Ee,onBlur:me,onClick:T,onContextMenu:ce,onFocus:ye,onKeyDown:be,onKeyUp:we,onMouseDown:se,onMouseLeave:he,onMouseUp:fe,onDragLeave:le,onTouchEnd:pe,onTouchMove:ve,onTouchStart:de,ref:Se,tabIndex:v?-1:j,type:W},_e,G,{children:[u,oe?(0,ui.jsx)(Ni,p({ref:$,center:o},B)):null]}))})),Fi=Mi,Vi=mt;function Ui(e){return hi("MuiButton",e)}var zi=di("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var ji=t.createContext({}),Bi=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],qi=function(e){return p({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},Wi=Ir(Fi,{shouldForwardProp:function(e){return xr(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Vi(n.color))],t["size".concat(Vi(n.size))],t["".concat(n.variant,"Size").concat(Vi(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState;return p({},i.typography.button,(h(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":p({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):I(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):I(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):I(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":p({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(zi.focusVisible),p({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),h(t,"&.".concat(zi.disabled),p({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"outlined"===a.variant&&"secondary"===a.color&&{border:"1px solid ".concat((i.vars||i).palette.action.disabled)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat(I(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(h(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(zi.focusVisible),{boxShadow:"none"}),h(t,"&:active",{boxShadow:"none"}),h(t,"&.".concat(zi.disabled),{boxShadow:"none"}),t)})),Gi=Ir("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(Vi(n.size))]]}})((function(e){var t=e.ownerState;return p({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},qi(t))})),Ki=Ir("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(Vi(n.size))]]}})((function(e){var t=e.ownerState;return p({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},qi(t))})),Hi=t.forwardRef((function(e,n){var r=t.useContext(ji),i=Pr({props:y(r,e),name:"MuiButton"}),a=i.children,o=i.color,u=void 0===o?"primary":o,s=i.component,c=void 0===s?"button":s,l=i.className,f=i.disabled,h=void 0!==f&&f,v=i.disableElevation,k=void 0!==v&&v,b=i.disableFocusRipple,w=void 0!==b&&b,x=i.endIcon,_=i.focusVisibleClassName,I=i.fullWidth,S=void 0!==I&&I,E=i.size,T=void 0===E?"medium":E,C=i.startIcon,A=i.type,N=i.variant,R=void 0===N?"text":N,P=d(i,Bi),D=p({},i,{color:u,component:c,disabled:h,disableElevation:k,disableFocusRipple:w,fullWidth:S,size:T,type:A,variant:R}),O=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return p({},o,g({root:["root",a,"".concat(a).concat(Vi(t)),"size".concat(Vi(i)),"".concat(a,"Size").concat(Vi(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(Vi(i))],endIcon:["endIcon","iconSize".concat(Vi(i))]},Ui,o))}(D),L=C&&(0,ui.jsx)(Gi,{className:O.startIcon,ownerState:D,children:C}),M=x&&(0,ui.jsx)(Ki,{className:O.endIcon,ownerState:D,children:x});return(0,ui.jsxs)(Wi,p({ownerState:D,className:m(l,r.className),component:c,disabled:h,focusRipple:!w,focusVisibleClassName:m(O.focusVisible,_),ref:n,type:A},P,{classes:O,children:[L,a,M]}))})),$i=Hi;function Qi(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Yi(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Qi(e.value)&&""!==e.value||t&&Qi(e.defaultValue)&&""!==e.defaultValue)}var Ji=function(e,n){return t.isValidElement(e)&&-1!==n.indexOf(e.type.muiName)};var Xi=t.createContext();function Zi(e){return hi("MuiFormControl",e)}di("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var ea=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],ta=Ir("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return p({},t.root,t["margin".concat(Vi(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return p({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),na=t.forwardRef((function(e,n){var r=Pr({props:e,name:"MuiFormControl"}),i=r.children,a=r.className,o=r.color,u=void 0===o?"primary":o,s=r.component,c=void 0===s?"div":s,l=r.disabled,h=void 0!==l&&l,v=r.error,y=void 0!==v&&v,k=r.focused,b=r.fullWidth,w=void 0!==b&&b,x=r.hiddenLabel,_=void 0!==x&&x,I=r.margin,S=void 0===I?"none":I,E=r.required,T=void 0!==E&&E,C=r.size,A=void 0===C?"medium":C,N=r.variant,R=void 0===N?"outlined":N,P=d(r,ea),D=p({},r,{color:u,component:c,disabled:h,error:y,fullWidth:w,hiddenLabel:_,margin:S,required:T,size:A,variant:R}),O=function(e){var t=e.classes,n=e.margin,r=e.fullWidth;return g({root:["root","none"!==n&&"margin".concat(Vi(n)),r&&"fullWidth"]},Zi,t)}(D),L=f(t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){if(Ji(t,["Input","Select"])){var n=Ji(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),2),M=L[0],F=L[1],V=f(t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){Ji(t,["Input","Select"])&&Yi(t.props,!0)&&(e=!0)})),e})),2),U=V[0],z=V[1],j=f(t.useState(!1),2),B=j[0],q=j[1];h&&B&&q(!1);var W=void 0===k||h?B:k,G=t.useCallback((function(){z(!0)}),[]),K={adornedStart:M,setAdornedStart:F,color:u,disabled:h,error:y,filled:U,focused:W,fullWidth:w,hiddenLabel:_,size:A,onBlur:function(){q(!1)},onEmpty:t.useCallback((function(){z(!1)}),[]),onFilled:G,onFocus:function(){q(!0)},registerEffect:undefined,required:T,variant:R};return(0,ui.jsx)(Xi.Provider,{value:K,children:(0,ui.jsx)(ta,p({as:c,ownerState:D,className:m(O.root,a),ref:n},P,{children:i}))})})),ra=na;function ia(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}function aa(){return t.useContext(Xi)}function oa(e){return hi("MuiFormLabel",e)}var ua=di("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),sa=["children","className","color","component","disabled","error","filled","focused","required"],ca=Ir("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return p({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return p({color:n.palette.text.secondary},n.typography.body1,(h(t={lineHeight:"1.4375em",padding:0,position:"relative"},"&.".concat(ua.focused),{color:n.palette[r.color].main}),h(t,"&.".concat(ua.disabled),{color:n.palette.text.disabled}),h(t,"&.".concat(ua.error),{color:n.palette.error.main}),t))})),la=Ir("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return h({},"&.".concat(ua.error),{color:t.palette.error.main})})),fa=t.forwardRef((function(e,t){var n=Pr({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"label":a,u=d(n,sa),s=ia({props:n,muiFormControl:aa(),states:["color","required","focused","disabled","error","filled"]}),c=p({},n,{color:s.color||"primary",component:o,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),l=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,u=e.required;return g({root:["root","color".concat(Vi(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",a&&"error"]},oa,t)}(c);return(0,ui.jsxs)(ca,p({as:o,ownerState:c,className:m(l.root,i),ref:t},u,{children:[r,s.required&&(0,ui.jsxs)(la,{ownerState:c,"aria-hidden":!0,className:l.asterisk,children:["\u2009","*"]})]}))})),ha=fa;function da(e){return hi("MuiInputLabel",e)}di("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var pa=["disableAnimation","margin","shrink","variant"],va=Ir(ha,{shouldForwardProp:function(e){return xr(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[h({},"& .".concat(ua.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return p({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&p({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&p({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&p({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),ma=t.forwardRef((function(e,t){var n=Pr({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,a=n.shrink,o=d(n,pa),u=aa(),s=a;"undefined"===typeof s&&u&&(s=u.filled||u.focused||u.adornedStart);var c=ia({props:n,muiFormControl:u,states:["size","variant","required"]}),l=p({},n,{disableAnimation:i,formControl:u,shrink:s,size:c.size,variant:c.variant,required:c.required}),f=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink;return p({},t,g({root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},da,t))}(l);return(0,ui.jsx)(va,p({"data-shrink":s,ownerState:l,ref:t},o,{classes:f}))}));function ya(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t.defaultView||window}var ga=["onChange","maxRows","minRows","style","value"];function ka(e,t){return parseInt(e[t],10)||0}var ba={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},wa=t.forwardRef((function(e,n){var r=e.onChange,i=e.maxRows,a=e.minRows,o=void 0===a?1:a,u=e.style,s=e.value,c=d(e,ga),l=t.useRef(null!=s).current,h=t.useRef(null),v=Or(n,h),m=t.useRef(null),y=t.useRef(0),g=f(t.useState({}),2),k=g[0],b=g[1],w=t.useCallback((function(){var t=h.current,n=ya(t).getComputedStyle(t);if("0px"!==n.width){var r=m.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var a=n["box-sizing"],u=ka(n,"padding-bottom")+ka(n,"padding-top"),s=ka(n,"border-bottom-width")+ka(n,"border-top-width"),c=r.scrollHeight;r.value="x";var l=r.scrollHeight,f=c;o&&(f=Math.max(Number(o)*l,f)),i&&(f=Math.min(Number(i)*l,f));var d=(f=Math.max(f,l))+("border-box"===a?u+s:0),p=Math.abs(f-c)<=1;b((function(e){return y.current<20&&(d>0&&Math.abs((e.outerHeightStyle||0)-d)>1||e.overflow!==p)?(y.current+=1,{overflow:p,outerHeightStyle:d}):e}))}}),[i,o,e.placeholder]);t.useEffect((function(){var e,t=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}((function(){y.current=0,w()})),n=ya(h.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(h.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[w]),Mr((function(){w()})),t.useEffect((function(){y.current=0}),[s]);return(0,ui.jsxs)(t.Fragment,{children:[(0,ui.jsx)("textarea",p({value:s,onChange:function(e){y.current=0,l||w(),r&&r(e)},ref:v,rows:o,style:p({height:k.outerHeightStyle,overflow:k.overflow?"hidden":null},u)},c)),(0,ui.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:p({},ba,u,{padding:0})})]})})),xa=wa;var _a=function(e){return"string"===typeof e},Ia=Mr;function Sa(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,ui.jsx)(ii,{styles:i})}var Ea=function(e){return(0,ui.jsx)(Sa,p({},e,{defaultTheme:wr}))};function Ta(e){return hi("MuiInputBase",e)}var Ca=di("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Aa=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],Na=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Vi(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Ra=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Pa=Ir("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Na})((function(e){var t=e.theme,n=e.ownerState;return p({},t.typography.body1,h({color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(Ca.disabled),{color:t.palette.text.disabled,cursor:"default"}),n.multiline&&p({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),Da=Ir("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Ra})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,a={color:"currentColor",opacity:i?.42:.5,transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},o={opacity:"0 !important"},u={opacity:i?.42:.5};return p((h(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(Ca.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u}),h(t,"&.".concat(Ca.disabled),{opacity:1,WebkitTextFillColor:n.palette.text.disabled}),h(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),Oa=(0,ui.jsx)(Ea,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),La=t.forwardRef((function(e,n){var r=Pr({props:e,name:"MuiInputBase"}),i=r["aria-describedby"],a=r.autoComplete,o=r.autoFocus,u=r.className,s=r.components,c=void 0===s?{}:s,l=r.componentsProps,h=void 0===l?{}:l,v=r.defaultValue,y=r.disabled,b=r.disableInjectingGlobalStyles,w=r.endAdornment,x=r.fullWidth,_=void 0!==x&&x,I=r.id,S=r.inputComponent,E=void 0===S?"input":S,T=r.inputProps,C=void 0===T?{}:T,A=r.inputRef,N=r.maxRows,R=r.minRows,P=r.multiline,D=void 0!==P&&P,O=r.name,L=r.onBlur,M=r.onChange,F=r.onClick,V=r.onFocus,U=r.onKeyDown,z=r.onKeyUp,j=r.placeholder,B=r.readOnly,q=r.renderSuffix,W=r.rows,G=r.startAdornment,K=r.type,H=void 0===K?"text":K,$=r.value,Q=d(r,Aa),Y=null!=C.value?C.value:$,J=t.useRef(null!=Y).current,X=t.useRef(),Z=t.useCallback((function(e){0}),[]),ee=Lr(C.ref,Z),te=Lr(A,ee),ne=Lr(X,te),re=f(t.useState(!1),2),ie=re[0],ae=re[1],oe=aa();var ue=ia({props:r,muiFormControl:oe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ue.focused=oe?oe.focused:ie,t.useEffect((function(){!oe&&y&&ie&&(ae(!1),L&&L())}),[oe,y,ie,L]);var se=oe&&oe.onFilled,ce=oe&&oe.onEmpty,le=t.useCallback((function(e){Yi(e)?se&&se():ce&&ce()}),[se,ce]);Ia((function(){J&&le({value:Y})}),[Y,le,J]);t.useEffect((function(){le(X.current)}),[]);var fe=E,he=C;D&&"input"===fe&&(he=p(W?{type:void 0,minRows:W,maxRows:W}:{type:void 0,maxRows:N,minRows:R},he),fe=xa);t.useEffect((function(){oe&&oe.setAdornedStart(Boolean(G))}),[oe,G]);var de=p({},r,{color:ue.color||"primary",disabled:ue.disabled,endAdornment:w,error:ue.error,focused:ue.focused,formControl:oe,fullWidth:_,hiddenLabel:ue.hiddenLabel,multiline:D,size:ue.size,startAdornment:G,type:H}),pe=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,u=e.formControl,s=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.size,h=e.startAdornment,d=e.type;return g({root:["root","color".concat(Vi(n)),r&&"disabled",i&&"error",s&&"fullWidth",o&&"focused",u&&"formControl","small"===f&&"sizeSmall",l&&"multiline",h&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel"],input:["input",r&&"disabled","search"===d&&"inputTypeSearch",l&&"inputMultiline","small"===f&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd"]},Ta,t)}(de),ve=c.Root||Pa,me=h.root||{},ye=c.Input||Da;return he=p({},he,h.input),(0,ui.jsxs)(t.Fragment,{children:[!b&&Oa,(0,ui.jsxs)(ve,p({},me,!_a(ve)&&{ownerState:p({},de,me.ownerState)},{ref:n,onClick:function(e){X.current&&e.currentTarget===e.target&&X.current.focus(),F&&F(e)}},Q,{className:m(pe.root,me.className,u),children:[G,(0,ui.jsx)(Xi.Provider,{value:null,children:(0,ui.jsx)(ye,p({ownerState:de,"aria-invalid":ue.error,"aria-describedby":i,autoComplete:a,autoFocus:o,defaultValue:v,disabled:ue.disabled,id:I,onAnimationStart:function(e){le("mui-auto-fill-cancel"===e.animationName?X.current:{value:"x"})},name:O,placeholder:j,readOnly:B,required:ue.required,rows:W,value:Y,onKeyDown:U,onKeyUp:z,type:H},he,!_a(ye)&&{as:fe,ownerState:p({},de,he.ownerState)},{ref:ne,className:m(pe.input,he.className),onBlur:function(e){L&&L(e),C.onBlur&&C.onBlur(e),oe&&oe.onBlur?oe.onBlur(e):ae(!1)},onChange:function(e){if(!J){var t=e.target||X.current;if(null==t)throw new Error(k(1));le({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];C.onChange&&C.onChange.apply(C,[e].concat(r)),M&&M.apply(void 0,[e].concat(r))},onFocus:function(e){ue.disabled?e.stopPropagation():(V&&V(e),C.onFocus&&C.onFocus(e),oe&&oe.onFocus?oe.onFocus(e):ae(!0))}}))}),w,q?q(p({},ue,{startAdornment:G})):null]}))]})})),Ma=La;function Fa(e){return hi("MuiInput",e)}var Va=p({},Ca,di("MuiInput",["root","underline","input"])),Ua=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],za=Ir(Pa,{shouldForwardProp:function(e){return xr(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(s(Na(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return p({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(h(t={"&:after":{borderBottom:"2px solid ".concat(n.palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(Va.focused,":after"),{transform:"scaleX(1)"}),h(t,"&.".concat(Va.error,":after"),{borderBottomColor:n.palette.error.main,transform:"scaleX(1)"}),h(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),h(t,"&:hover:not(.".concat(Va.disabled,"):before"),{borderBottom:"2px solid ".concat(n.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),h(t,"&.".concat(Va.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),ja=Ir(Da,{name:"MuiInput",slot:"Input",overridesResolver:Ra})({}),Ba=t.forwardRef((function(e,t){var n=Pr({props:e,name:"MuiInput"}),r=n.disableUnderline,i=n.components,a=void 0===i?{}:i,o=n.componentsProps,u=n.fullWidth,s=void 0!==u&&u,c=n.inputComponent,l=void 0===c?"input":c,f=n.multiline,h=void 0!==f&&f,v=n.type,m=void 0===v?"text":v,y=d(n,Ua),k=function(e){var t=e.classes;return p({},t,g({root:["root",!e.disableUnderline&&"underline"],input:["input"]},Fa,t))}(n),b={root:{ownerState:{disableUnderline:r}}},w=o?ut(o,b):b;return(0,ui.jsx)(Ma,p({components:p({Root:za,Input:ja},a),componentsProps:w,fullWidth:s,inputComponent:l,multiline:h,ref:t,type:m},y,{classes:k}))}));Ba.muiName="Input";var qa=Ba;var Wa=t.createContext({});function Ga(e){return hi("MuiList",e)}di("MuiList",["root","padding","dense","subheader"]);var Ka=["children","className","component","dense","disablePadding","subheader"],Ha=Ir("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return p({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),$a=t.forwardRef((function(e,n){var r=Pr({props:e,name:"MuiList"}),i=r.children,a=r.className,o=r.component,u=void 0===o?"ul":o,s=r.dense,c=void 0!==s&&s,l=r.disablePadding,f=void 0!==l&&l,h=r.subheader,v=d(r,Ka),y=t.useMemo((function(){return{dense:c}}),[c]),k=p({},r,{component:u,dense:c,disablePadding:f}),b=function(e){var t=e.classes;return g({root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]},Ga,t)}(k);return(0,ui.jsx)(Wa.Provider,{value:y,children:(0,ui.jsxs)(Ha,p({as:u,className:m(b.root,a),ref:n,ownerState:k},v,{children:[h,i]}))})}));function Qa(e){return hi("MuiListItem",e)}var Ya=di("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);var Ja=di("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Xa(e){return hi("MuiListItemSecondaryAction",e)}di("MuiListItemSecondaryAction",["root","disableGutters"]);var Za=["className"],eo=Ir("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.disableGutters&&t.disableGutters]}})((function(e){return p({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.ownerState.disableGutters&&{right:0})})),to=t.forwardRef((function(e,n){var r=Pr({props:e,name:"MuiListItemSecondaryAction"}),i=r.className,a=d(r,Za),o=p({},r,{disableGutters:t.useContext(Wa).disableGutters}),u=function(e){return g({root:["root",e.disableGutters&&"disableGutters"]},Xa,e.classes)}(o);return(0,ui.jsx)(eo,p({className:m(u.root,i),ownerState:o,ref:n},a))}));to.muiName="ListItemSecondaryAction";var no=to,ro=["className"],io=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected"],ao=Ir("div",{name:"MuiListItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((function(e){var t,n=e.theme,r=e.ownerState;return p({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!r.disablePadding&&p({paddingTop:8,paddingBottom:8},r.dense&&{paddingTop:4,paddingBottom:4},!r.disableGutters&&{paddingLeft:16,paddingRight:16},!!r.secondaryAction&&{paddingRight:48}),!!r.secondaryAction&&h({},"& > .".concat(Ja.root),{paddingRight:48}),(h(t={},"&.".concat(Ya.focusVisible),{backgroundColor:n.palette.action.focus}),h(t,"&.".concat(Ya.selected),h({backgroundColor:I(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(Ya.focusVisible),{backgroundColor:I(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),h(t,"&.".concat(Ya.disabled),{opacity:n.palette.action.disabledOpacity}),t),"flex-start"===r.alignItems&&{alignItems:"flex-start"},r.divider&&{borderBottom:"1px solid ".concat(n.palette.divider),backgroundClip:"padding-box"},r.button&&h({transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:n.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(Ya.selected,":hover"),{backgroundColor:I(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:I(n.palette.primary.main,n.palette.action.selectedOpacity)}}),r.hasSecondaryAction&&{paddingRight:48})})),oo=Ir("li",{name:"MuiListItem",slot:"Container",overridesResolver:function(e,t){return t.container}})({position:"relative"}),uo=t.forwardRef((function(e,n){var r=Pr({props:e,name:"MuiListItem"}),i=r.alignItems,a=void 0===i?"center":i,o=r.autoFocus,u=void 0!==o&&o,s=r.button,c=void 0!==s&&s,l=r.children,f=r.className,h=r.component,v=r.components,y=void 0===v?{}:v,k=r.componentsProps,b=void 0===k?{}:k,w=r.ContainerComponent,x=void 0===w?"li":w,_=r.ContainerProps,I=(_=void 0===_?{}:_).className,S=r.dense,E=void 0!==S&&S,T=r.disabled,C=void 0!==T&&T,A=r.disableGutters,N=void 0!==A&&A,R=r.disablePadding,P=void 0!==R&&R,D=r.divider,O=void 0!==D&&D,L=r.focusVisibleClassName,M=r.secondaryAction,F=r.selected,V=void 0!==F&&F,U=d(r.ContainerProps,ro),z=d(r,io),j=t.useContext(Wa),B={dense:E||j.dense||!1,alignItems:a,disableGutters:N},q=t.useRef(null);Ia((function(){u&&q.current&&q.current.focus()}),[u]);var W=t.Children.toArray(l),G=W.length&&Ji(W[W.length-1],["ListItemSecondaryAction"]),K=p({},r,{alignItems:a,autoFocus:u,button:c,dense:B.dense,disabled:C,disableGutters:N,disablePadding:P,divider:O,hasSecondaryAction:G,selected:V}),H=function(e){var t=e.alignItems,n=e.button,r=e.classes,i=e.dense,a=e.disabled;return g({root:["root",i&&"dense",!e.disableGutters&&"gutters",!e.disablePadding&&"padding",e.divider&&"divider",a&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",e.hasSecondaryAction&&"secondaryAction",e.selected&&"selected"],container:["container"]},Qa,r)}(K),$=Lr(q,n),Q=y.Root||ao,Y=b.root||{},J=p({className:m(H.root,Y.className,f),disabled:C},z),X=h||"li";return c&&(J.component=h||"div",J.focusVisibleClassName=m(Ya.focusVisible,L),X=Fi),G?(X=J.component||h?X:"div","li"===x&&("li"===X?X="div":"li"===J.component&&(J.component="div")),(0,ui.jsx)(Wa.Provider,{value:B,children:(0,ui.jsxs)(oo,p({as:x,className:m(H.container,I),ref:$,ownerState:K},U,{children:[(0,ui.jsx)(Q,p({},Y,!_a(Q)&&{as:X,ownerState:p({},K,Y.ownerState)},J,{children:W})),W.pop()]}))})):(0,ui.jsx)(Wa.Provider,{value:B,children:(0,ui.jsxs)(Q,p({},Y,{as:X,ref:$,ownerState:K},!_a(Q)&&{ownerState:p({},K,Y.ownerState)},J,{children:[W,M&&(0,ui.jsx)(no,{children:M})]}))})})),so=uo;function co(e){return hi("MuiListItemAvatar",e)}di("MuiListItemAvatar",["root","alignItemsFlexStart"]);var lo=["className"],fo=Ir("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((function(e){return p({minWidth:56,flexShrink:0},"flex-start"===e.ownerState.alignItems&&{marginTop:8})})),ho=t.forwardRef((function(e,n){var r=Pr({props:e,name:"MuiListItemAvatar"}),i=r.className,a=d(r,lo),o=p({},r,{alignItems:t.useContext(Wa).alignItems}),u=function(e){return g({root:["root","flex-start"===e.alignItems&&"alignItemsFlexStart"]},co,e.classes)}(o);return(0,ui.jsx)(fo,p({className:m(u.root,i),ownerState:o,ref:n},a))})),po=["sx"];function vo(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){Pn[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}(d(e,po)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat(s(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return ot(e)?p({},i,e):i}:p({},i,n),p({},a,{sx:t})}function mo(e){return hi("MuiTypography",e)}di("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var yo=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],go=Ir("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(Vi(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return p({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),ko={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},bo={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},wo=t.forwardRef((function(e,t){var n=Pr({props:e,name:"MuiTypography"}),r=function(e){return bo[e]||e}(n.color),i=vo(p({},n,{color:r})),a=i.align,o=void 0===a?"inherit":a,u=i.className,s=i.component,c=i.gutterBottom,l=void 0!==c&&c,f=i.noWrap,h=void 0!==f&&f,v=i.paragraph,y=void 0!==v&&v,k=i.variant,b=void 0===k?"body1":k,w=i.variantMapping,x=void 0===w?ko:w,_=d(i,yo),I=p({},i,{align:o,color:r,className:u,component:s,gutterBottom:l,noWrap:h,paragraph:y,variant:b,variantMapping:x}),S=s||(y?"p":x[b]||ko[b])||"span",E=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes;return g({root:["root",a,"inherit"!==e.align&&"align".concat(Vi(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},mo,o)}(I);return(0,ui.jsx)(go,p({as:S,ref:t,ownerState:I,className:m(E.root,u)},_))})),xo=wo;function _o(e){return hi("MuiListItemText",e)}var Io=di("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),So=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Eo=Ir("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[h({},"& .".concat(Io.primary),t.primary),h({},"& .".concat(Io.secondary),t.secondary),t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((function(e){var t=e.ownerState;return p({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),To=t.forwardRef((function(e,n){var r=Pr({props:e,name:"MuiListItemText"}),i=r.children,a=r.className,o=r.disableTypography,u=void 0!==o&&o,s=r.inset,c=void 0!==s&&s,l=r.primary,f=r.primaryTypographyProps,h=r.secondary,v=r.secondaryTypographyProps,y=d(r,So),k=t.useContext(Wa).dense,b=null!=l?l:i,w=h,x=p({},r,{disableTypography:u,inset:c,primary:!!b,secondary:!!w,dense:k}),_=function(e){var t=e.classes,n=e.inset,r=e.primary,i=e.secondary;return g({root:["root",n&&"inset",e.dense&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},_o,t)}(x);return null==b||b.type===xo||u||(b=(0,ui.jsx)(xo,p({variant:k?"body2":"body1",className:_.primary,component:"span",display:"block"},f,{children:b}))),null==w||w.type===xo||u||(w=(0,ui.jsx)(xo,p({variant:"body2",className:_.secondary,color:"text.secondary",display:"block"},v,{children:w}))),(0,ui.jsxs)(Eo,p({className:m(_.root,a),ownerState:x,ref:n},y,{children:[b,w]}))}));var Co=function(e){return(0,ui.jsx)($a,{className:"todo_list",children:(0,ui.jsxs)(so,{children:[(0,ui.jsx)(ho,{}),(0,ui.jsx)(To,{primary:"Todo",secondary:e.text})]})})};function Ao(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function No(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ro(e,t,n){return t&&No(e.prototype,t),n&&No(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Po(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Do(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Po(a,r,i,o,u,"next",e)}function u(e){Po(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Oo=n(757),Lo=n.n(Oo);function Mo(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Fo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qr(e,t)}function Vo(e){return Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vo(e)}function Uo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function zo(e){return zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zo(e)}function jo(e,t){if(t&&("object"===zo(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $r(e)}function Bo(e){var t=Uo();return function(){var n,r=Vo(e);if(t){var i=Vo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jo(this,n)}}function qo(e,t,n){return qo=Uo()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Qr(i,n.prototype),i},qo.apply(null,arguments)}function Wo(e){var t="function"===typeof Map?new Map:void 0;return Wo=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return qo(e,arguments,Vo(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Qr(n,e)},Wo(e)}var Go=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ko={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Go(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ho=function(e){return function(e){var t=Go(e);return Ko.encodeByteArray(t,!0)}(e).replace(/\./g,"")},$o=function(e){try{return Ko.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Qo(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Qo(e[n],t[n]));return e}var Yo=function(){function e(){var t=this;Ao(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ro(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Jo(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ho(JSON.stringify({alg:"none",type:"JWT"})),Ho(JSON.stringify(a)),""].join(".")}function Xo(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Zo(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xo())}function eu(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function tu(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function nu(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ru(){var e=Xo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function iu(){return"object"===typeof indexedDB}var au=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ao(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf($r(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace($r(a),ou.prototype.create),a}return Ro(n)}(Wo(Error)),ou=function(){function e(t,n,r){Ao(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ro(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?uu(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new au(n,a,t);return o}}]),e}();function uu(e,t){return e.replace(su,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var su=/\{\$([^}]+)}/g;function cu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function lu(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(fu(u)&&fu(s)){if(!lu(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function fu(e){return null!==e&&"object"===typeof e}function hu(e){for(var t=[],n=function(){var e=f(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function du(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=f(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function pu(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function vu(e,t){var n=new mu(e,t);return n.subscribe.bind(n)}var mu=function(){function e(t,n){var r=this;Ao(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ro(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Mo(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=yu),void 0===r.error&&(r.error=yu),void 0===r.complete&&(r.complete=yu);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function yu(){}function gu(e){return e&&e._delegate?e._delegate:e}function ku(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var bu=function(){function e(t){Ao(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return Ro(e,[{key:"transaction",value:function(e,t){return new wu(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new xu(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),wu=function(){function e(t){var n=this;Ao(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return Ro(e,[{key:"objectStore",value:function(e){return new xu(this._transaction.objectStore(e))}}]),e}(),xu=function(){function e(t){Ao(this,e),this._store=t}return Ro(e,[{key:"index",value:function(e){return new _u(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new _u(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return ku(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return ku(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return ku(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return ku(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),_u=function(){function e(t){Ao(this,e),this._index=t}return Ro(e,[{key:"get",value:function(e){return ku(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var Iu=function(){function e(t,n,r){Ao(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ro(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Su="[DEFAULT]",Eu=function(){function e(t,n){Ao(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ro(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Yo;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Su})}catch(s){}var t,n=Mo(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Su;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Do(Oo.mark((function e(){var t;return Oo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(s(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),s(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Su;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Su;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Mo(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=f(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Mo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(sA){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Tu(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(sA){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Su;return this.component?this.component.multipleInstances?e:Su:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function Tu(e){return e===Su?void 0:e}var Cu,Au,Nu=function(){function e(t){Ao(this,e),this.name=t,this.providers=new Map}return Ro(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Eu(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ru=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Au||(Au={}));var Pu,Du,Ou={debug:Au.DEBUG,verbose:Au.VERBOSE,info:Au.INFO,warn:Au.WARN,error:Au.ERROR,silent:Au.SILENT},Lu=Au.INFO,Mu=(h(Cu={},Au.DEBUG,"log"),h(Cu,Au.VERBOSE,"log"),h(Cu,Au.INFO,"info"),h(Cu,Au.WARN,"warn"),h(Cu,Au.ERROR,"error"),Cu),Fu=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Mu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Vu=function(){function e(t){Ao(this,e),this.name=t,this._logLevel=Lu,this._logHandler=Fu,this._userLogHandler=null,Ru.push(this)}return Ro(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Au))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ou[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Au.DEBUG].concat(t)),this._logHandler.apply(this,[this,Au.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Au.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Au.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Au.INFO].concat(t)),this._logHandler.apply(this,[this,Au.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Au.WARN].concat(t)),this._logHandler.apply(this,[this,Au.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Au.ERROR].concat(t)),this._logHandler.apply(this,[this,Au.ERROR].concat(t))}}]),e}();var Uu=function(){function e(t){Ao(this,e),this.container=t}return Ro(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var zu="@firebase/app",ju="0.7.20",Bu=new Vu("@firebase/app"),qu="[DEFAULT]",Wu=(h(Pu={},zu,"fire-core"),h(Pu,"@firebase/app-compat","fire-core-compat"),h(Pu,"@firebase/analytics","fire-analytics"),h(Pu,"@firebase/analytics-compat","fire-analytics-compat"),h(Pu,"@firebase/app-check","fire-app-check"),h(Pu,"@firebase/app-check-compat","fire-app-check-compat"),h(Pu,"@firebase/auth","fire-auth"),h(Pu,"@firebase/auth-compat","fire-auth-compat"),h(Pu,"@firebase/database","fire-rtdb"),h(Pu,"@firebase/database-compat","fire-rtdb-compat"),h(Pu,"@firebase/functions","fire-fn"),h(Pu,"@firebase/functions-compat","fire-fn-compat"),h(Pu,"@firebase/installations","fire-iid"),h(Pu,"@firebase/installations-compat","fire-iid-compat"),h(Pu,"@firebase/messaging","fire-fcm"),h(Pu,"@firebase/messaging-compat","fire-fcm-compat"),h(Pu,"@firebase/performance","fire-perf"),h(Pu,"@firebase/performance-compat","fire-perf-compat"),h(Pu,"@firebase/remote-config","fire-rc"),h(Pu,"@firebase/remote-config-compat","fire-rc-compat"),h(Pu,"@firebase/storage","fire-gcs"),h(Pu,"@firebase/storage-compat","fire-gcs-compat"),h(Pu,"@firebase/firestore","fire-fst"),h(Pu,"@firebase/firestore-compat","fire-fst-compat"),h(Pu,"fire-js","fire-js"),h(Pu,"firebase","fire-js-all"),Pu),Gu=new Map,Ku=new Map;function Hu(e,t){try{e.container.addComponent(t)}catch(n){Bu.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function $u(e,t){e.container.addOrOverwriteComponent(t)}function Qu(e){var t=e.name;if(Ku.has(t))return Bu.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ku.set(t,e);var n,r=Mo(Gu.values());try{for(r.s();!(n=r.n()).done;){Hu(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Yu(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ju(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qu;Yu(e,t).clearInstance(n)}function Xu(){Ku.clear()}var Zu=(h(Du={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),h(Du,"bad-app-name","Illegal App name: '{$appName}"),h(Du,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),h(Du,"app-deleted","Firebase App named '{$appName}' already deleted"),h(Du,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),h(Du,"invalid-log-argument","First argument to `onLog` must be null or a function."),h(Du,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),h(Du,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),h(Du,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),h(Du,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Du),es=new ou("app","Firebase",Zu),ts=function(){function e(t,n,r){var i=this;Ao(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Iu("app",(function(){return i}),"PUBLIC"))}return Ro(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}]),e}(),ns="9.6.10";function rs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:qu,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw es.create("bad-app-name",{appName:String(i)});var a=Gu.get(i);if(a){if(lu(e,a.options)&&lu(r,a.config))return a;throw es.create("duplicate-app",{appName:i})}var o,u=new Nu(i),s=Mo(Ku.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new ts(e,r,u);return Gu.set(i,l),l}function is(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qu,t=Gu.get(e);if(!t)throw es.create("no-app",{appName:e});return t}function as(){return Array.from(Gu.values())}function os(e){return us.apply(this,arguments)}function us(){return(us=Do(Oo.mark((function e(t){var n;return Oo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Gu.has(n)){e.next=6;break}return Gu.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ss(e,t,n){var r,i=null!==(r=Wu[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Bu.warn(u.join(" "))}Qu(new Iu("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function cs(e,t){if(null!==e&&"function"!==typeof e)throw es.create("invalid-log-argument");!function(e,t){var n,r=Mo(Ru);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ou[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Au[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ls(e){var t;t=e,Ru.forEach((function(e){e.setLogLevel(t)}))}var fs="firebase-heartbeat-store",hs=null;function ds(){var e,t,n;return hs||(hs=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(fs)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new bu(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new bu(a.result),e.oldVersion,e.newVersion,new wu(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw es.create("storage-open",{originalErrorMessage:e.message})}))),hs}function ps(e){return vs.apply(this,arguments)}function vs(){return vs=Do(Oo.mark((function e(t){var n;return Oo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ds();case 3:return n=e.sent,e.abrupt("return",n.transaction(fs).objectStore(fs).get(gs(t)));case 7:throw e.prev=7,e.t0=e.catch(0),es.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),vs.apply(this,arguments)}function ms(e,t){return ys.apply(this,arguments)}function ys(){return ys=Do(Oo.mark((function e(t,n){var r,i,a;return Oo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ds();case 3:return r=e.sent,i=r.transaction(fs,"readwrite"),a=i.objectStore(fs),e.next=8,a.put(n,gs(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),es.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ys.apply(this,arguments)}function gs(e){return"".concat(e.name,"!").concat(e.options.appId)}var ks=function(){function e(t){var n=this;Ao(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Is(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Ro(e,[{key:"triggerHeartbeat",value:function(){var e=Do(Oo.mark((function e(){var t,n,r;return Oo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=bs(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Do(Oo.mark((function e(){var t,n,r,i,a;return Oo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=bs(),n=ws(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ho(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function bs(){return(new Date).toISOString().substring(0,10)}function ws(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Mo(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ss(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ss(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var xs,_s,Is=function(){function e(t){Ao(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Ro(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Do(Oo.mark((function e(){return Oo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(iu()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Do(Oo.mark((function e(){var t;return Oo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ps(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Do(Oo.mark((function e(t){var n,r;return Oo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ms(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Do(Oo.mark((function e(t){var n,r;return Oo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ms(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(s(r.heartbeats),s(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ss(e){return Ho(JSON.stringify({version:2,heartbeats:e})).length}xs="",Qu(new Iu("platform-logger",(function(e){return new Uu(e)}),"PRIVATE")),Qu(new Iu("heartbeat",(function(e){return new ks(e)}),"PRIVATE")),ss(zu,ju,xs),ss(zu,ju,"esm2017"),ss("fire-js","");var Es=function(){function e(t,n){var r=this;Ao(this,e),this._delegate=t,this.firebase=n,Hu(t,new Iu("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Ro(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),os(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qu;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qu;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Hu(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){$u(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ts=(h(_s={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),h(_s,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),_s),Cs=new ou("app-compat","Firebase",Ts);var As=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=rs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(cu(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ss,setLogLevel:ls,onLog:cs,apps:null,SDK_VERSION:ns,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Qu(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Cs.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Qo(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!cu(n,e=e||qu))throw Cs.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Es);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Qo(n,e)},createSubscribe:vu,ErrorFactory:ou,deepExtend:Qo}),n}(),Ns=new Vu("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ns.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Rs=self.firebase.SDK_VERSION;Rs&&Rs.indexOf("LITE")>=0&&Ns.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ps=As;function Ds(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vo(e)););return e}function Os(){return Os="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ds(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Os.apply(this,arguments)}!function(e){ss("@firebase/app-compat","0.1.21",e)}();function Ls(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ms;Object.create;var Fs="facebook.com",Vs="github.com",Us="google.com",zs="password",js="twitter.com",Bs="EMAIL_SIGNIN",qs="PASSWORD_RESET",Ws="RECOVER_EMAIL",Gs="REVERT_SECOND_FACTOR_ADDITION",Ks="VERIFY_AND_CHANGE_EMAIL",Hs="VERIFY_EMAIL";function $s(){return h({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Qs=function(){var e;return h(e={},"admin-restricted-operation","This operation is restricted to administrators only."),h(e,"argument-error",""),h(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),h(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),h(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),h(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),h(e,"cordova-not-ready","Cordova framework is not ready."),h(e,"cors-unsupported","This browser is not supported."),h(e,"credential-already-in-use","This credential is already associated with a different user account."),h(e,"custom-token-mismatch","The custom token corresponds to a different audience."),h(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),h(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),h(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),h(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),h(e,"email-already-in-use","The email address is already in use by another account."),h(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),h(e,"expired-action-code","The action code has expired."),h(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),h(e,"internal-error","An internal AuthError has occurred."),h(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),h(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),h(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),h(e,"invalid-auth-event","An internal AuthError has occurred."),h(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),h(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),h(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),h(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),h(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),h(e,"invalid-email","The email address is badly formatted."),h(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),h(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),h(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),h(e,"invalid-credential","The supplied auth credential is malformed or has expired."),h(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),h(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),h(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),h(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),h(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),h(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),h(e,"wrong-password","The password is invalid or the user does not have a password."),h(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),h(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),h(e,"invalid-provider-id","The specified provider ID is invalid."),h(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),h(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),h(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),h(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),h(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),h(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),h(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),h(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),h(e,"missing-continue-uri","A continue URL must be provided in the request."),h(e,"missing-iframe-start","An internal AuthError has occurred."),h(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),h(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),h(e,"missing-multi-factor-info","No second factor identifier is provided."),h(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),h(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),h(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),h(e,"app-deleted","This instance of FirebaseApp has been deleted."),h(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),h(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),h(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),h(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),h(e,"no-auth-event","An internal AuthError has occurred."),h(e,"no-such-provider","User was not linked to an account with the given provider."),h(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),h(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),h(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),h(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),h(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),h(e,"provider-already-linked","User can only be linked to one identity for the given provider."),h(e,"quota-exceeded","The project's quota for this operation has been exceeded."),h(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),h(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),h(e,"rejected-credential","The request contains malformed or mismatching credentials."),h(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),h(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),h(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),h(e,"timeout","The operation has timed out."),h(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),h(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),h(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),h(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),h(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),h(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),h(e,"unverified-email","The operation requires a verified email."),h(e,"user-cancelled","The user did not grant your application the permissions it requested."),h(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),h(e,"user-disabled","The user account has been disabled by an administrator."),h(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),h(e,"user-signed-out",""),h(e,"weak-password","The password must be 6 characters long or more."),h(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),h(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Ys=$s,Js=new ou("auth","Firebase",$s()),Xs=new Vu("@firebase/auth");function Zs(e){if(Xs.logLevel<=Au.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Xs.error.apply(Xs,["Auth (".concat(ns,"): ").concat(e)].concat(n))}}function ec(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ic.apply(void 0,[e].concat(n))}function tc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ic.apply(void 0,[e].concat(n))}function nc(e,t,n){var r=Object.assign(Object.assign({},Ys()),h({},t,n));return new ou("auth","Firebase",r).create(t,{appName:e.name})}function rc(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ec(e,"argument-error"),nc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ic(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=s(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(s(o)))}return Js.create.apply(Js,[e].concat(n))}function ac(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ic.apply(void 0,[t].concat(r))}}function oc(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Zs(t),new Error(t)}function uc(e,t){e||oc(t)}var sc=new Map;function cc(e){uc(e instanceof Function,"Expected a class definition");var t=sc.get(e);return t?(uc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,sc.set(e,t),t)}function lc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function fc(){return"http:"===hc()||"https:"===hc()}function hc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var dc=function(){function e(t,n){Ao(this,e),this.shortDelay=t,this.longDelay=n,uc(n>t,"Short delay should be less than long delay!"),this.isMobile=Zo()||nu()}return Ro(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(fc()||tu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function pc(e,t){uc(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var vc=function(){function e(){Ao(this,e)}return Ro(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void oc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void oc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void oc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),mc=(h(Ms={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),h(Ms,"MISSING_CUSTOM_TOKEN","internal-error"),h(Ms,"INVALID_IDENTIFIER","invalid-email"),h(Ms,"MISSING_CONTINUE_URI","internal-error"),h(Ms,"INVALID_PASSWORD","wrong-password"),h(Ms,"MISSING_PASSWORD","internal-error"),h(Ms,"EMAIL_EXISTS","email-already-in-use"),h(Ms,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),h(Ms,"INVALID_IDP_RESPONSE","invalid-credential"),h(Ms,"INVALID_PENDING_TOKEN","invalid-credential"),h(Ms,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),h(Ms,"MISSING_REQ_TYPE","internal-error"),h(Ms,"EMAIL_NOT_FOUND","user-not-found"),h(Ms,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),h(Ms,"EXPIRED_OOB_CODE","expired-action-code"),h(Ms,"INVALID_OOB_CODE","invalid-action-code"),h(Ms,"MISSING_OOB_CODE","internal-error"),h(Ms,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),h(Ms,"INVALID_ID_TOKEN","invalid-user-token"),h(Ms,"TOKEN_EXPIRED","user-token-expired"),h(Ms,"USER_NOT_FOUND","user-token-expired"),h(Ms,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),h(Ms,"INVALID_CODE","invalid-verification-code"),h(Ms,"INVALID_SESSION_INFO","invalid-verification-id"),h(Ms,"INVALID_TEMPORARY_PROOF","invalid-credential"),h(Ms,"MISSING_SESSION_INFO","missing-verification-id"),h(Ms,"SESSION_EXPIRED","code-expired"),h(Ms,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),h(Ms,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),h(Ms,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),h(Ms,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),h(Ms,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),h(Ms,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),h(Ms,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),h(Ms,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),h(Ms,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),h(Ms,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),h(Ms,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ms),yc=new dc(3e4,6e4);function gc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function kc(e,t,n,r){return bc.apply(this,arguments)}function bc(){return bc=Do(Lo().mark((function e(t,n,r,i){var a,o=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",wc(t,a,Do(Lo().mark((function e(){var a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=hu(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",vc.fetch()(Sc(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function wc(e,t,n){return xc.apply(this,arguments)}function xc(){return(xc=Do(Lo().mark((function e(t,n,r){var i,a,o,u,s,c,l,h,d,p;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},mc),n),e.prev=2,a=new Ec(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Tc(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=f(c,2),h=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Tc(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Tc(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw nc(t,p,d);case 30:ec(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof au)){e.next=37;break}throw e.t0;case 37:ec(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function _c(e,t,n,r){return Ic.apply(this,arguments)}function Ic(){return Ic=Do(Lo().mark((function e(t,n,r,i){var a,o,u=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,kc(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ec(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}function Sc(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?pc(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ec=function(){function e(t){var n=this;Ao(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(tc(n.auth,"network-request-failed"))}),yc.get())}))}return Ro(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Tc(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=tc(e,t,r);return i.customData._tokenResponse=n,i}function Cc(e,t){return Ac.apply(this,arguments)}function Ac(){return(Ac=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kc(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nc(e,t){return Rc.apply(this,arguments)}function Rc(){return(Rc=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pc(e,t){return Dc.apply(this,arguments)}function Dc(){return(Dc=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kc(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oc(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Lc(){return Lc=Do(Lo().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=gu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ac((a=Fc(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Oc(Mc(a.auth_time)),issuedAtTime:Oc(Mc(a.iat)),expirationTime:Oc(Mc(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}function Mc(e){return 1e3*Number(e)}function Fc(e){var t=f(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Zs("JWT malformed, contained fewer than 3 sections"),null;try{var a=$o(r);return a?JSON.parse(a):(Zs("Failed to decode base64 JWT payload"),null)}catch(o){return Zs("Caught error parsing JWT payload as JSON",o),null}}function Vc(e,t){return Uc.apply(this,arguments)}function Uc(){return Uc=Do(Lo().mark((function e(t,n){var r=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof au&&zc(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Uc.apply(this,arguments)}function zc(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var jc=function(){function e(t){Ao(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Ro(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Do(Lo().mark((function t(){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Bc=function(){function e(t,n){Ao(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Ro(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function qc(e){return Wc.apply(this,arguments)}function Wc(){return Wc=Do(Lo().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Vc(t,Pc(r,{idToken:i}));case 6:ac(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Hc(o.providerUserInfo):[],s=Kc(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Bc(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Wc.apply(this,arguments)}function Gc(){return(Gc=Do(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gu(t),e.next=3,qc(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kc(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(s(n),s(t))}function Hc(e){return e.map((function(e){var t=e.providerId,n=Ls(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function $c(e,t){return Qc.apply(this,arguments)}function Qc(){return(Qc=Do(Lo().mark((function e(t,n){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wc(t,{},Do(Lo().mark((function e(){var r,i,a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hu({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Sc(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",vc.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yc=function(){function e(){Ao(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Ro(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ac(e.idToken,"internal-error"),ac("undefined"!==typeof e.idToken,"internal-error"),ac("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Fc(e);return ac(t,"internal-error"),ac("undefined"!==typeof t.exp,"internal-error"),ac("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Do(Lo().mark((function e(t){var n,r=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ac(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Do(Lo().mark((function e(t,n){var r,i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$c(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return oc("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ac("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ac("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ac("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Jc(e,t){ac("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Xc=function(){function e(t){Ao(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ls(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?s(a.providerData):[],this.metadata=new Bc(a.createdAt||void 0,a.lastLoginAt||void 0)}return Ro(e,[{key:"getIdToken",value:function(){var e=Do(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vc(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ac(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Lc.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Gc.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ac(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ac(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Do(Lo().mark((function e(t){var n,r,i=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,qc(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Do(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Vc(this,Cc(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;ac(k&&_,t,"internal-error");var I=Yc.fromJSON(this.name,_);ac("string"===typeof k,t,"internal-error"),Jc(f,t.name),Jc(h,t.name),ac("boolean"===typeof b,t,"internal-error"),ac("boolean"===typeof w,t,"internal-error"),Jc(d,t.name),Jc(p,t.name),Jc(v,t.name),Jc(m,t.name),Jc(y,t.name),Jc(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Do(Lo().mark((function t(n,r){var i,a,o,u=arguments;return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Yc).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,qc(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Zc=function(){function e(){Ao(this,e),this.type="NONE",this.storage={}}return Ro(e,[{key:"_isAvailable",value:function(){var e=Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Do(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Zc.type="NONE";var el=Zc;function tl(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var nl=function(){function e(t,n,r){Ao(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=tl(this.userKey,a.apiKey,o),this.fullPersistenceKey=tl("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Ro(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Do(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Xc._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Do(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Do(Lo().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(cc(el),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||cc(el),u=tl(i,n.config.apiKey,n.name),s=null,c=Mo(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Xc._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function rl(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ul(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(il(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cl(t))return"Blackberry";if(ll(t))return"Webos";if(al(t))return"Safari";if((t.includes("chrome/")||ol(t))&&!t.includes("edge/"))return"Chrome";if(sl(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function il(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo();return/firefox\//i.test(e)}function al(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ol(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo();return/crios\//i.test(e)}function ul(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo();return/iemobile/i.test(e)}function sl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo();return/android/i.test(e)}function cl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo();return/blackberry/i.test(e)}function ll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo();return/webos/i.test(e)}function fl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo();return/iphone|ipad|ipod/i.test(e)}function hl(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo();return fl(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function dl(){return ru()&&10===document.documentMode}function pl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo();return fl(e)||sl(e)||ll(e)||cl(e)||/windows phone/i.test(e)||ul(e)}function vl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=rl(Xo());break;case"Worker":t="".concat(rl(Xo()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ns,"/").concat(r)}var ml=function(){function e(t,n,r){Ao(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gl(this),this.idTokenSubscription=new gl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Js,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Ro(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=cc(t)),this._initializationPromise=this.queue(Do(Lo().mark((function r(){var i,a;return Lo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,nl.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Do(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Do(Lo().mark((function e(t){var n,r,i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return ac(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Do(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qc(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Do(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?gu(t):null)&&ac(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Do(Lo().mark((function e(t){var n=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&ac(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Do(Lo().mark((function n(){return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(cc(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ou("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Do(Lo().mark((function e(t,n){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Do(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ac(n=t&&cc(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,nl.create(this,[cc(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Do(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Do(Lo().mark((function e(t){var n=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ac(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ac(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vl(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Do(Lo().mark((function e(){var t,n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function yl(e){return gu(e)}var gl=function(){function e(t){var n=this;Ao(this,e),this.auth=t,this.observer=null,this.addObserver=vu((function(e){return n.observer=e}))}return Ro(e,[{key:"next",get:function(){return ac(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function kl(e,t,n){var r=yl(e);ac(r._canInitEmulator,r,"emulator-config-failed"),ac(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=bl(t),o=function(e){var t=bl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:wl(r.substr(a.length+1))}}var o=f(r.split(":"),2);return{host:o[0],port:wl(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function bl(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function wl(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var xl=function(){function e(t,n){Ao(this,e),this.providerId=t,this.signInMethod=n}return Ro(e,[{key:"toJSON",value:function(){return oc("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return oc("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return oc("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return oc("not implemented")}}]),e}();function _l(e,t){return Il.apply(this,arguments)}function Il(){return(Il=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kc(t,"POST","/v1/accounts:resetPassword",gc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sl(e,t){return El.apply(this,arguments)}function El(){return(El=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tl(e,t){return Cl.apply(this,arguments)}function Cl(){return(Cl=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kc(t,"POST","/v1/accounts:update",gc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Al(e,t){return Nl.apply(this,arguments)}function Nl(){return(Nl=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_c(t,"POST","/v1/accounts:signInWithPassword",gc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rl(e,t){return Pl.apply(this,arguments)}function Pl(){return(Pl=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kc(t,"POST","/v1/accounts:sendOobCode",gc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dl(e,t){return Ol.apply(this,arguments)}function Ol(){return(Ol=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ll(e,t){return Ml.apply(this,arguments)}function Ml(){return(Ml=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fl(e,t){return Vl.apply(this,arguments)}function Vl(){return(Vl=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ul(e,t){return zl.apply(this,arguments)}function zl(){return(zl=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jl(e,t){return Bl.apply(this,arguments)}function Bl(){return(Bl=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_c(t,"POST","/v1/accounts:signInWithEmailLink",gc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ql(e,t){return Wl.apply(this,arguments)}function Wl(){return(Wl=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_c(t,"POST","/v1/accounts:signInWithEmailLink",gc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gl=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ao(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Ro(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Al(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",jl(t,{email:this._email,oobCode:this._password}));case 5:ec(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Sl(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ql(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ec(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(xl);function Kl(e,t){return Hl.apply(this,arguments)}function Hl(){return(Hl=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_c(t,"POST","/v1/accounts:signInWithIdp",gc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $l=function(e){Fo(n,e);var t=Bo(n);function n(){var e;return Ao(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Ro(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Kl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Kl(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Kl(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hu(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ec("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ls(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(xl);function Ql(e,t){return Yl.apply(this,arguments)}function Yl(){return(Yl=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kc(t,"POST","/v1/accounts:sendVerificationCode",gc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jl(){return(Jl=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_c(t,"POST","/v1/accounts:signInWithPhoneNumber",gc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xl(){return(Xl=Do(Lo().mark((function e(t,n){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_c(t,"POST","/v1/accounts:signInWithPhoneNumber",gc(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Tc(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zl=h({},"USER_NOT_FOUND","user-not-found");function ef(){return(ef=Do(Lo().mark((function e(t,n){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",_c(t,"POST","/v1/accounts:signInWithPhoneNumber",gc(t,r),Zl));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tf=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ao(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Ro(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Jl.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Xl.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ef.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(xl);var nf=function(){function e(t){var n,r,i,a,o,u;Ao(this,e);var s=du(pu(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);ac(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Ro(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=du(pu(e)).link,n=t?du(pu(t)).deep_link_id:null,r=du(pu(e)).deep_link_id;return(r?du(pu(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(sA){return null}}}]),e}();var rf=function(){function e(){Ao(this,e),this.providerId=e.PROVIDER_ID}return Ro(e,null,[{key:"credential",value:function(e,t){return Gl._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=nf.parseLink(t);return ac(n,"argument-error"),Gl._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();rf.PROVIDER_ID="password",rf.EMAIL_PASSWORD_SIGN_IN_METHOD="password",rf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var af=function(){function e(t){Ao(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Ro(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),of=function(e){Fo(n,e);var t=Bo(n);function n(){var e;return Ao(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Ro(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return s(this.scopes)}}]),n}(af),uf=function(e){Fo(n,e);var t=Bo(n);function n(){return Ao(this,n),t.apply(this,arguments)}return Ro(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ac(e.idToken||e.accessToken,"argument-error"),$l._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ac("providerId"in t&&"signInMethod"in t,"argument-error"),$l._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(of),sf=function(e){Fo(n,e);var t=Bo(n);function n(){return Ao(this,n),t.call(this,"facebook.com")}return Ro(n,null,[{key:"credential",value:function(e){return $l._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(sA){return null}}}]),n}(of);sf.FACEBOOK_SIGN_IN_METHOD="facebook.com",sf.PROVIDER_ID="facebook.com";var cf=function(e){Fo(n,e);var t=Bo(n);function n(){var e;return Ao(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Ro(n,null,[{key:"credential",value:function(e,t){return $l._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(sA){return null}}}]),n}(of);cf.GOOGLE_SIGN_IN_METHOD="google.com",cf.PROVIDER_ID="google.com";var lf=function(e){Fo(n,e);var t=Bo(n);function n(){return Ao(this,n),t.call(this,"github.com")}return Ro(n,null,[{key:"credential",value:function(e){return $l._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(sA){return null}}}]),n}(of);lf.GITHUB_SIGN_IN_METHOD="github.com",lf.PROVIDER_ID="github.com";var ff=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ao(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Ro(n,[{key:"_getIdTokenResponse",value:function(e){return Kl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Kl(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Kl(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(xl),hf=function(e){Fo(n,e);var t=Bo(n);function n(e){return Ao(this,n),ac(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Ro(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=ff.fromJSON(e);return ac(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return ff._create(r,n)}catch(i){return null}}}]),n}(af),df=function(e){Fo(n,e);var t=Bo(n);function n(){return Ao(this,n),t.call(this,"twitter.com")}return Ro(n,null,[{key:"credential",value:function(e,t){return $l._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(sA){return null}}}]),n}(of);function pf(e,t){return vf.apply(this,arguments)}function vf(){return(vf=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_c(t,"POST","/v1/accounts:signUp",gc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}df.TWITTER_SIGN_IN_METHOD="twitter.com",df.PROVIDER_ID="twitter.com";var mf=function(){function e(t){Ao(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Ro(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Do(Lo().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Xc._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=yf(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Do(Lo().mark((function t(n,r,i){var a;return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=yf(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function yf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function gf(){return gf=Do(Lo().mark((function e(t){var n,r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yl(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new mf({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,pf(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,mf._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),gf.apply(this,arguments)}var kf=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i,a){var o,u;return Ao(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf($r(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Ro(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(au);function bf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw kf._fromErrorAndOperation(e,n,t,r);throw n}))}function wf(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function xf(e,t){return _f.apply(this,arguments)}function _f(){return _f=Do(Lo().mark((function e(t,n){var r,i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gu(t),e.next=3,Ef(!0,r,n);case 3:return e.t0=Nc,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=wf(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),_f.apply(this,arguments)}function If(e,t){return Sf.apply(this,arguments)}function Sf(){return Sf=Do(Lo().mark((function e(t,n){var r,i,a=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Vc,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",mf._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Sf.apply(this,arguments)}function Ef(e,t,n){return Tf.apply(this,arguments)}function Tf(){return(Tf=Do(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qc(n);case 2:i=wf(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ac(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cf(e,t){return Af.apply(this,arguments)}function Af(){return Af=Do(Lo().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Vc(t,bf(i,a,n,t),r);case 6:return ac((o=e.sent).idToken,i,"internal-error"),ac(u=Fc(o.idToken),i,"internal-error"),s=u.sub,ac(t.uid===s,i,"user-mismatch"),e.abrupt("return",mf._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&ec(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Af.apply(this,arguments)}function Nf(e,t){return Rf.apply(this,arguments)}function Rf(){return Rf=Do(Lo().mark((function e(t,n){var r,i,a,o,u=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,bf(t,i,n);case 4:return a=e.sent,e.next=7,mf._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Rf.apply(this,arguments)}function Pf(e,t){return Df.apply(this,arguments)}function Df(){return(Df=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nf(yl(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Of(e,t){return Lf.apply(this,arguments)}function Lf(){return(Lf=Do(Lo().mark((function e(t,n){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gu(t),e.next=3,Ef(!1,r,n.providerId);case 3:return e.abrupt("return",If(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mf(e,t){return Ff.apply(this,arguments)}function Ff(){return(Ff=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cf(gu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vf(e,t){return Uf.apply(this,arguments)}function Uf(){return(Uf=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_c(t,"POST","/v1/accounts:signInWithCustomToken",gc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zf(){return(zf=Do(Lo().mark((function e(t,n){var r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yl(t),e.next=3,Vf(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,mf._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jf=function(){function e(t,n){Ao(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Ro(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Bf._fromServerResponse(e,t):ec(e,"internal-error")}}]),e}(),Bf=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ao(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Ro(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(jf);function qf(e,t,n){var r;ac((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ac("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ac(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ac(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Wf(){return(Wf=Do(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gu(t),a={requestType:"PASSWORD_RESET",email:n},r&&qf(i,a,r),e.next=5,Ll(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gf(){return(Gf=Do(Lo().mark((function e(t,n,r){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_l(gu(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kf(){return(Kf=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tl(gu(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hf(e,t){return $f.apply(this,arguments)}function $f(){return($f=Do(Lo().mark((function e(t,n){var r,i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gu(t),e.next=3,_l(r,{oobCode:n});case 3:i=e.sent,ac(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ac(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ac(i.mfaInfo,r,"internal-error");case 13:ac(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=jf._fromServerResponse(yl(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qf(){return(Qf=Do(Lo().mark((function e(t,n){var r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hf(gu(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yf(e,t,n){return Jf.apply(this,arguments)}function Jf(){return(Jf=Do(Lo().mark((function e(t,n,r){var i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yl(t),e.next=3,pf(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,mf._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xf(){return(Xf=Do(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gu(t),a={requestType:"EMAIL_SIGNIN",email:n},ac(r.handleCodeInApp,i,"argument-error"),r&&qf(i,a,r),e.next=6,Fl(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zf(){return(Zf=Do(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gu(t),ac((a=rf.credentialWithLink(n,r||lc()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Pf(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eh(e,t){return th.apply(this,arguments)}function th(){return(th=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kc(t,"POST","/v1/accounts:createAuthUri",gc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nh(){return(nh=Do(Lo().mark((function e(t,n){var r,i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fc()?lc():"http://localhost",i={identifier:n,continueUri:r},e.next=4,eh(gu(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rh(){return(rh=Do(Lo().mark((function e(t,n){var r,i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gu(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&qf(r.auth,a,n),e.next=8,Dl(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ih(){return(ih=Do(Lo().mark((function e(t,n,r){var i,a,o,u;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gu(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&qf(i.auth,o,r),e.next=8,Ul(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ah(e,t){return oh.apply(this,arguments)}function oh(){return(oh=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uh(){return(uh=Do(Lo().mark((function e(t,n){var r,i,a,o,u,s,c;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=gu(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Vc(a,ah(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sh(e,t,n){return ch.apply(this,arguments)}function ch(){return(ch=Do(Lo().mark((function e(t,n,r){var i,a,o,u;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Vc(t,Sl(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lh=Ro((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ao(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),fh=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i,a){var o;return Ao(this,n),(o=t.call(this,e,r,i)).username=a,o}return Ro(n)}(lh),hh=function(e){Fo(n,e);var t=Bo(n);function n(e,r){return Ao(this,n),t.call(this,e,"facebook.com",r)}return Ro(n)}(lh),dh=function(e){Fo(n,e);var t=Bo(n);function n(e,r){return Ao(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Ro(n)}(fh),ph=function(e){Fo(n,e);var t=Bo(n);function n(e,r){return Ao(this,n),t.call(this,e,"google.com",r)}return Ro(n)}(lh),vh=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){return Ao(this,n),t.call(this,e,"twitter.com",r,i)}return Ro(n)}(fh);function mh(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Fc(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new lh(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new hh(a,i);case"github.com":return new dh(a,i);case"google.com":return new ph(a,i);case"twitter.com":return new vh(a,i,e.screenName||null);case"custom":case"anonymous":return new lh(a,null);default:return new lh(a,r,i)}}(n)}var yh=function(){function e(t,n){Ao(this,e),this.type=t,this.credential=n}return Ro(e,[{key:"toJSON",value:function(){return{multiFactorSession:h({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),gh=function(){function e(t,n,r){Ao(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Ro(e,[{key:"resolveSignIn",value:function(){var e=Do(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=yl(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return jf._fromServerResponse(r,e)}));ac(i.mfaPendingCredential,r,"internal-error");var o=yh._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Do(Lo().mark((function e(t){var a,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,mf._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return ac(n.user,r,"internal-error"),e.abrupt("return",mf._forOperation(n.user,n.operationType,u));case 17:ec(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function kh(e,t){return kc(e,"POST","/v2/accounts/mfaEnrollment:start",gc(e,t))}var bh=function(){function e(t){var n=this;Ao(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return jf._fromServerResponse(t.auth,e)})))}))}return Ro(e,[{key:"getSession",value:function(){var e=Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=yh,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Do(Lo().mark((function e(t,n){var r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Vc(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Do(Lo().mark((function e(t){var n,r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Vc(this.user,kc(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",gc(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),wh=new WeakMap;var xh="__sak",_h=function(){function e(t,n){Ao(this,e),this.storageRetriever=t,this.type=n}return Ro(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch(sA){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ih=function(e){Fo(n,e);var t=Bo(n);function n(){var e;return Ao(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Xo();return al(e)||fl(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=pl(),e._shouldAllowMigration=!0,e}return Ro(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);dl()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Do(Lo().mark((function e(t,r){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Os(Vo(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Do(Lo().mark((function e(t){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Os(Vo(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Os(Vo(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(_h);Ih.type="LOCAL";var Sh=Ih,Eh=function(e){Fo(n,e);var t=Bo(n);function n(){return Ao(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Ro(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(_h);Eh.type="SESSION";var Th=Eh;function Ch(e){return Promise.all(e.map(function(){var e=Do(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ah=function(){function e(t){Ao(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Ro(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Do(Lo().mark((function e(t){var n,r,i,a,o,u,s,c;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ch(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Nh(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ah.receivers=[];var Rh=function(){function e(t){Ao(this,e),this.target=t,this.handlers=new Set}return Ro(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Do(Lo().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Nh("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ph(){return window}function Dh(){return"undefined"!==typeof Ph().WorkerGlobalScope&&"function"===typeof Ph().importScripts}function Oh(){return Lh.apply(this,arguments)}function Lh(){return(Lh=Do(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Mh(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Fh="firebaseLocalStorageDb",Vh="firebaseLocalStorage",Uh="fbase_key",zh=function(){function e(t){Ao(this,e),this.request=t}return Ro(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function jh(e,t){return e.transaction([Vh],t?"readwrite":"readonly").objectStore(Vh)}function Bh(){var e=indexedDB.deleteDatabase(Fh);return new zh(e).toPromise()}function qh(){var e=indexedDB.open(Fh,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Vh,{keyPath:Uh})}catch(r){n(r)}})),e.addEventListener("success",Do(Lo().mark((function n(){var r;return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Vh)){n.next=12;break}return r.close(),n.next=5,Bh();case 5:return n.t0=t,n.next=8,qh();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Wh(e,t,n){return Gh.apply(this,arguments)}function Gh(){return Gh=Do(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=jh(t,!0).put((h(i={},Uh,n),h(i,"value",r),i)),e.abrupt("return",new zh(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Gh.apply(this,arguments)}function Kh(e,t){return Hh.apply(this,arguments)}function Hh(){return Hh=Do(Lo().mark((function e(t,n){var r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jh(t,!1).get(n),e.next=3,new zh(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Hh.apply(this,arguments)}function $h(e,t){var n=jh(e,!0).delete(t);return new zh(n).toPromise()}var Qh=function(){function e(){Ao(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Ro(e,[{key:"_openDb",value:function(){var e=Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,qh();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Do(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dh()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Do(Lo().mark((function e(){var t=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ah._getInstance(Dh()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Do(Lo().mark((function e(n,r){var i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Do(Lo().mark((function e(){var t,n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oh();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Rh(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Mh()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Do(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,qh();case 5:return t=e.sent,e.next=8,Wh(t,xh,"1");case 8:return e.next=10,$h(t,xh);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Do(Lo().mark((function e(t,n){var r=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Wh(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Do(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Kh(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Do(Lo().mark((function e(t){var n=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return $h(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Do(Lo().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=jh(e,!1).getAll();return new zh(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Mo(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Do(Lo().mark((function t(){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Qh.type="LOCAL";var Yh=Qh;function Jh(e,t){return kc(e,"POST","/v2/accounts/mfaSignIn:start",gc(e,t))}function Xh(e){return Zh.apply(this,arguments)}function Zh(){return(Zh=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kc(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ed(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=tc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function td(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var nd=1e12,rd=function(){function e(t){Ao(this,e),this.auth=t,this.counter=nd,this._widgets=new Map}return Ro(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new id(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||nd;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||nd;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Do(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||nd,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),id=function(){function e(t,n,r){var i=this;Ao(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ac(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Ro(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ad=td("rcb"),od=new dc(3e4,6e4),ud="https://www.google.com/recaptcha/api.js?",sd=function(){function e(){Ao(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ph().grecaptcha}return Ro(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ac(cd(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ph().grecaptcha):new Promise((function(r,i){var a=Ph().setTimeout((function(){i(tc(e,"network-request-failed"))}),od.get());Ph()[ad]=function(){Ph().clearTimeout(a),delete Ph()[ad];var o=Ph().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(tc(e,"internal-error"))},ed("".concat(ud,"?").concat(hu({onload:ad,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(tc(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Ph().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function cd(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var ld=function(){function e(){Ao(this,e)}return Ro(e,[{key:"load",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new rd(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),fd="recaptcha",hd={theme:"light",type:"image"},dd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},hd),r=arguments.length>2?arguments[2]:void 0;Ao(this,e),this.parameters=n,this.type=fd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yl(r),this.isInvisible="invisible"===this.parameters.size,ac("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ac(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ld:new sd,this.validateStartingState()}return Ro(e,[{key:"verify",value:function(){var e=Do(Lo().mark((function e(){var t,n,r,i=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ac(!this.parameters.sitekey,this.auth,"argument-error"),ac(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ac("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ph()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ac(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Do(Lo().mark((function e(){var t,n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Do(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ac(fc()&&!Dh(),this.auth,"internal-error"),e.next=3,pd();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Xh(this.auth);case 8:ac(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ac(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function pd(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var vd=function(){function e(t,n){Ao(this,e),this.verificationId=t,this.onConfirmation=n}return Ro(e,[{key:"confirm",value:function(e){var t=tf._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function md(){return(md=Do(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yl(t),e.next=3,bd(i,n,gu(r));case 3:return a=e.sent,e.abrupt("return",new vd(a,(function(e){return Pf(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yd(e,t,n){return gd.apply(this,arguments)}function gd(){return(gd=Do(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gu(t),e.next=3,Ef(!1,i,"phone");case 3:return e.next=5,bd(i.auth,n,gu(r));case 5:return a=e.sent,e.abrupt("return",new vd(a,(function(e){return Of(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kd(){return(kd=Do(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gu(t),e.next=3,bd(i.auth,n,gu(r));case 3:return a=e.sent,e.abrupt("return",new vd(a,(function(e){return Mf(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bd(e,t,n){return wd.apply(this,arguments)}function wd(){return wd=Do(Lo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ac("string"===typeof a,t,"argument-error"),ac(r.type===fd,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return ac("enroll"===u.type,t,"internal-error"),e.next=13,kh(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return ac("signin"===u.type,t,"internal-error"),ac(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Jh(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ql(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),wd.apply(this,arguments)}function xd(){return(xd=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,If(gu(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _d=function(){function e(t){Ao(this,e),this.providerId=e.PROVIDER_ID,this.auth=yl(t)}return Ro(e,[{key:"verifyPhoneNumber",value:function(e,t){return bd(this.auth,e,gu(t))}}],[{key:"credential",value:function(e,t){return tf._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?tf._fromTokenResponse(n,r):null}}]),e}();function Id(e,t){return t?cc(t):(ac(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}_d.PROVIDER_ID="phone",_d.PHONE_SIGN_IN_METHOD="phone";var Sd=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ao(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Ro(n,[{key:"_getIdTokenResponse",value:function(e){return Kl(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Kl(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Kl(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(xl);function Ed(e){return Nf(e.auth,new Sd(e),e.bypassAuthState)}function Td(e){var t=e.auth,n=e.user;return ac(n,t,"internal-error"),Cf(n,new Sd(e),e.bypassAuthState)}function Cd(e){return Ad.apply(this,arguments)}function Ad(){return(Ad=Do(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ac(r=t.user,n,"internal-error"),e.abrupt("return",If(r,new Sd(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ao(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Ro(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Do(Lo().mark((function t(n,r){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Do(Lo().mark((function e(t){var n,r,i,a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ed;case"linkViaPopup":case"linkViaRedirect":return Cd;case"reauthViaPopup":case"reauthViaRedirect":return Td;default:ec(this.auth,"internal-error")}}},{key:"resolve",value:function(e){uc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){uc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Rd=new dc(2e3,1e4);function Pd(e,t,n){return Dd.apply(this,arguments)}function Dd(){return(Dd=Do(Lo().mark((function e(t,n,r){var i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yl(t),rc(t,n,af),a=Id(i,r),o=new Fd(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Od(){return(Od=Do(Lo().mark((function e(t,n,r){var i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rc((i=gu(t)).auth,n,af),a=Id(i.auth,r),o=new Fd(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ld(e,t,n){return Md.apply(this,arguments)}function Md(){return(Md=Do(Lo().mark((function e(t,n,r){var i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rc((i=gu(t)).auth,n,af),a=Id(i.auth,r),o=new Fd(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fd=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i,a,o){var u;return Ao(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=$r(u),u}return Ro(n,[{key:"executeNotNull",value:function(){var e=Do(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ac(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Do(Lo().mark((function e(){var t,n=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uc(1===this.filter.length,"Popup operations only handle one event"),t=Nh(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(tc(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(tc(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(tc(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Rd.get())}()}}]),n}(Nd);Fd.currentPopupAction=null;var Vd=new Map,Ud=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ao(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Ro(n,[{key:"execute",value:function(){var e=Do(Lo().mark((function e(){var t,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Vd.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,zd(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Os(Vo(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Vd.set(this.auth._key(),t);case 21:return this.bypassAuthState||Vd.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Do(Lo().mark((function e(t){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Os(Vo(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Os(Vo(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Nd);function zd(e,t){return jd.apply(this,arguments)}function jd(){return(jd=Do(Lo().mark((function e(t,n){var r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gd(n),i=Wd(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bd(e,t){return qd.apply(this,arguments)}function qd(){return(qd=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wd(t)._set(Gd(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wd(e){return cc(e._redirectPersistence)}function Gd(e){return tl("pendingRedirect",e.config.apiKey,e.name)}function Kd(e,t,n){return function(e,t,n){return Hd.apply(this,arguments)}(e,t,n)}function Hd(){return(Hd=Do(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yl(t),rc(t,n,af),a=Id(i,r),e.next=5,Bd(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $d(e,t,n){return function(e,t,n){return Qd.apply(this,arguments)}(e,t,n)}function Qd(){return(Qd=Do(Lo().mark((function e(t,n,r){var i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rc((i=gu(t)).auth,n,af),a=Id(i.auth,r),e.next=5,Bd(a,i.auth);case 5:return e.next=7,np(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yd(e,t,n){return function(e,t,n){return Jd.apply(this,arguments)}(e,t,n)}function Jd(){return(Jd=Do(Lo().mark((function e(t,n,r){var i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rc((i=gu(t)).auth,n,af),a=Id(i.auth,r),e.next=5,Ef(!1,i,n.providerId);case 5:return e.next=7,Bd(a,i.auth);case 7:return e.next=9,np(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xd(e,t){return Zd.apply(this,arguments)}function Zd(){return(Zd=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yl(t)._initializationPromise;case 2:return e.abrupt("return",ep(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ep(e,t){return tp.apply(this,arguments)}function tp(){return tp=Do(Lo().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=yl(t),a=Id(i,n),o=new Ud(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),tp.apply(this,arguments)}function np(e){return rp.apply(this,arguments)}function rp(){return(rp=Do(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nh("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ip=function(){function e(t){Ao(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Ro(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return op(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!op(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(tc(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ap(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ap(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ap(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function op(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function up(e){return sp.apply(this,arguments)}function sp(){return sp=Do(Lo().mark((function e(t){var n,r=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",kc(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),sp.apply(this,arguments)}var cp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lp=/^https?/;function fp(){return(fp=Do(Lo().mark((function e(t){var n,r,i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,up(t);case 4:n=e.sent,r=n.authorizedDomains,i=Mo(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!hp(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ec(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function hp(e){var t=lc(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!lp.test(r))return!1;if(cp.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var dp=new dc(3e4,6e4);function pp(){var e=Ph().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=s(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var vp=null;function mp(e){return vp=vp||function(e){return new Promise((function(t,n){var r,i,a;function o(){pp(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){pp(),n(tc(e,"network-request-failed"))},timeout:dp.get()})}if(null===(i=null===(r=Ph().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ph().gapi)||void 0===a?void 0:a.load)){var u=td("iframefcb");return Ph()[u]=function(){gapi.load?o():n(tc(e,"network-request-failed"))},ed("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw vp=null,e}))}(e),vp}var yp=new dc(5e3,15e3),gp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bp(e){var t=e.config;ac(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?pc(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ns},i=kp.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(hu(r).slice(1))}function wp(e){return xp.apply(this,arguments)}function xp(){return xp=Do(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mp(t);case 2:return n=e.sent,ac(r=Ph().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:bp(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gp,dontclear:!0},(function(e){return new Promise(function(){var n=Do(Lo().mark((function n(r,i){var a,o,u;return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ph().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=tc(t,"network-request-failed"),o=Ph().setTimeout((function(){i(a)}),yp.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),xp.apply(this,arguments)}var _p={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ip="_blank",Sp="http://localhost",Ep=function(){function e(t){Ao(this,e),this.window=t,this.associatedEvent=null}return Ro(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Tp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},_p),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Xo().toLowerCase();n&&(u=ol(c)?Ip:n),il(c)&&(t=t||Sp,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=f(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(hl(c)&&"_self"!==u)return Cp(t||"",u),new Ep(null);var h=window.open(t||"",u,l);ac(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Ep(h)}function Cp(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ap="__/auth/handler",Np="emulator/auth/handler";function Rp(e,t,n,r,i,a){ac(e.config.authDomain,e,"auth-domain-config-required"),ac(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ns,eventId:i};if(t instanceof af){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=f(s[u],2),l=c[0],h=c[1];o[l]=h}}if(t instanceof of){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ap);return pc(t,Np)}(e),"?").concat(hu(p).slice(1))}var Pp="webStorageSupport",Dp=function(){function e(){Ao(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Th,this._completeRedirectFn=ep}return Ro(e,[{key:"_openPopup",value:function(){var e=Do(Lo().mark((function e(t,n,r,i){var a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uc(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Rp(t,n,r,lc(),i),e.abrupt("return",Tp(t,o,Nh()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Do(Lo().mark((function e(t,n,r,i){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Rp(t,n,r,lc(),i),Ph().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(uc(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Do(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wp(t);case 2:return n=e.sent,r=new ip(t),n.register("authEvent",(function(e){return ac(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Pp,{type:Pp},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ec(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return fp.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return pl()||al()||fl()}}]),e}(),Op=Dp,Lp=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ao(this,n),(r=t.call(this,"phone")).credential=e,r}return Ro(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return kc(e,"POST","/v2/accounts/mfaEnrollment:finalize",gc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return kc(e,"POST","/v2/accounts/mfaSignIn:finalize",gc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Ao(this,e),this.factorId=t}return Ro(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return oc("unexpected MultiFactorSessionType")}}}]),e}()),Mp=function(){function e(){Ao(this,e)}return Ro(e,null,[{key:"assertion",value:function(e){return Lp._fromCredential(e)}}]),e}();Mp.FACTOR_ID="phone";var Fp,Vp="@firebase/auth",Up="0.19.11",zp=function(){function e(t){Ao(this,e),this.auth=t,this.internalListeners=new Map}return Ro(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Do(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ac(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function jp(){return window}Fp="Browser",Qu(new Iu("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){ac(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),ac(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Fp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vl(Fp)},i=new ml(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Qu(new Iu("auth-internal",(function(e){return function(e){return new zp(e)}(yl(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ss(Vp,Up,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Fp)),ss(Vp,Up,"esm2017");function Bp(e,t,n){return qp.apply(this,arguments)}function qp(){return qp=Do(Lo().mark((function e(t,n,r){var i,a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=jp(),o=a.BuildInfo,uc(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Qp(n.sessionId);case 4:return u=e.sent,s={},fl()?s.ibi=o.packageName:sl()?s.apn=o.packageName:ec(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Rp(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),qp.apply(this,arguments)}function Wp(){return(Wp=Do(Lo().mark((function e(t){var n,r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jp(),r=n.BuildInfo,i={},fl()?i.iosBundleId=r.packageName:sl()?i.androidPackageName=r.packageName:ec(t,"operation-not-supported-in-this-environment"),e.next=5,up(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gp(e){var t=jp().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Kp(e,t,n){return Hp.apply(this,arguments)}function Hp(){return Hp=Do(Lo().mark((function e(t,n,r){var i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jp(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(tc(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),sl()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Hp.apply(this,arguments)}function $p(e){var t,n,r,i,a,o,u,s,c,l,f=jp();ac("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ac("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ac("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ac("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ac("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Qp(e){return Yp.apply(this,arguments)}function Yp(){return(Yp=Do(Lo().mark((function e(t){var n,r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jp(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jp(e){if(uc(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Xp=function(e){Fo(n,e);var t=Bo(n);function n(){var e;return Ao(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Ro(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Os(Vo(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ip);function Zp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:iv(),postBody:null,tenantId:e.tenantId,error:tc(e,"no-auth-event")}}function ev(e,t){return av()._set(ov(e),t)}function tv(e){return nv.apply(this,arguments)}function nv(){return(nv=Do(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,av()._get(ov(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,av()._remove(ov(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rv(e,t){var n,r,i=function(e){var t=uv(e),n=t.link?decodeURIComponent(t.link):void 0,r=uv(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return uv(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=uv(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?tc(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function iv(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function av(){return cc(Sh)}function ov(e){return tl("authEvent",e.config.apiKey,e.name)}function uv(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=c(t=n)||o(t)||u(t)||l();r[0];return du(r.slice(1).join("?"))}var sv=function(){function e(){Ao(this,e),this._redirectPersistence=Th,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ep}return Ro(e,[{key:"_initialize",value:function(){var e=Do(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Xp(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ec(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Do(Lo().mark((function e(t,n,r,i){var a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $p(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Vd.clear(),e.next=10,this._originValidation(t);case 10:return o=Zp(t,r,i),e.next=13,ev(t,o);case 13:return e.next=15,Bp(t,o,n);case 15:return u=e.sent,e.next=18,Gp(u);case 18:return s=e.sent,e.abrupt("return",Kp(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Wp.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=jp(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Do(Lo().mark((function n(){return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tv(e);case 2:t.onEvent(lv());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Do(Lo().mark((function n(r){var i,a;return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,tv(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=rv(i,r.url)),t.onEvent(a||lv());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");jp().handleOpenURL=function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),cv=sv;function lv(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:tc("no-auth-event")}}function fv(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function hv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo();return!("file:"!==fv()&&"ionic:"!==fv()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function dv(){return ru()&&11===(null===document||void 0===document?void 0:document.documentMode)}function pv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo();return/Edge\/\d+/.test(e)}function vv(){try{var e=self.localStorage,t=Nh();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo();return dv()||pv(e)}()||iu()}catch(n){return mv()&&iu()}return!1}function mv(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function yv(){return("http:"===fv()||"https:"===fv()||tu()||hv())&&!(nu()||eu())&&vv()&&!mv()}function gv(){return hv()&&"undefined"!==typeof document}function kv(){return bv.apply(this,arguments)}function bv(){return(bv=Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gv()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wv={LOCAL:"local",NONE:"none",SESSION:"session"},xv=ac,_v="persistence";function Iv(e,t){xv(Object.values(wv).includes(t),e,"invalid-persistence-type"),nu()?xv(t!==wv.SESSION,e,"unsupported-persistence-type"):eu()?xv(t===wv.NONE,e,"unsupported-persistence-type"):mv()?xv(t===wv.NONE||t===wv.LOCAL&&iu(),e,"unsupported-persistence-type"):xv(t===wv.NONE||vv(),e,"unsupported-persistence-type")}function Sv(e){return Ev.apply(this,arguments)}function Ev(){return(Ev=Do(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Tv(),r=tl(_v,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tv(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Cv=ac,Av=function(){function e(){Ao(this,e),this.browserResolver=cc(Op),this.cordovaResolver=cc(cv),this.underlyingResolver=null,this._redirectPersistence=Th,this._completeRedirectFn=ep}return Ro(e,[{key:"_initialize",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Do(Lo().mark((function e(t,n,r,i){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Do(Lo().mark((function e(t,n,r,i){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return gv()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Cv(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Do(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,kv();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Nv(e){return e.unwrap()}function Rv(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Mv(e,function(e,t){var n,r=gu(e),i=t;return ac(t.customData.operationType,r,"argument-error"),ac(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),gh._fromError(r,i)}(e,t));else if(r){var i=Pv(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Pv(e){var t=(e instanceof au?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof au)&&"temporaryProof"in t&&"phoneNumber"in t)return _d.credentialFromResult(e);var n,r=t.providerId;if(!r||r===zs)return null;switch(r){case Us:n=cf;break;case Fs:n=sf;break;case Vs:n=lf;break;case js:n=df;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?ff._create(r,u):$l._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new uf(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof au?n.credentialFromError(e):n.credentialFromResult(e)}function Dv(e,t){return t.catch((function(t){throw t instanceof au&&Rv(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Pv(t)),additionalUserInfo:mh(e),user:Fv.getOrCreate(r)}}))}function Ov(e,t){return Lv.apply(this,arguments)}function Lv(){return(Lv=Do(Lo().mark((function e(t,n){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Dv(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mv=function(){function e(t,n){Ao(this,e),this.resolver=n,this.auth=t.wrapped()}return Ro(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Dv(Nv(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Fv=function(){function e(t){Ao(this,e),this._delegate=t,this.multiFactor=function(e){var t=gu(e);return wh.has(t)||wh.set(t,bh._fromUser(t)),wh.get(t)}(t)}return Ro(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dv(this.auth,Of(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ov(this.auth,yd(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dv(this.auth,Ld(this._delegate,t,Av)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sv(yl(this.auth));case 2:return e.abrupt("return",Yd(this._delegate,t,Av));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dv(this.auth,Mf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Ov(this.auth,function(e,t,n){return kd.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Dv(this.auth,function(e,t,n){return Od.apply(this,arguments)}(this._delegate,e,Av))}},{key:"reauthenticateWithRedirect",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sv(yl(this.auth));case 2:return e.abrupt("return",$d(this._delegate,t,Av));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return rh.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xf(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return sh(gu(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return sh(gu(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return xd.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return uh.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ih.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Fv.USER_MAP=new WeakMap;var Vv=ac,Uv=function(){function e(t,n){if(Ao(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Vv(r,"invalid-api-key",{appName:t.name}),Vv(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Av:void 0;this._delegate=n.initialize({options:{persistence:jv(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Qs),this.linkUnderlyingAuth()}return Ro(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Fv.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){kl(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Kf.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Hf(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Gf.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dv(this._delegate,Yf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return nh.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=nf.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Do(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vv(yv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Xd(this._delegate,Av);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Dv(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){yl(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=zv(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=zv(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Xf.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Wf.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Do(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Iv(this._delegate,t),e.t0=t,e.next=e.t0===wv.SESSION?4:e.t0===wv.LOCAL?6:e.t0===wv.NONE?11:13;break;case 4:return n=Th,e.abrupt("break",14);case 6:return e.next=8,cc(Yh)._isAvailable();case 8:return r=e.sent,n=r?Yh:Sh,e.abrupt("break",14);case 11:return n=el,e.abrupt("break",14);case 13:return e.abrupt("return",ec("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Dv(this._delegate,function(e){return gf.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Dv(this._delegate,Pf(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Dv(this._delegate,function(e,t){return zf.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Dv(this._delegate,function(e,t,n){return Pf(gu(e),rf.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Dv(this._delegate,function(e,t,n){return Zf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Ov(this._delegate,function(e,t,n){return md.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vv(yv(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Dv(this._delegate,Pd(this._delegate,t,Av)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vv(yv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Sv(this._delegate);case 3:return e.abrupt("return",Kd(this._delegate,t,Av));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Qf.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function zv(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Fv.getOrCreate(e))},error:t,complete:n}}function jv(e,t){var n=function(e,t){var n=Tv();if(!n)return[];var r=tl(_v,e,t);switch(n.getItem(r)){case wv.NONE:return[el];case wv.LOCAL:return[Yh,Th];case wv.SESSION:return[Th];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Yh)||n.push(Yh),"undefined"!==typeof window)for(var r=0,i=[Sh,Th];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(el)||n.push(el),n}Uv.Persistence=wv;var Bv=function(){function e(){Ao(this,e),this.providerId="phone",this._delegate=new _d(Nv(Ps.auth()))}return Ro(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return _d.credential(e,t)}}]),e}();Bv.PHONE_SIGN_IN_METHOD=_d.PHONE_SIGN_IN_METHOD,Bv.PROVIDER_ID=_d.PROVIDER_ID;var qv,Wv=ac,Gv=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ps.app();Ao(this,e),Wv(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new dd(t,n,i.auth()),this.type=this._delegate.type}return Ro(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(qv=Ps).INTERNAL.registerComponent(new Iu("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Uv(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Bs,PASSWORD_RESET:qs,RECOVER_EMAIL:Ws,REVERT_SECOND_FACTOR_ADDITION:Gs,VERIFY_AND_CHANGE_EMAIL:Ks,VERIFY_EMAIL:Hs}},EmailAuthProvider:rf,FacebookAuthProvider:sf,GithubAuthProvider:lf,GoogleAuthProvider:cf,OAuthProvider:uf,SAMLAuthProvider:hf,PhoneAuthProvider:Bv,PhoneMultiFactorGenerator:Mp,RecaptchaVerifier:Gv,TwitterAuthProvider:df,Auth:Uv,AuthCredential:xl,Error:au}).setInstantiationMode("LAZY").setMultipleInstances(!1)),qv.registerVersion("@firebase/auth-compat","0.2.11");var Kv,Hv="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},$v={},Qv=Qv||{},Yv=Hv||self;function Jv(){}function Xv(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Zv(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var em="closure_uid_"+(1e9*Math.random()>>>0),tm=0;function nm(e,t,n){return e.call.apply(e.bind,arguments)}function rm(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function im(e,t,n){return(im=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nm:rm).apply(null,arguments)}function am(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function om(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function um(){this.s=this.s,this.o=this.o}var sm={};um.prototype.s=!1,um.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,em)&&e[em]||(e[em]=++tm)}(this);delete sm[e]}},um.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var cm=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},lm=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function fm(e){return Array.prototype.concat.apply([],arguments)}function hm(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function dm(e){return/^[\s\xa0]*$/.test(e)}var pm,vm=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function mm(e,t){return-1!=e.indexOf(t)}function ym(e,t){return e<t?-1:e>t?1:0}e:{var gm=Yv.navigator;if(gm){var km=gm.userAgent;if(km){pm=km;break e}}pm=""}function bm(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function wm(e){var t={};for(var n in e)t[n]=e[n];return t}var xm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _m(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<xm.length;a++)n=xm[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Im(e){return Im[" "](e),e}Im[" "]=Jv;var Sm,Em=mm(pm,"Opera"),Tm=mm(pm,"Trident")||mm(pm,"MSIE"),Cm=mm(pm,"Edge"),Am=Cm||Tm,Nm=mm(pm,"Gecko")&&!(mm(pm.toLowerCase(),"webkit")&&!mm(pm,"Edge"))&&!(mm(pm,"Trident")||mm(pm,"MSIE"))&&!mm(pm,"Edge"),Rm=mm(pm.toLowerCase(),"webkit")&&!mm(pm,"Edge");function Pm(){var e=Yv.document;return e?e.documentMode:void 0}e:{var Dm="",Om=function(){var e=pm;return Nm?/rv:([^\);]+)(\)|;)/.exec(e):Cm?/Edge\/([\d\.]+)/.exec(e):Tm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Rm?/WebKit\/(\S+)/.exec(e):Em?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Om&&(Dm=Om?Om[1]:""),Tm){var Lm=Pm();if(null!=Lm&&Lm>parseFloat(Dm)){Sm=String(Lm);break e}}Sm=Dm}var Mm,Fm={};function Vm(){return function(e){var t=Fm;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=vm(String(Sm)).split("."),n=vm("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ym(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ym(0==a[2].length,0==o[2].length)||ym(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Yv.document&&Tm){var Um=Pm();Mm=Um||(parseInt(Sm,10)||void 0)}else Mm=void 0;var zm=Mm,jm=function(){if(!Yv.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Yv.addEventListener("test",Jv,t),Yv.removeEventListener("test",Jv,t)}catch(n){}return e}();function Bm(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function qm(e,t){if(Bm.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Nm){e:{try{Im(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Wm[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&qm.Z.h.call(this)}}Bm.prototype.h=function(){this.defaultPrevented=!0},om(qm,Bm);var Wm={2:"touch",3:"pen",4:"mouse"};qm.prototype.h=function(){qm.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Gm="closure_listenable_"+(1e6*Math.random()|0),Km=0;function Hm(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Km,this.ca=this.fa=!1}function $m(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Qm(e){this.src=e,this.g={},this.h=0}function Ym(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=cm(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&($m(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Jm(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Qm.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Jm(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Hm(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Xm="closure_lm_"+(1e6*Math.random()|0),Zm={};function ey(e,t,n,r,i){if(r&&r.once)return ny(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ey(e,t[a],n,r,i);return null}return n=cy(n),e&&e[Gm]?e.N(t,n,Zv(r)?!!r.capture:!!r,i):ty(e,t,n,!1,r,i)}function ty(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Zv(i)?!!i.capture:!!i,u=uy(e);if(u||(e[Xm]=u=new Qm(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=oy;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)jm||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ay(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ny(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ny(e,t[a],n,r,i);return null}return n=cy(n),e&&e[Gm]?e.O(t,n,Zv(r)?!!r.capture:!!r,i):ty(e,t,n,!0,r,i)}function ry(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ry(e,t[a],n,r,i);else r=Zv(r)?!!r.capture:!!r,n=cy(n),e&&e[Gm]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Jm(a=e.g[t],n,r,i))&&($m(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=uy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Jm(t,n,r,i)),(n=-1<e?t[e]:null)&&iy(n))}function iy(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Gm])Ym(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ay(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=uy(t))?(Ym(n,e),0==n.h&&(n.src=null,t[Xm]=null)):$m(e)}}}function ay(e){return e in Zm?Zm[e]:Zm[e]="on"+e}function oy(e,t){if(e.ca)e=!0;else{t=new qm(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&iy(e),e=n.call(r,t)}return e}function uy(e){return(e=e[Xm])instanceof Qm?e:null}var sy="__closure_events_fn_"+(1e9*Math.random()>>>0);function cy(e){return"function"===typeof e?e:(e[sy]||(e[sy]=function(t){return e.handleEvent(t)}),e[sy])}function ly(){um.call(this),this.i=new Qm(this),this.P=this,this.I=null}function fy(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Bm(t,e);else if(t instanceof Bm)t.target=t.target||e;else{var i=t;_m(t=new Bm(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=hy(o,r,!0,t)&&i}if(i=hy(o=t.g=e,r,!0,t)&&i,i=hy(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=hy(o=t.g=n[a],r,!1,t)&&i}function hy(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Ym(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}om(ly,um),ly.prototype[Gm]=!0,ly.prototype.removeEventListener=function(e,t,n,r){ry(this,e,t,n,r)},ly.prototype.M=function(){if(ly.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$m(n[r]);delete t.g[e],t.h--}}this.I=null},ly.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ly.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var dy=Yv.JSON.stringify;function py(){var e=xy,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var vy,my=function(){function e(){Ao(this,e),this.h=this.g=null}return Ro(e,[{key:"add",value:function(e,t){var n=yy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),yy=new(function(){function e(t,n){Ao(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ro(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new gy}),(function(e){return e.reset()})),gy=function(){function e(){Ao(this,e),this.next=this.g=this.h=null}return Ro(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ky(e){Yv.setTimeout((function(){throw e}),0)}function by(e,t){vy||function(){var e=Yv.Promise.resolve(void 0);vy=function(){e.then(_y)}}(),wy||(vy(),wy=!0),xy.add(e,t)}var wy=!1,xy=new my;function _y(){for(var e;e=py();){try{e.h.call(e.g)}catch(n){ky(n)}var t=yy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}wy=!1}function Iy(e,t){ly.call(this),this.h=e||1,this.g=t||Yv,this.j=im(this.kb,this),this.l=Date.now()}function Sy(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ey(e,t,n){if("function"===typeof e)n&&(e=im(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=im(e.handleEvent,e)}return 2147483647<Number(t)?-1:Yv.setTimeout(e,t||0)}function Ty(e){e.g=Ey((function(){e.g=null,e.i&&(e.i=!1,Ty(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}om(Iy,ly),(Kv=Iy.prototype).da=!1,Kv.S=null,Kv.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),fy(this,"tick"),this.da&&(Sy(this),this.start()))}},Kv.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Kv.M=function(){Iy.Z.M.call(this),Sy(this),delete this.g};var Cy=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ao(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ro(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ty(this)}},{key:"M",value:function(){Os(Vo(n.prototype),"M",this).call(this),this.g&&(Yv.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(um);function Ay(e){um.call(this),this.h=e,this.g={}}om(Ay,um);var Ny=[];function Ry(e,t,n,r){Array.isArray(n)||(n&&(Ny[0]=n.toString()),n=Ny);for(var i=0;i<n.length;i++){var a=ey(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Py(e){bm(e.g,(function(e,t){this.g.hasOwnProperty(t)&&iy(e)}),e),e.g={}}function Dy(){this.g=!0}function Oy(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return dy(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Ay.prototype.M=function(){Ay.Z.M.call(this),Py(this)},Ay.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dy.prototype.Aa=function(){this.g=!1},Dy.prototype.info=function(){};var Ly={},My=null;function Fy(){return My=My||new ly}function Vy(e){Bm.call(this,Ly.Ma,e)}function Uy(e){var t=Fy();fy(t,new Vy(t,e))}function zy(e,t){Bm.call(this,Ly.STAT_EVENT,e),this.stat=t}function jy(e){var t=Fy();fy(t,new zy(t,e))}function By(e,t){Bm.call(this,Ly.Na,e),this.size=t}function qy(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Yv.setTimeout((function(){e()}),t)}Ly.Ma="serverreachability",om(Vy,Bm),Ly.STAT_EVENT="statevent",om(zy,Bm),Ly.Na="timingevent",om(By,Bm);var Wy={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Gy={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ky(){}function Hy(e){return e.h||(e.h=e.i())}function $y(){}Ky.prototype.h=null;var Qy,Yy={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Jy(){Bm.call(this,"d")}function Xy(){Bm.call(this,"c")}function Zy(){}function eg(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ay(this),this.P=ng,e=Am?125:void 0,this.W=new Iy(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new tg}function tg(){this.i=null,this.g="",this.h=!1}om(Jy,Bm),om(Xy,Bm),om(Zy,Ky),Zy.prototype.g=function(){return new XMLHttpRequest},Zy.prototype.i=function(){return{}},Qy=new Zy;var ng=45e3,rg={},ig={};function ag(e,t,n){e.K=1,e.v=Cg(xg(t)),e.s=n,e.U=!0,og(e,null)}function og(e,t){e.F=Date.now(),lg(e),e.A=xg(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),jg(n.h,"t",r),e.C=0,n=e.l.H,e.h=new tg,e.g=qk(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Cy(im(e.Ia,e,e.g),e.O)),Ry(e.V,e.g,"readystatechange",e.gb),t=e.H?wm(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Uy(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function ug(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function sg(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=cg(e,n))==ig){4==t&&(e.o=4,jy(14),i=!1),Oy(e.j,e.m,null,"[Incomplete Response]");break}if(r==rg){e.o=4,jy(15),Oy(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Oy(e.j,e.m,r,null),vg(e,r)}ug(e)&&r!=ig&&r!=rg&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,jy(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Lk(t),t.L=!0,jy(11))):(Oy(e.j,e.m,n,"[Invalid Chunked Response]"),pg(e),dg(e))}function cg(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ig:(n=Number(t.substring(n,r)),isNaN(n)?rg:(r+=1)+n>t.length?ig:(t=t.substr(r,n),e.C=r+n,t))}function lg(e){e.Y=Date.now()+e.P,fg(e,e.P)}function fg(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=qy(im(e.eb,e),t)}function hg(e){e.B&&(Yv.clearTimeout(e.B),e.B=null)}function dg(e){0==e.l.G||e.I||Vk(e.l,e)}function pg(e){hg(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Sy(e.W),Py(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function vg(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Qg(n.i,e)))if(n.I=e.N,!e.J&&Qg(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Fk(n),Ek(n)}Ok(n),jy(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=qy(im(n.ab,n),6e3));if(1>=$g(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else zk(n,11)}else if((e.J||n.g==e)&&Fk(n),!dm(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(mm(l,"spdy")||mm(l,"quic")||mm(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Yg(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Tg(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Bk(r,r.H?r.la:null,r.W),d.J){Jg(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(hg(p),lg(p)),r.g=d}else Dk(r);0<n.l.length&&Ak(n)}else"stop"!=a[0]&&"close"!=a[0]||zk(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?zk(n,7):Sk(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Uy(4)}catch(a){}}function mg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Xv(e)||"string"===typeof e)lm(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Xv(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Xv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function yg(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof yg)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function gg(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];kg(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)kg(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function kg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Kv=eg.prototype).setTimeout=function(e){this.P=e},Kv.gb=function(e){e=e.target;var t=this.L;t&&3==bk(e)?t.l():this.Ia(e)},Kv.Ia=function(e){try{if(e==this.g)e:{var t=bk(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Am||this.g&&(this.h.h||this.g.ga()||wk(this.g)))){this.I||4!=t||7==n||Uy(8==n||0>=r?3:2),hg(this);var i=this.g.ba();this.N=i;t:if(ug(this)){var a=wk(this.g);e="";var o=a.length,u=4==bk(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){pg(this),dg(this);var s="";break t}this.h.i=new Yv.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dm(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,jy(12),pg(this),dg(this);break e}Oy(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,vg(this,i)}this.U?(sg(this,t,s),Am&&this.i&&3==t&&(Ry(this.V,this.W,"tick",this.fb),this.W.start())):(Oy(this.j,this.m,s,null),vg(this,s)),4==t&&pg(this),this.i&&!this.I&&(4==t?Vk(this.l,this):(this.i=!1,lg(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,jy(12)):(this.o=0,jy(13)),pg(this),dg(this)}}}catch(t){}},Kv.fb=function(){if(this.g){var e=bk(this.g),t=this.g.ga();this.C<t.length&&(hg(this),sg(this,e,t),this.i&&4!=e&&lg(this))}},Kv.cancel=function(){this.I=!0,pg(this)},Kv.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Uy(3),jy(17)),pg(this),this.o=2,dg(this)):fg(this,this.Y-e)},(Kv=yg.prototype).R=function(){gg(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Kv.T=function(){return gg(this),this.g.concat()},Kv.get=function(e,t){return kg(this.h,e)?this.h[e]:t},Kv.set=function(e,t){kg(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Kv.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var bg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wg(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof wg){this.g=void 0!==t?t:e.g,_g(this,e.j),this.s=e.s,Ig(this,e.i),Sg(this,e.m),this.l=e.l,t=e.h;var n=new Fg;n.i=t.i,t.g&&(n.g=new yg(t.g),n.h=t.h),Eg(this,n),this.o=e.o}else e&&(n=String(e).match(bg))?(this.g=!!t,_g(this,n[1]||"",!0),this.s=Ag(n[2]||""),Ig(this,n[3]||"",!0),Sg(this,n[4]),this.l=Ag(n[5]||"",!0),Eg(this,n[6]||"",!0),this.o=Ag(n[7]||"")):(this.g=!!t,this.h=new Fg(null,this.g))}function xg(e){return new wg(e)}function _g(e,t,n){e.j=n?Ag(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ig(e,t,n){e.i=n?Ag(t,!0):t}function Sg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Eg(e,t,n){t instanceof Fg?(e.h=t,function(e,t){t&&!e.j&&(Vg(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ug(this,t),jg(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ng(t,Lg)),e.h=new Fg(t,e.g))}function Tg(e,t,n){e.h.set(t,n)}function Cg(e){return Tg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ag(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ng(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Rg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Rg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}wg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ng(t,Pg,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ng(t,Pg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ng(n,"/"==n.charAt(0)?Og:Dg,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ng(n,Mg)),e.join("")};var Pg=/[#\/\?@]/g,Dg=/[#\?:]/g,Og=/[#\?]/g,Lg=/[#\?@]/g,Mg=/#/g;function Fg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Vg(e){e.g||(e.g=new yg,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ug(e,t){Vg(e),t=Bg(e,t),kg(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,kg((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&gg(e)))}function zg(e,t){return Vg(e),t=Bg(e,t),kg(e.g.h,t)}function jg(e,t,n){Ug(e,t),0<n.length&&(e.i=null,e.g.set(Bg(e,t),hm(n)),e.h+=n.length)}function Bg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Kv=Fg.prototype).add=function(e,t){Vg(this),this.i=null,e=Bg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Kv.forEach=function(e,t){Vg(this),this.g.forEach((function(n,r){lm(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Kv.T=function(){Vg(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Kv.R=function(e){Vg(this);var t=[];if("string"===typeof e)zg(this,e)&&(t=fm(t,this.g.get(Bg(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=fm(t,e[n])}return t},Kv.set=function(e,t){return Vg(this),this.i=null,zg(this,e=Bg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Kv.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Kv.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var qg=Ro((function e(t,n){Ao(this,e),this.h=t,this.g=n}));function Wg(e){this.l=e||Kg,Yv.PerformanceNavigationTiming?e=0<(e=Yv.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Yv.g&&Yv.g.Ea&&Yv.g.Ea()&&Yv.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Gg,Kg=10;function Hg(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $g(e){return e.h?1:e.g?e.g.size:0}function Qg(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Yg(e,t){e.g?e.g.add(t):e.h=t}function Jg(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Xg(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Mo(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return hm(e.i)}function Zg(){}function ek(){this.g=new Zg}function tk(e,t,n){var r=n||"";try{mg(e,(function(e,n){var i=e;Zv(e)&&(i=dy(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function nk(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function rk(e){this.l=e.$b||null,this.j=e.ib||!1}function ik(e,t){ly.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ak,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wg.prototype.cancel=function(){if(this.i=Xg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Mo(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Zg.prototype.stringify=function(e){return Yv.JSON.stringify(e,void 0)},Zg.prototype.parse=function(e){return Yv.JSON.parse(e,void 0)},om(rk,Ky),rk.prototype.g=function(){return new ik(this.l,this.j)},rk.prototype.i=(Gg={},function(){return Gg}),om(ik,ly);var ak=0;function ok(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function uk(e){e.readyState=4,e.l=null,e.j=null,e.A=null,sk(e)}function sk(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Kv=ik.prototype).open=function(e,t){if(this.readyState!=ak)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,sk(this)},Kv.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Yv).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Kv.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uk(this)),this.readyState=ak},Kv.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,sk(this)),this.g&&(this.readyState=3,sk(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Yv.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ok(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Kv.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?uk(this):sk(this),3==this.readyState&&ok(this)}},Kv.Ua=function(e){this.g&&(this.response=this.responseText=e,uk(this))},Kv.Ta=function(e){this.g&&(this.response=e,uk(this))},Kv.ha=function(){this.g&&uk(this)},Kv.setRequestHeader=function(e,t){this.v.append(e,t)},Kv.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Kv.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ik.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ck=Yv.JSON.parse;function lk(e){ly.call(this),this.headers=new yg,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fk,this.K=this.L=!1}om(lk,ly);var fk="",hk=/^https?$/i,dk=["POST","PUT"];function pk(e){return"content-type"==e.toLowerCase()}function vk(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,mk(e),gk(e)}function mk(e){e.D||(e.D=!0,fy(e,"complete"),fy(e,"error"))}function yk(e){if(e.h&&"undefined"!=typeof Qv&&(!e.C[1]||4!=bk(e)||2!=e.ba()))if(e.v&&4==bk(e))Ey(e.Fa,0,e);else if(fy(e,"readystatechange"),4==bk(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(bg)[1]||null;if(!a&&Yv.self&&Yv.self.location){var o=Yv.self.location.protocol;a=o.substr(0,o.length-1)}i=!hk.test(a?a.toLowerCase():"")}t=i}if(t)fy(e,"complete"),fy(e,"success");else{e.m=6;try{var u=2<bk(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",mk(e)}}finally{gk(e)}}}function gk(e,t){if(e.g){kk(e);var n=e.g,r=e.C[0]?Jv:null;e.g=null,e.C=null,t||fy(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function kk(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Yv.clearTimeout(e.A),e.A=null)}function bk(e){return e.g?e.g.readyState:0}function wk(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case fk:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function xk(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return bm(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Tg(e,t,n))}function _k(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ik(e){this.za=0,this.l=[],this.h=new Dy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_k("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_k("baseRetryDelayMs",5e3,e),this.$a=_k("retryDelaySeedMs",1e4,e),this.Ya=_k("forwardChannelMaxRetries",2,e),this.ra=_k("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Wg(e&&e.concurrentRequestLimit),this.Ca=new ek,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Sk(e){if(Tk(e),3==e.G){var t=e.V++,n=xg(e.F);Tg(n,"SID",e.J),Tg(n,"RID",t),Tg(n,"TYPE","terminate"),Rk(e,n),(t=new eg(e,e.h,t,void 0)).K=2,t.v=Cg(xg(n)),n=!1,Yv.navigator&&Yv.navigator.sendBeacon&&(n=Yv.navigator.sendBeacon(t.v.toString(),"")),!n&&Yv.Image&&((new Image).src=t.v,n=!0),n||(t.g=qk(t.l,null),t.g.ea(t.v)),t.F=Date.now(),lg(t)}jk(e)}function Ek(e){e.g&&(Lk(e),e.g.cancel(),e.g=null)}function Tk(e){Ek(e),e.u&&(Yv.clearTimeout(e.u),e.u=null),Fk(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Yv.clearTimeout(e.m),e.m=null)}function Ck(e,t){e.l.push(new qg(e.Za++,t)),3==e.G&&Ak(e)}function Ak(e){Hg(e.i)||e.m||(e.m=!0,by(e.Ha,e),e.C=0)}function Nk(e,t){var n;n=t?t.m:e.V++;var r=xg(e.F);Tg(r,"SID",e.J),Tg(r,"RID",n),Tg(r,"AID",e.U),Rk(e,r),e.o&&e.s&&xk(r,e.o,e.s),n=new eg(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Pk(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Yg(e.i,n),ag(n,r,t)}function Rk(e,t){e.j&&mg({},(function(e,n){Tg(t,n,e)}))}function Pk(e,t,n){n=Math.min(e.l.length,n);var r=e.j?im(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{tk(l,o,"req"+c+"_")}catch(mb){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Dk(e){e.g||e.u||(e.Y=1,by(e.Ga,e),e.A=0)}function Ok(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=qy(im(e.Ga,e),Uk(e,e.A)),e.A++,!0)}function Lk(e){null!=e.B&&(Yv.clearTimeout(e.B),e.B=null)}function Mk(e){e.g=new eg(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=xg(e.oa);Tg(t,"RID","rpc"),Tg(t,"SID",e.J),Tg(t,"CI",e.N?"0":"1"),Tg(t,"AID",e.U),Rk(e,t),Tg(t,"TYPE","xmlhttp"),e.o&&e.s&&xk(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Cg(xg(t)),n.s=null,n.U=!0,og(n,e)}function Fk(e){null!=e.v&&(Yv.clearTimeout(e.v),e.v=null)}function Vk(e,t){var n=null;if(e.g==t){Fk(e),Lk(e),e.g=null;var r=2}else{if(!Qg(e.i,t))return;n=t.D,Jg(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;fy(r=Fy(),new By(r,n,t,i)),Ak(e)}else Dk(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!($g(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=qy(im(e.Ha,e,t),Uk(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ok(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:zk(e,5);break;case 4:zk(e,10);break;case 3:zk(e,6);break;default:zk(e,2)}}function Uk(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function zk(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=im(e.jb,e);n||(n=new wg("//www.google.com/images/cleardot.gif"),Yv.location&&"http"==Yv.location.protocol||_g(n,"https"),Cg(n)),function(e,t){var n=new Dy;if(Yv.Image){var r=new Image;r.onload=am(nk,n,r,"TestLoadImage: loaded",!0,t),r.onerror=am(nk,n,r,"TestLoadImage: error",!1,t),r.onabort=am(nk,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=am(nk,n,r,"TestLoadImage: timeout",!1,t),Yv.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else jy(2);e.G=0,e.j&&e.j.va(t),jk(e),Tk(e)}function jk(e){e.G=0,e.I=-1,e.j&&(0==Xg(e.i).length&&0==e.l.length||(e.i.i.length=0,hm(e.l),e.l.length=0),e.j.ua())}function Bk(e,t,n){var r=function(e){return e instanceof wg?xg(e):new wg(e,void 0)}(n);if(""!=r.i)t&&Ig(r,t+"."+r.i),Sg(r,r.m);else{var i=Yv.location;r=function(e,t,n,r){var i=new wg(null,void 0);return e&&_g(i,e),t&&Ig(i,t),n&&Sg(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&bm(e.aa,(function(e,t){Tg(r,t,e)})),t=e.D,n=e.sa,t&&n&&Tg(r,t,n),Tg(r,"VER",e.ma),Rk(e,r),r}function qk(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new lk(new rk({ib:!0})):new lk(e.qa)).L=e.H,t}function Wk(){}function Gk(){if(Tm&&!(10<=Number(zm)))throw Error("Environmental error: no available transport.")}function Kk(e,t){ly.call(this),this.g=new Ik(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!dm(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!dm(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Qk(this)}function Hk(e){Jy.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function $k(){Xy.call(this),this.status=1}function Qk(e){this.g=e}(Kv=lk.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qy.g(),this.C=this.u?Hy(this.u):Hy(Qy),this.g.onreadystatechange=im(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void vk(this,a)}e=n||"";var i=new yg(this.headers);r&&mg(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=pk,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Yv.FormData&&e instanceof Yv.FormData,!(0<=cm(dk,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{kk(this),0<this.B&&((this.K=function(e){return Tm&&Vm()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=im(this.pa,this)):this.A=Ey(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){vk(this,a)}},Kv.pa=function(){"undefined"!=typeof Qv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fy(this,"timeout"),this.abort(8))},Kv.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,fy(this,"complete"),fy(this,"abort"),gk(this))},Kv.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gk(this,!0)),lk.Z.M.call(this)},Kv.Fa=function(){this.s||(this.F||this.v||this.l?yk(this):this.cb())},Kv.cb=function(){yk(this)},Kv.ba=function(){try{return 2<bk(this)?this.g.status:-1}catch(Gg){return-1}},Kv.ga=function(){try{return this.g?this.g.responseText:""}catch(Gg){return""}},Kv.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ck(t)}},Kv.Da=function(){return this.m},Kv.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Kv=Ik.prototype).ma=8,Kv.G=1,Kv.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Kv.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new eg(this,this.h,e,void 0),n=this.s;if(this.P&&(n?_m(n=wm(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Pk(this,t,r),Tg(i=xg(this.F),"RID",e),Tg(i,"CVER",22),this.D&&Tg(i,"X-HTTP-Session-Id",this.D),Rk(this,i),this.o&&n&&xk(i,this.o,n),Yg(this.i,t),this.Ra&&Tg(i,"TYPE","init"),this.ja?(Tg(i,"$req",r),Tg(i,"SID","null"),t.$=!0,ag(t,i,null)):ag(t,i,r),this.G=2}}else 3==this.G&&(e?Nk(this,e):0==this.l.length||Hg(this.i)||Nk(this))},Kv.Ga=function(){if(this.u=null,Mk(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=qy(im(this.bb,this),e)}},Kv.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,jy(10),Ek(this),Mk(this))},Kv.ab=function(){null!=this.v&&(this.v=null,Ek(this),Ok(this),jy(19))},Kv.jb=function(e){e?(this.h.info("Successfully pinged google.com"),jy(2)):(this.h.info("Failed to ping google.com"),jy(1))},(Kv=Wk.prototype).xa=function(){},Kv.wa=function(){},Kv.va=function(){},Kv.ua=function(){},Kv.Oa=function(){},Gk.prototype.g=function(e,t){return new Kk(e,t)},om(Kk,ly),Kk.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),by(im(e.hb,e,t))),jy(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Bk(e,null,e.W),Ak(e)},Kk.prototype.close=function(){Sk(this.g)},Kk.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Ck(this.g,t)}else this.v?((t={}).__data__=dy(e),Ck(this.g,t)):Ck(this.g,e)},Kk.prototype.M=function(){this.g.j=null,delete this.j,Sk(this.g),delete this.g,Kk.Z.M.call(this)},om(Hk,Jy),om($k,Xy),om(Qk,Wk),Qk.prototype.xa=function(){fy(this.g,"a")},Qk.prototype.wa=function(e){fy(this.g,new Hk(e))},Qk.prototype.va=function(e){fy(this.g,new $k(e))},Qk.prototype.ua=function(){fy(this.g,"b")},Gk.prototype.createWebChannel=Gk.prototype.g,Kk.prototype.send=Kk.prototype.u,Kk.prototype.open=Kk.prototype.m,Kk.prototype.close=Kk.prototype.close,Wy.NO_ERROR=0,Wy.TIMEOUT=8,Wy.HTTP_ERROR=6,Gy.COMPLETE="complete",$y.EventType=Yy,Yy.OPEN="a",Yy.CLOSE="b",Yy.ERROR="c",Yy.MESSAGE="d",ly.prototype.listen=ly.prototype.N,lk.prototype.listenOnce=lk.prototype.O,lk.prototype.getLastError=lk.prototype.La,lk.prototype.getLastErrorCode=lk.prototype.Da,lk.prototype.getStatus=lk.prototype.ba,lk.prototype.getResponseJson=lk.prototype.Qa,lk.prototype.getResponseText=lk.prototype.ga,lk.prototype.send=lk.prototype.ea;var Yk=$v.createWebChannelTransport=function(){return new Gk},Jk=$v.getStatEventTarget=function(){return Fy()},Xk=$v.ErrorCode=Wy,Zk=$v.EventType=Gy,eb=$v.Event=Ly,tb=$v.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},nb=$v.FetchXmlHttpFactory=rk,rb=$v.WebChannel=$y,ib=$v.XhrIo=lk,ab="@firebase/firestore",ob=function(){function e(t){Ao(this,e),this.uid=t}return Ro(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ob.UNAUTHENTICATED=new ob(null),ob.GOOGLE_CREDENTIALS=new ob("google-credentials-uid"),ob.FIRST_PARTY=new ob("first-party-uid"),ob.MOCK_USER=new ob("mock-user");var ub="9.6.10",sb=new Vu("@firebase/firestore");function cb(){return sb.logLevel}function lb(e){if(sb.logLevel<=Au.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(db);sb.debug.apply(sb,["Firestore (".concat(ub,"): ").concat(e)].concat(s(i)))}}function fb(e){if(sb.logLevel<=Au.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(db);sb.error.apply(sb,["Firestore (".concat(ub,"): ").concat(e)].concat(s(i)))}}function hb(e){if(sb.logLevel<=Au.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(db);sb.warn.apply(sb,["Firestore (".concat(ub,"): ").concat(e)].concat(s(i)))}}function db(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function pb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ub,") INTERNAL ASSERTION FAILED: ")+e;throw fb(t),new Error(t)}function vb(e,t){e||pb()}function mb(e,t){return e}var yb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},gb=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ao(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ro(n)}(au),kb=Ro((function e(){var t=this;Ao(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),bb=Ro((function e(t,n){Ao(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),wb=function(){function e(){Ao(this,e)}return Ro(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ob.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),xb=function(){function e(t){Ao(this,e),this.token=t,this.changeListener=null}return Ro(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),_b=function(){function e(t){Ao(this,e),this.t=t,this.currentUser=ob.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ro(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new kb;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new kb,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){lb("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(lb("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new kb)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(lb("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(vb("string"==typeof n.accessToken),new bb(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return vb(null===e||"string"==typeof e),new ob(e)}}]),e}(),Ib=Ro((function e(t,n,r){Ao(this,e),this.type="FirstParty",this.user=ob.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Sb=function(){function e(t,n,r){Ao(this,e),this.h=t,this.l=n,this.m=r}return Ro(e,[{key:"getToken",value:function(){return Promise.resolve(new Ib(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ob.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Eb=Ro((function e(t){Ao(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Tb=function(){function e(t){Ao(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Ro(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&lb("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,lb("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){lb("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):lb("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(vb("string"==typeof t.token),e.p=t.token,new Eb(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Cb=function(){function e(t,n){var r=this;Ao(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Ro(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Ab(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Cb.A=-1;var Nb=function(){function e(){Ao(this,e)}return Ro(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ab(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Rb(e,t){return e<t?-1:e>t?1:0}function Pb(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Db(e){return e+"\0"}var Ob=function(){function e(t,n){if(Ao(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new gb(yb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new gb(yb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new gb(yb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gb(yb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ro(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Rb(this.nanoseconds,e.nanoseconds):Rb(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Lb=function(){function e(t){Ao(this,e),this.timestamp=t}return Ro(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ob(0,0))}},{key:"max",value:function(){return new e(new Ob(253402300799,999999999))}}]),e}();function Mb(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Fb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Vb(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ub=function(){function e(t,n,r){Ao(this,e),void 0===n?n=0:n>t.length&&pb(),void 0===r?r=t.length-n:r>t.length-n&&pb(),this.segments=t,this.offset=n,this.len=r}return Ro(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),zb=function(e){Fo(n,e);var t=Bo(n);function n(){return Ao(this,n),t.apply(this,arguments)}return Ro(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new gb(yb.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,s(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ub),jb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bb=function(e){Fo(n,e);var t=Bo(n);function n(){return Ao(this,n),t.apply(this,arguments)}return Ro(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return jb.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new gb(yb.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new gb(yb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new gb(yb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new gb(yb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ub),qb=function(){function e(t){Ao(this,e),this.fields=t,t.sort(Bb.comparator)}return Ro(e,[{key:"covers",value:function(e){var t,n=Mo(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Pb(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Wb=function(e){function t(e){Ao(this,t),this.binaryString=e}return Ro(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Rb(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Wb.EMPTY_BYTE_STRING=new Wb("");var Gb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kb(e){if(vb(!!e),"string"==typeof e){var t=0,n=Gb.exec(e);if(vb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Hb(e.seconds),nanos:Hb(e.nanos)}}function Hb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function $b(e){return"string"==typeof e?Wb.fromBase64String(e):Wb.fromUint8Array(e)}function Qb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yb(e){var t=e.mapValue.fields.__previous_value__;return Qb(t)?Yb(t):t}function Jb(e){var t=Kb(e.mapValue.fields.__local_write_time__.timestampValue);return new Ob(t.seconds,t.nanos)}var Xb=Ro((function e(t,n,r,i,a,o,u,s){Ao(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Zb=function(){function e(t,n){Ao(this,e),this.projectId=t,this.database=n||"(default)"}return Ro(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function ew(e){return null==e}function tw(e){return 0===e&&1/e==-1/0}function nw(e){return"number"==typeof e&&Number.isInteger(e)&&!tw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var rw=function(){function e(t){Ao(this,e),this.path=t}return Ro(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===zb.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(zb.fromString(t))}},{key:"fromName",value:function(t){return new e(zb.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(zb.emptyPath())}},{key:"comparator",value:function(e,t){return zb.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new zb(t.slice()))}}]),e}(),iw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},aw={nullValue:"NULL_VALUE"};function ow(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Qb(e)?4:bw(e)?9:10:pb()}function uw(e,t){if(e===t)return!0;var n=ow(e);if(n!==ow(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Jb(e).isEqual(Jb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Kb(e.timestampValue),r=Kb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return $b(e.bytesValue).isEqual($b(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Hb(e.geoPointValue.latitude)===Hb(t.geoPointValue.latitude)&&Hb(e.geoPointValue.longitude)===Hb(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Hb(e.integerValue)===Hb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Hb(e.doubleValue),r=Hb(t.doubleValue);return n===r?tw(n)===tw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Pb(e.arrayValue.values||[],t.arrayValue.values||[],uw);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Mb(n)!==Mb(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!uw(n[i],r[i])))return!1;return!0}(e,t);default:return pb()}}function sw(e,t){return void 0!==(e.values||[]).find((function(e){return uw(e,t)}))}function cw(e,t){if(e===t)return 0;var n=ow(e),r=ow(t);if(n!==r)return Rb(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rb(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Hb(e.integerValue||e.doubleValue),r=Hb(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return lw(e.timestampValue,t.timestampValue);case 4:return lw(Jb(e),Jb(t));case 5:return Rb(e.stringValue,t.stringValue);case 6:return function(e,t){var n=$b(e),r=$b(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Rb(n[i],r[i]);if(0!==a)return a}return Rb(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Rb(Hb(e.latitude),Hb(t.latitude));return 0!==n?n:Rb(Hb(e.longitude),Hb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=cw(n[i],r[i]);if(a)return a}return Rb(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Rb(r[o],a[o]);if(0!==u)return u;var s=cw(n[r[o]],i[a[o]]);if(0!==s)return s}return Rb(r.length,a.length)}(e.mapValue,t.mapValue);default:throw pb()}}function lw(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Rb(e,t);var n=Kb(e),r=Kb(t),i=Rb(n.seconds,r.seconds);return 0!==i?i:Rb(n.nanos,r.nanos)}function fw(e){return hw(e)}function hw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Kb(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?$b(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,rw.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Mo(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=hw(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Mo(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(hw(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):pb();var t,n}function dw(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function pw(e){return!!e&&"integerValue"in e}function vw(e){return!!e&&"arrayValue"in e}function mw(e){return!!e&&"nullValue"in e}function yw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gw(e){return!!e&&"mapValue"in e}function kw(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Fb(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=kw(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=kw(e.arrayValue.values[r]);return n}return Object.assign({},e)}function bw(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ww(e,t){return void 0===e?t:void 0===t||cw(e,t)>0?e:t}function xw(e,t){return void 0===e?t:void 0===t||cw(e,t)<0?e:t}var _w=function(){function e(t){Ao(this,e),this.value=t}return Ro(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!gw(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kw(t)}},{key:"setAll",value:function(e){var t=this,n=Bb.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=kw(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());gw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return uw(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];gw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Fb(t,(function(t,n){return e[t]=n}));var r,i=Mo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(kw(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Iw(e){var t=[];return Fb(e.fields,(function(e,n){var r=new Bb([e]);if(gw(n)){var i=Iw(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Mo(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new qb(t)}var Sw=function(){function e(t,n,r,i,a,o){Ao(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Ro(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=_w.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=_w.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Lb.min(),Lb.min(),_w.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Lb.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Lb.min(),_w.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Lb.min(),_w.empty(),2)}}]),e}(),Ew=Ro((function e(t,n,r,i){Ao(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Tw(e){return e.fields.find((function(e){return 2===e.kind}))}function Cw(e){return e.fields.filter((function(e){return 2!==e.kind}))}Ew.UNKNOWN_ID=-1;var Aw=Ro((function e(t,n){Ao(this,e),this.fieldPath=t,this.kind=n})),Nw=function(){function e(t,n){Ao(this,e),this.sequenceNumber=t,this.offset=n}return Ro(e,null,[{key:"empty",value:function(){return new e(0,Dw.min())}}]),e}();function Rw(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Lb.fromTimestamp(1e9===r?new Ob(n+1,0):new Ob(n,r));return new Dw(i,rw.empty(),t)}function Pw(e){return new Dw(e.readTime,e.key,-1)}var Dw=function(){function e(t,n,r){Ao(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Ro(e,null,[{key:"min",value:function(){return new e(Lb.min(),rw.empty(),-1)}},{key:"max",value:function(){return new e(Lb.max(),rw.empty(),-1)}}]),e}();function Ow(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=rw.comparator(e.documentKey,t.documentKey))?n:Rb(e.largestBatchId,t.largestBatchId)}var Lw=Ro((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ao(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function Mw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Lw(e,t,n,r,i,a,o)}function Fw(e){var t=mb(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+fw(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ew(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return fw(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return fw(e)})).join(",")),t.P=n}return t.P}function Vw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Xw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!uw(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ex(e.startAt,t.startAt)&&ex(e.endAt,t.endAt)}function Uw(e){return rw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function zw(e,t){return e.filters.filter((function(e){return e instanceof jw&&e.field.isEqual(t)}))}var jw=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ao(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ro(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(cw(t,this.value)):null!==t&&ow(this.value)===ow(t)&&this.v(cw(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pb()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Bw(e,t,r):"array-contains"===t?new Kw(e,r):"in"===t?new Hw(e,r):"not-in"===t?new $w(e,r):"array-contains-any"===t?new Qw(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new qw(e,n):new Ww(e,n)}}]),n}(function(){return Ro((function e(){Ao(this,e)}))}()),Bw=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ao(this,n),(a=t.call(this,e,r,i)).key=rw.fromName(i.referenceValue),a}return Ro(n,[{key:"matches",value:function(e){var t=rw.comparator(e.key,this.key);return this.v(t)}}]),n}(jw),qw=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ao(this,n),(i=t.call(this,e,"in",r)).keys=Gw("in",r),i}return Ro(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(jw),Ww=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ao(this,n),(i=t.call(this,e,"not-in",r)).keys=Gw("not-in",r),i}return Ro(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(jw);function Gw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return rw.fromName(e.referenceValue)}))}var Kw=function(e){Fo(n,e);var t=Bo(n);function n(e,r){return Ao(this,n),t.call(this,e,"array-contains",r)}return Ro(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return vw(t)&&sw(t.arrayValue,this.value)}}]),n}(jw),Hw=function(e){Fo(n,e);var t=Bo(n);function n(e,r){return Ao(this,n),t.call(this,e,"in",r)}return Ro(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&sw(this.value.arrayValue,t)}}]),n}(jw),$w=function(e){Fo(n,e);var t=Bo(n);function n(e,r){return Ao(this,n),t.call(this,e,"not-in",r)}return Ro(n,[{key:"matches",value:function(e){if(sw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!sw(this.value.arrayValue,t)}}]),n}(jw),Qw=function(e){Fo(n,e);var t=Bo(n);function n(e,r){return Ao(this,n),t.call(this,e,"array-contains-any",r)}return Ro(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!vw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return sw(t.value.arrayValue,e)}))}}]),n}(jw),Yw=Ro((function e(t,n){Ao(this,e),this.position=t,this.inclusive=n})),Jw=Ro((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ao(this,e),this.field=t,this.dir=n}));function Xw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Zw(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?rw.comparator(rw.fromName(o.referenceValue),n.key):cw(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ex(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!uw(e.position[n],t.position[n]))return!1;return!0}var tx=Ro((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ao(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function nx(e,t,n,r,i,a,o,u){return new tx(e,t,n,r,i,a,o,u)}function rx(e){return new tx(e)}function ix(e){return!ew(e.limit)&&"F"===e.limitType}function ax(e){return!ew(e.limit)&&"L"===e.limitType}function ox(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ux(e){var t,n=Mo(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function sx(e){return null!==e.collectionGroup}function cx(e){var t=mb(e);if(null===t.D){t.D=[];var n=ux(t),r=ox(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Jw(n)),t.D.push(new Jw(Bb.keyField(),"asc"));else{var i,a=!1,o=Mo(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Jw(Bb.keyField(),s))}}}return t.D}function lx(e){var t=mb(e);if(!t.C)if("F"===t.limitType)t.C=Mw(t.path,t.collectionGroup,cx(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Mo(cx(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Jw(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Yw(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new Yw(t.startAt.position,!t.startAt.inclusive):null;t.C=Mw(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function fx(e,t,n){return new tx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hx(e,t){return Vw(lx(e),lx(t))&&e.limitType===t.limitType}function dx(e){return"".concat(Fw(lx(e)),"|lt:").concat(e.limitType)}function px(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(fw(t.value));var t})).join(", "),"]")),ew(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return fw(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return fw(e)})).join(",")),"Target(".concat(t,")")}(lx(e)),"; limitType=").concat(e.limitType,")")}function vx(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):rw.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Mo(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Mo(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Zw(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,cx(e),t))&&!(e.endAt&&!function(e,t,n){var r=Zw(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,cx(e),t))}(e,t)}function mx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function yx(e){return function(t,n){var r,i=!1,a=Mo(cx(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=gx(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function gx(e,t,n){var r=e.field.isKeyField()?rw.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?cw(r,i):pb()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return pb()}}function kx(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tw(t)?"-0":t}}function bx(e){return{integerValue:""+e}}function wx(e,t){return nw(t)?bx(t):kx(e,t)}var xx=Ro((function e(){Ao(this,e),this._=void 0}));function _x(e,t,n){return e instanceof Ex?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Tx?Cx(e,t):e instanceof Ax?Nx(e,t):function(e,t){var n=Sx(e,t),r=Px(n)+Px(e.k);return pw(n)&&pw(e.k)?bx(r):kx(e.M,r)}(e,t)}function Ix(e,t,n){return e instanceof Tx?Cx(e,t):e instanceof Ax?Nx(e,t):n}function Sx(e,t){return e instanceof Rx?pw(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ex=function(e){Fo(n,e);var t=Bo(n);function n(){return Ao(this,n),t.apply(this,arguments)}return Ro(n)}(xx),Tx=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ao(this,n),(r=t.call(this)).elements=e,r}return Ro(n)}(xx);function Cx(e,t){var n,r=Dx(t),i=Mo(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return uw(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ax=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ao(this,n),(r=t.call(this)).elements=e,r}return Ro(n)}(xx);function Nx(e,t){var n,r=Dx(t),i=Mo(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!uw(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Rx=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ao(this,n),(i=t.call(this)).M=e,i.k=r,i}return Ro(n)}(xx);function Px(e){return Hb(e.integerValue||e.doubleValue)}function Dx(e){return vw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ox=Ro((function e(t,n){Ao(this,e),this.field=t,this.transform=n}));var Lx=Ro((function e(t,n){Ao(this,e),this.version=t,this.transformResults=n})),Mx=function(){function e(t,n){Ao(this,e),this.updateTime=t,this.exists=n}return Ro(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Fx(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Vx=Ro((function e(){Ao(this,e)}));function Ux(e,t,n){e instanceof Wx?function(e,t,n){var r=e.value.clone(),i=Hx(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Gx?function(e,t,n){if(Fx(e.precondition,t)){var r=Hx(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Kx(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function zx(e,t,n){e instanceof Wx?function(e,t,n){if(Fx(e.precondition,t)){var r=e.value.clone(),i=$x(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(qx(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Gx?function(e,t,n){if(Fx(e.precondition,t)){var r=$x(e.fieldTransforms,n,t),i=t.data;i.setAll(Kx(e)),i.setAll(r),t.convertToFoundDocument(qx(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Fx(e.precondition,t)&&t.convertToNoDocument(Lb.min())}(e,t)}function jx(e,t){var n,r=null,i=Mo(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Sx(a.transform,o||null);null!=u&&(null==r&&(r=_w.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Bx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Pb(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Tx&&t instanceof Tx||e instanceof Ax&&t instanceof Ax?Pb(e.elements,t.elements,uw):e instanceof Rx&&t instanceof Rx?uw(e.k,t.k):e instanceof Ex&&t instanceof Ex}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function qx(e){return e.isFoundDocument()?e.version:Lb.min()}var Wx=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ao(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ro(n)}(Vx),Gx=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ao(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Ro(n)}(Vx);function Kx(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Hx(e,t,n){var r=new Map;vb(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Ix(o,u,n[i]))}return r}function $x(e,t,n){var r,i=new Map,a=Mo(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,_x(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Qx,Yx,Jx=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ao(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ro(n)}(Vx),Xx=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ao(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ro(n)}(Vx),Zx=Ro((function e(t){Ao(this,e),this.count=t}));function e_(e){switch(e){default:return pb();case yb.CANCELLED:case yb.UNKNOWN:case yb.DEADLINE_EXCEEDED:case yb.RESOURCE_EXHAUSTED:case yb.INTERNAL:case yb.UNAVAILABLE:case yb.UNAUTHENTICATED:return!1;case yb.INVALID_ARGUMENT:case yb.NOT_FOUND:case yb.ALREADY_EXISTS:case yb.PERMISSION_DENIED:case yb.FAILED_PRECONDITION:case yb.ABORTED:case yb.OUT_OF_RANGE:case yb.UNIMPLEMENTED:case yb.DATA_LOSS:return!0}}function t_(e){if(void 0===e)return fb("GRPC error has no .code"),yb.UNKNOWN;switch(e){case Qx.OK:return yb.OK;case Qx.CANCELLED:return yb.CANCELLED;case Qx.UNKNOWN:return yb.UNKNOWN;case Qx.DEADLINE_EXCEEDED:return yb.DEADLINE_EXCEEDED;case Qx.RESOURCE_EXHAUSTED:return yb.RESOURCE_EXHAUSTED;case Qx.INTERNAL:return yb.INTERNAL;case Qx.UNAVAILABLE:return yb.UNAVAILABLE;case Qx.UNAUTHENTICATED:return yb.UNAUTHENTICATED;case Qx.INVALID_ARGUMENT:return yb.INVALID_ARGUMENT;case Qx.NOT_FOUND:return yb.NOT_FOUND;case Qx.ALREADY_EXISTS:return yb.ALREADY_EXISTS;case Qx.PERMISSION_DENIED:return yb.PERMISSION_DENIED;case Qx.FAILED_PRECONDITION:return yb.FAILED_PRECONDITION;case Qx.ABORTED:return yb.ABORTED;case Qx.OUT_OF_RANGE:return yb.OUT_OF_RANGE;case Qx.UNIMPLEMENTED:return yb.UNIMPLEMENTED;case Qx.DATA_LOSS:return yb.DATA_LOSS;default:return pb()}}(Yx=Qx||(Qx={}))[Yx.OK=0]="OK",Yx[Yx.CANCELLED=1]="CANCELLED",Yx[Yx.UNKNOWN=2]="UNKNOWN",Yx[Yx.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yx[Yx.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yx[Yx.NOT_FOUND=5]="NOT_FOUND",Yx[Yx.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yx[Yx.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yx[Yx.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yx[Yx.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yx[Yx.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yx[Yx.ABORTED=10]="ABORTED",Yx[Yx.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yx[Yx.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yx[Yx.INTERNAL=13]="INTERNAL",Yx[Yx.UNAVAILABLE=14]="UNAVAILABLE",Yx[Yx.DATA_LOSS=15]="DATA_LOSS";var n_=function(){function e(t,n){Ao(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Ro(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Mo(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Fb(this.inner,(function(t,n){var r,i=Mo(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Vb(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),r_=function(){function e(t,n){Ao(this,e),this.comparator=t,this.root=n||a_.EMPTY}return Ro(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,a_.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,a_.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new i_(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new i_(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new i_(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new i_(this.root,e,this.comparator,!0)}}]),e}(),i_=function(){function e(t,n,r,i){Ao(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ro(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),a_=function(){function e(t,n,r,i,a){Ao(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ro(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw pb();if(this.right.isRed())throw pb();var e=this.left.check();if(e!==this.right.check())throw pb();return e+(this.isRed()?0:1)}}]),e}();a_.EMPTY=null,a_.RED=!0,a_.BLACK=!1,a_.EMPTY=new(function(){function e(){Ao(this,e),this.size=0}return Ro(e,[{key:"key",get:function(){throw pb()}},{key:"value",get:function(){throw pb()}},{key:"color",get:function(){throw pb()}},{key:"left",get:function(){throw pb()}},{key:"right",get:function(){throw pb()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new a_(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var o_=function(){function e(t){Ao(this,e),this.comparator=t,this.data=new r_(this.comparator)}return Ro(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new u_(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new u_(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),u_=function(){function e(t){Ao(this,e),this.iter=t}return Ro(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function s_(e){return e.hasNext()?e.getNext():void 0}var c_=new r_(rw.comparator);function l_(){return c_}var f_=new r_(rw.comparator);function h_(){return f_}function d_(){return new n_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var p_=new r_(rw.comparator),v_=new o_(rw.comparator);function m_(){for(var e=v_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var y_=new o_(Rb);function g_(){return y_}var k_=function(){function e(t,n,r,i,a){Ao(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ro(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,b_.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Lb.min(),r,g_(),l_(),m_())}}]),e}(),b_=function(){function e(t,n,r,i,a){Ao(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ro(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Wb.EMPTY_BYTE_STRING,n,m_(),m_(),m_())}}]),e}(),w_=Ro((function e(t,n,r,i){Ao(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),x_=Ro((function e(t,n){Ao(this,e),this.targetId=t,this.$=n})),__=Ro((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wb.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ao(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),I_=function(){function e(){Ao(this,e),this.B=0,this.L=T_(),this.U=Wb.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}return Ro(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"K",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.G}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}},{key:"H",value:function(){var e=m_(),t=m_(),n=m_();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:pb()}})),new b_(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.G=!1,this.L=T_()}},{key:"Y",value:function(e,t){this.G=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.G=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.G=!0,this.q=!0}}]),e}(),S_=function(){function e(t){Ao(this,e),this.nt=t,this.st=new Map,this.it=l_(),this.rt=E_(),this.ot=new o_(Rb)}return Ro(e,[{key:"ut",value:function(e){var t,n=Mo(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=Mo(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:pb()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Uw(i))if(0===n){var a=new rw(i.path);this.ct(t,a,Sw.newNoDocument(a,Lb.min()))}else vb(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Uw(a.target)){var o=new rw(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Sw.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=m_();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new k_(e,n,this.ot,this.it,r);return this.it=l_(),this.rt=E_(),this.ot=new o_(Rb),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new I_,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new o_(Rb),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||lb("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new I_),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function E_(){return new r_(rw.comparator)}function T_(){return new r_(rw.comparator)}var C_={asc:"ASCENDING",desc:"DESCENDING"},A_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N_=Ro((function e(t,n){Ao(this,e),this.databaseId=t,this.N=n}));function R_(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function P_(e,t){return e.N?t.toBase64():t.toUint8Array()}function D_(e,t){return R_(e,t.toTimestamp())}function O_(e){return vb(!!e),Lb.fromTimestamp(function(e){var t=Kb(e);return new Ob(t.seconds,t.nanos)}(e))}function L_(e,t){return function(e){return new zb(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function M_(e){var t=zb.fromString(e);return vb(aI(t)),t}function F_(e,t){return L_(e.databaseId,t.path)}function V_(e,t){var n=M_(t);if(n.get(1)!==e.databaseId.projectId)throw new gb(yb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new gb(yb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new rw(B_(n))}function U_(e,t){return L_(e.databaseId,t)}function z_(e){var t=M_(e);return 4===t.length?zb.emptyPath():B_(t)}function j_(e){return new zb(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function B_(e){return vb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function q_(e,t,n){return{name:F_(e,t),fields:n.value.mapValue.fields}}function W_(e,t,n){var r=V_(e,t.name),i=O_(t.updateTime),a=new _w({mapValue:{fields:t.fields}}),o=Sw.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function G_(e,t){return"found"in t?function(e,t){vb(!!t.found),t.found.name,t.found.updateTime;var n=V_(e,t.found.name),r=O_(t.found.updateTime),i=new _w({mapValue:{fields:t.found.fields}});return Sw.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){vb(!!t.missing),vb(!!t.readTime);var n=V_(e,t.missing),r=O_(t.readTime);return Sw.newNoDocument(n,r)}(e,t):pb()}function K_(e,t){var n;if(t instanceof Wx)n={update:q_(e,t.key,t.value)};else if(t instanceof Jx)n={delete:F_(e,t.key)};else if(t instanceof Gx)n={update:q_(e,t.key,t.data),updateMask:iI(t.fieldMask)};else{if(!(t instanceof Xx))return pb();n={verify:F_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ex)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Tx)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ax)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Rx)return{fieldPath:t.field.canonicalString(),increment:n.k};throw pb()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:D_(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:pb()}(e,t.precondition)),n}function H_(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Mx.updateTime(O_(e.updateTime)):void 0!==e.exists?Mx.exists(e.exists):Mx.none()}(t.currentDocument):Mx.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)vb("REQUEST_TIME"===t.setToServerValue),n=new Ex;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Tx(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ax(i)}else"increment"in t?n=new Rx(e,t.increment):pb();var a=Bb.fromServerFormat(t.fieldPath);return new Ox(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=V_(e,t.update.name),a=new _w({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new qb(t.map((function(e){return Bb.fromServerFormat(e)})))}(t.updateMask);return new Gx(i,a,o,n,r)}return new Wx(i,a,n,r)}if(t.delete){var u=V_(e,t.delete);return new Jx(u,n)}if(t.verify){var s=V_(e,t.verify);return new Xx(s,n)}return pb()}function $_(e,t){return{documents:[U_(e,t.path)]}}function Q_(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=U_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=U_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(yw(e.value))return{unaryFilter:{field:eI(e.field),op:"IS_NAN"}};if(mw(e.value))return{unaryFilter:{field:eI(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yw(e.value))return{unaryFilter:{field:eI(e.field),op:"IS_NOT_NAN"}};if(mw(e.value))return{unaryFilter:{field:eI(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eI(e.field),op:Z_(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:eI(e.field),direction:X_(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||ew(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Y_(e){var t=z_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){vb(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=J_(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Jw(tI(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return ew(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Yw(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Yw(n,t)}(n.endAt)),nx(t,i,u,o,s,"F",c,l)}function J_(e){return e?void 0!==e.unaryFilter?[rI(e)]:void 0!==e.fieldFilter?[nI(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return J_(e)})).reduce((function(e,t){return e.concat(t)})):pb():[]}function X_(e){return C_[e]}function Z_(e){return A_[e]}function eI(e){return{fieldPath:e.canonicalString()}}function tI(e){return Bb.fromServerFormat(e.fieldPath)}function nI(e){return jw.create(tI(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pb()}}(e.fieldFilter.op),e.fieldFilter.value)}function rI(e){switch(e.unaryFilter.op){case"IS_NAN":var t=tI(e.unaryFilter.field);return jw.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=tI(e.unaryFilter.field);return jw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=tI(e.unaryFilter.field);return jw.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=tI(e.unaryFilter.field);return jw.create(i,"!=",{nullValue:"NULL_VALUE"});default:return pb()}}function iI(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function aI(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function oI(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=sI(t)),t=uI(e.get(n),t);return sI(t)}function uI(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function sI(e){return e+"\x01\x01"}function cI(e){var t=e.length;if(vb(t>=2),2===t)return vb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),zb.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&pb(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:pb()}a=o+2}return new zb(r)}var lI=["userId","batchId"];function fI(e,t){return[e,oI(t)]}function hI(e,t,n){return[e,oI(t),n]}var dI={},pI=["prefixPath","collectionGroup","readTime","documentId"],vI=["prefixPath","collectionGroup","documentId"],mI=["collectionGroup","readTime","prefixPath","documentId"],yI=["canonicalId","targetId"],gI=["targetId","path"],kI=["path","targetId"],bI=["collectionId","parent"],wI=["indexId","uid"],xI=["uid","sequenceNumber"],_I=["indexId","uid","arrayValue","directionalValue","documentKey"],II=["indexId","uid","documentKey"],SI=["userId","collectionPath","documentId"],EI=["userId","collectionPath","largestBatchId"],TI=["userId","collectionGroup","largestBatchId"],CI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),AI=[].concat(s(CI),["documentOverlays"]),NI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],RI=[].concat(NI,["indexConfiguration","indexState","indexEntries"]),PI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",DI=function(){function e(){Ao(this,e),this.onCommittedListeners=[]}return Ro(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),OI=function(){function e(t){var n=this;Ao(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ro(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&pb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Mo(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),LI=function(){function e(t,n){var r=this;Ao(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new kb,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new VI(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=qI(e.target.error);r.At.reject(new VI(t,n))}}return Ro(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(lb("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new zI(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new VI(n,t)}}}]),e}(),MI=function(){function e(t,n,r){Ao(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Xo())&&fb("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Ro(e,[{key:"Nt",value:function(){var e=Do(Lo().mark((function e(t){var n=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return lb("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new VI(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new gb(yb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new gb(yb.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new VI(t,n))},i.onupgradeneeded=function(e){lb("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){lb("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Do(Lo().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Lo().mark((function e(){var n,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=LI.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),OI.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,lb("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return lb("SimpleDb","Removing database:",e),jI(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!iu())return!1;if(e.St())return!0;var t=Xo(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),FI=function(){function e(t){Ao(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return Ro(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return jI(this.Ft.delete())}}]),e}(),VI=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ao(this,n),(i=t.call(this,yb.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Ro(n)}(gb);function UI(e){return"IndexedDbTransactionError"===e.name}var zI=function(){function e(t){Ao(this,e),this.store=t}return Ro(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(lb("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(lb("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),jI(n)}},{key:"add",value:function(e){return lb("SimpleDb","ADD",this.store.name,e,e),jI(this.store.add(e))}},{key:"get",value:function(e){var t=this;return jI(this.store.get(e)).next((function(n){return void 0===n&&(n=null),lb("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return lb("SimpleDb","DELETE",this.store.name,e),jI(this.store.delete(e))}},{key:"count",value:function(){return lb("SimpleDb","COUNT",this.store.name),jI(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Gt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new OI((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Kt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new OI((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){lb("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Gt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Gt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new OI((function(n,r){t.onerror=function(e){var t=qI(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Gt",value:function(e,t){var n=[];return new OI((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new FI(i),o=t(i.primaryKey,i.value,a);if(o instanceof OI){var u=o.catch((function(e){return a.done(),OI.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return OI.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function jI(e){return new OI((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=qI(e.target.error);n(t)}}))}var BI=!1;function qI(e){var t=MI.Vt(Xo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new gb("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return BI||(BI=!0,setTimeout((function(){throw r}),0)),r}}return e}var WI=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ao(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return Ro(n)}(DI);function GI(e,t){var n=mb(e);return MI.xt(n.Ht,t)}var KI=function(){function e(t,n,r,i){Ao(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ro(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ux(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Mo(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&zx(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Mo(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&zx(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Lb.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),m_())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Pb(this.mutations,e.mutations,(function(e,t){return Bx(e,t)}))&&Pb(this.baseMutations,e.baseMutations,(function(e,t){return Bx(e,t)}))}}]),e}(),HI=function(){function e(t,n,r,i){Ao(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ro(e,null,[{key:"from",value:function(t,n,r){vb(t.mutations.length===r.length);for(var i=p_,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),$I=function(){function e(t,n){Ao(this,e),this.largestBatchId=t,this.mutation=n}return Ro(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),QI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lb.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Lb.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Wb.EMPTY_BYTE_STRING;Ao(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Ro(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),YI=Ro((function e(t){Ao(this,e),this.Jt=t}));function JI(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:XI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:F_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:R_(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ZI(t.version)};else{if(!t.isUnknownDocument())return pb();r.unknownDocument={path:n.path.toArray(),version:ZI(t.version)}}return r}function XI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ZI(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function eS(e){var t=new Ob(e.seconds,e.nanoseconds);return Lb.fromTimestamp(t)}function tS(e,t){for(var n=(t.baseMutations||[]).map((function(t){return H_(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return H_(e.Jt,t)})),u=Ob.fromMillis(t.localWriteTimeMs);return new KI(t.batchId,u,n,o)}function nS(e){var t,n,r=eS(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?eS(e.lastLimboFreeSnapshotVersion):Lb.min();return void 0!==e.query.documents?(vb(1===(n=e.query).documents.length),t=lx(rx(z_(n.documents[0])))):t=function(e){return lx(Y_(e))}(e.query),new QI(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Wb.fromBase64String(e.resumeToken))}function rS(e,t){var n,r=ZI(t.snapshotVersion),i=ZI(t.lastLimboFreeSnapshotVersion);n=Uw(t.target)?$_(e.Jt,t.target):Q_(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Fw(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function iS(e){var t=Y_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?fx(t,t.limit,"L"):t}function aS(e,t){return new $I(t.largestBatchId,H_(e.Jt,t.overlayMutation))}function oS(e,t){var n=t.path.lastSegment();return[e,oI(t.path.popLast()),n]}var uS=function(){function e(){Ao(this,e)}return Ro(e,[{key:"getBundleMetadata",value:function(e,t){return sS(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:eS(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return sS(e).put({bundleId:(n=t).id,createTime:ZI(O_(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return cS(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:iS(t.bundledQuery),readTime:eS(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return cS(e).put(function(e){return{name:e.name,readTime:ZI(O_(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function sS(e){return GI(e,"bundles")}function cS(e){return GI(e,"namedQueries")}var lS=function(){function e(t,n){Ao(this,e),this.M=t,this.userId=n}return Ro(e,[{key:"getOverlay",value:function(e,t){var n=this;return fS(e).get(oS(this.userId,t)).next((function(e){return e?aS(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new $I(t,a);i.push(r.Xt(e,o))})),OI.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(oI(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(fS(e).Qt("collectionPathOverlayIndex",i))})),OI.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=d_(),a=oI(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return fS(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=Mo(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=aS(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=d_(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return fS(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=aS(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return fS(e).put(function(e,t,n){var r=f(oS(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:K_(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function fS(e){return GI(e,"documentOverlays")}var hS=function(){function e(){Ao(this,e)}return Ro(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Hb(e.integerValue));else if("doubleValue"in e){var n=Hb(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),tw(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue($b(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?bw(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):pb()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=Mo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),rw.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function dS(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function pS(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=dS(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}hS.fe=new hS;var vS=function(){function e(){Ao(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Ro(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=Mo(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=Mo(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=pS(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=pS(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),mS=function(){function e(t){Ao(this,e),this.De=t}return Ro(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),yS=function(){function e(t){Ao(this,e),this.De=t}return Ro(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),gS=function(){function e(){Ao(this,e),this.De=new vS,this.Ce=new mS(this.De),this.xe=new yS(this.De)}return Ro(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),kS=function(){function e(t,n,r,i){Ao(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Ro(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function bS(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=wS(e.arrayValue,t.arrayValue))?n:0!==(n=wS(e.directionalValue,t.directionalValue))?n:rw.comparator(e.documentKey,t.documentKey)}function wS(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var xS=function(){function e(t){Ao(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=Mo(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Ro(e,[{key:"$e",value:function(e){var t=Tw(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Cw(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=Mo(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),_S=function(){function e(){Ao(this,e),this.qe=new IS}return Ro(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),OI.resolve()}},{key:"getCollectionParents",value:function(e,t){return OI.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return OI.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return OI.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return OI.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return OI.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return OI.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return OI.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return OI.resolve()}},{key:"updateIndexEntries",value:function(e,t){return OI.resolve()}}]),e}(),IS=function(){function e(){Ao(this,e),this.index={}}return Ro(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new o_(zb.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new o_(zb.comparator)).toArray()}}]),e}(),SS=new Uint8Array(0),ES=function(){function e(t){Ao(this,e),this.user=t,this.Ge=new IS,this.Ke=new n_((function(e){return Fw(e)}),(function(e,t){return Vw(e,t)})),this.uid=t.uid||""}return Ro(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ge.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ge.add(t)}));var a={collectionId:r,parent:oI(i)};return TS(e).put(a)}return OI.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Db(t),""],!1,!0);return TS(e).qt(r).next((function(e){var r,i=Mo(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(cI(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=AS(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=AS(e),r=NS(e),i=CS(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=CS(e),i=!0,a=new Map;return OI.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=m_();return OI.forEach(a,(function(i,a){var o;lb("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Fw(t)));var u=function(e,t){var n=Tw(t);if(void 0===n)return null;var r,i=Mo(zw(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=Mo(Cw(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Mo(zw(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=Mo(Cw(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=Mo(zw(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case"<":case"<=":d="nullValue"in(r=h.value)?aw:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?dw(Zb.empty(),rw.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:pb();break;case"==":case"in":case">=":d=h.value;break;case">":d=h.value,p=!1;break;case"!=":case"not-in":d=aw}ww(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.startAt.position[v];ww(c,m)===m&&(c=m,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new Yw(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=Mo(Cw(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=Mo(zw(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case">=":case">":d="nullValue"in(r=h.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?dw(Zb.empty(),rw.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?iw:pb(),p=!1;break;case"==":case"in":case"<=":d=h.value;break;case"<":d=h.value,p=!1;break;case"!=":case"not-in":d=iw}xw(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.endAt.position[v];xw(c,m)===m&&(c=m,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new Yw(i,a)}(a,i),f=n.je(i,a,c),h=n.je(i,a,l),d=n.We(i,a,s),p=n.ze(i.indexId,u,f,!!c&&c.inclusive,h,!!l&&l.inclusive,d);return OI.forEach(p,(function(n){return r.Kt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new rw(cI(t.documentKey)))}))}))}))})).next((function(){return e}))}return OI.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,c=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),l=c/(null!=t?t.length:1),f=[],h=function(c){var h=t?u.He(t[c/l]):SS,d=n?u.Je(e,h,n[c%l],r):u.Ye(e),p=i?u.Xe(e,h,i[c%l],a):u.Ye(e+1);f.push.apply(f,s(u.createRange(d,p,o.map((function(t){return u.Je(e,h,t,!0)})))))},d=0;d<c;++d)h(d);return f}},{key:"Je",value:function(e,t,n,r){var i=new kS(e,rw.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new kS(e,rw.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new kS(e,rw.empty(),SS,SS)}},{key:"getFieldIndex",value:function(e,t){var n=new xS(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new gS,i=Mo(Cw(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);hS.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new gS;return hS.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new gS);var i,a=0,o=Mo(Cw(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Mo(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&vw(c))r=this.en(r,s,c);else{var h=f.Ne(s.kind);hS.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=s(e),a=[],o=Mo(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,c=r.value,l=Mo(i);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=new gS;h.seed(f.Se()),hS.fe.Zt(c,h.Ne(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof jw&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=AS(e),i=NS(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return OI.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Nw(t.sequenceNumber,new Dw(eS(t.readTime),new rw(cI(t.documentKey)),t.largestBatchId)):Nw.empty(),r=e.fields.map((function(e){var t=f(e,2),n=t[0],r=t[1];return new Aw(Bb.fromServerFormat(n),r)}));return new Ew(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Rb(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=AS(e),a=NS(e);return this.sn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return OI.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ZI(r.readTime),documentKey:oI(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return OI.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?OI.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),OI.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?OI.resolve():n.un(e,i,t,a)}))}))}))}))}},{key:"an",value:function(e,t,n){return CS(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:oI(t.key.path)})}},{key:"cn",value:function(e,t,n){return CS(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,oI(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=CS(e),i=new o_(bS);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,oI(t.path)])},(function(e,r){i=i.add(new kS(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new o_(bS),r=this.Ze(t,e);if(null==r)return n;var i=Tw(t);if(null!=i){var a=e.data.field(i.fieldPath);if(vw(a)){var o,u=Mo(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new kS(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new kS(t.indexId,e.key,SS,r));return n}},{key:"un",value:function(e,t,n,r){var i=this;lb("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=s_(a),s=s_(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=s_(o)):l?(i(u),u=s_(a)):(u=s_(a),s=s_(o))}}(n,r,bS,(function(n){a.push(i.an(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),OI.waitFor(a)}},{key:"sn",value:function(e){var t=1;return NS(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return bS(e,t)})).filter((function(e,t,n){return!t||0!==bS(e,n[t-1])}));var r=[];r.push(e);var i,a=Mo(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=bS(o,e),s=bS(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function TS(e){return GI(e,"collectionParents")}function CS(e){return GI(e,"indexEntries")}function AS(e){return GI(e,"indexConfiguration")}function NS(e){return GI(e,"indexState")}var RS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PS=function(){function e(t,n,r){Ao(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ro(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function DS(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){vb(1===u)})));var c,l=[],f=Mo(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=hI(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return OI.waitFor(a).next((function(){return l}))}function OS(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw pb();t=e.noDocument}return JSON.stringify(t).length}PS.DEFAULT_COLLECTION_PERCENTILE=10,PS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,PS.DEFAULT=new PS(41943040,PS.DEFAULT_COLLECTION_PERCENTILE,PS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),PS.DISABLED=new PS(-1,0,0);var LS=function(){function e(t,n,r,i){Ao(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return Ro(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return FS(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=VS(e),o=FS(e);return o.add({}).next((function(u){vb("number"==typeof u);var s,c=new KI(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return K_(e.Jt,t)})),i=n.mutations.map((function(t){return K_(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new o_((function(e,t){return Rb(e.canonicalString(),t.canonicalString())})),d=Mo(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=hI(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,dI))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),OI.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return FS(e).get(t).next((function(e){return e?(vb(e.userId===n.userId),tS(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?OI.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return FS(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(vb(t.batchId>=r),a=tS(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return FS(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return FS(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return tS(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=fI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return VS(e).Wt({range:i},(function(r,i,o){var u=f(r,3),s=u[0],c=u[1],l=u[2],h=cI(c);if(s===n.userId&&t.path.isEqual(h))return FS(e).get(l).next((function(e){if(!e)throw pb();vb(e.userId===n.userId),a.push(tS(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new o_(Rb),i=[];return t.forEach((function(t){var a=fI(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=VS(e).Wt({range:o},(function(e,i,a){var o=f(e,3),u=o[0],s=o[1],c=o[2],l=cI(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),OI.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=fI(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new o_(Rb);return VS(e).Wt({range:o},(function(e,t,a){var o=f(e,3),s=o[0],c=o[1],l=o[2],h=cI(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.fn(e,u)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(FS(e).get(t).next((function(e){if(null===e)throw pb();vb(e.userId===n.userId),r.push(tS(n.M,e))})))})),OI.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return DS(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),OI.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return OI.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return VS(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=cI(e[1]);i.push(a)}else r.done()})).next((function(){vb(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return MS(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return US(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return vb(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function MS(e,t,n){var r=fI(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return VS(e).Wt({range:a,jt:!0},(function(e,n,r){var a=f(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function FS(e){return GI(e,"mutations")}function VS(e){return GI(e,"documentMutations")}function US(e){return GI(e,"mutationQueues")}var zS=function(){function e(t){Ao(this,e),this.wn=t}return Ro(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),jS=function(){function e(t,n){Ao(this,e),this.referenceDelegate=t,this.M=n}return Ro(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new zS(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return Lb.fromTimestamp(new Ob(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return BS(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return vb(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return BS(e).Wt((function(o,u){var s=nS(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return OI.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return BS(e).Wt((function(e,n){var r=nS(n);t(r)}))}},{key:"yn",value:function(e){return qS(e).get("targetGlobalKey").next((function(e){return vb(null!==e),e}))}},{key:"pn",value:function(e,t){return qS(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return BS(e).put(rS(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Fw(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return BS(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=nS(n);Vw(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=WS(e);return t.forEach((function(t){var o=oI(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),OI.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=WS(e);return OI.forEach(t,(function(t){var a=oI(t.path);return OI.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=WS(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=WS(e),i=m_();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=cI(e[1]),a=new rw(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=oI(t.path),r=IDBKeyRange.bound([n],[Db(n)],!1,!0),i=0;return WS(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=f(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return BS(e).get(t).next((function(e){return e?nS(e):null}))}}]),e}();function BS(e){return GI(e,"targets")}function qS(e){return GI(e,"targetGlobal")}function WS(e){return GI(e,"targetDocuments")}function GS(e){return KS.apply(this,arguments)}function KS(){return KS=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===yb.FAILED_PRECONDITION&&t.message===PI){e.next=2;break}throw t;case 2:lb("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function HS(e,t){var n=f(e,2),r=n[0],i=n[1],a=f(t,2),o=a[0],u=a[1],s=Rb(r,o);return 0===s?Rb(i,u):s}var $S=function(){function e(t){Ao(this,e),this.En=t,this.buffer=new o_(HS),this.An=0}return Ro(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();HS(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),QS=function(){function e(t,n){Ao(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return Ro(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;lb("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Do(Lo().mark((function n(){return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!UI(n.t0)){n.next=12;break}lb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,GS(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),YS=function(){function e(t,n){Ao(this,e),this.Sn=t,this.params=n}return Ro(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return OI.resolve(Cb.A);var r=new $S(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(lb("LruGarbageCollector","Garbage collection skipped; disabled"),OI.resolve(RS)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(lb("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),RS):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(lb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),cb()<=Au.DEBUG&&lb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),OI.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),JS=function(){function e(t,n){Ao(this,e),this.db=t,this.garbageCollector=function(e,t){return new YS(e,t)}(this,n)}return Ro(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return XS(e,n)}},{key:"removeReference",value:function(e,t,n){return XS(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return XS(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return US(e).zt((function(r){return MS(e,r,t).next((function(e){return e&&(n=!0),OI.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Lb.min()),WS(e).delete([0,oI(o.path)])}))}));i.push(s)}})).next((function(){return OI.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return XS(e,t)}},{key:"kn",value:function(e,t){var n,r=WS(e),i=Cb.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=f(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Cb.A&&t(new rw(cI(n)),i),i=s,n=u):i=Cb.A})).next((function(){i!==Cb.A&&t(new rw(cI(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function XS(e,t){return WS(e).put(function(e,t){return{targetId:0,path:oI(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var ZS=function(){function e(){Ao(this,e),this.changes=new n_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ro(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Sw.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?OI.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),eE=function(){function e(t){Ao(this,e),this.M=t}return Ro(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return rE(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return rE(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],XI(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Sw.newInvalidDocument(t);return rE(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(iE(t))},(function(e,i){r=n.Fn(t,i)})).next((function(){return r}))}},{key:"$n",value:function(e,t){var n=this,r={size:0,document:Sw.newInvalidDocument(t)};return rE(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(iE(t))},(function(e,i){r={document:n.Fn(t,i),size:OS(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=l_();return this.Bn(e,t,(function(e,t){var i=n.Fn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=l_(),i=new r_(rw.comparator);return this.Bn(e,t,(function(e,t){var a=n.Fn(e,t);r=r.insert(e,a),i=i.insert(e,OS(t))})).next((function(){return{documents:r,Un:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return OI.resolve();var r=new o_(oE);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(iE(r.first()),iE(r.last())),a=r.getIterator(),o=a.getNext();return rE(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=rw.fromSegments([].concat(s(t.prefixPath),[t.collectionGroup,t.documentId]));o&&oE(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(iE(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),XI(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return rE(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=l_(),i=Mo(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Fn(rw.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=l_(),o=aE(t,n),u=aE(t,Dw.max());return rE(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Fn(rw.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new tE(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return nE(e).get("remoteDocumentGlobalKey").next((function(e){return vb(!!e),e}))}},{key:"On",value:function(e,t){return nE(e).put("remoteDocumentGlobalKey",t)}},{key:"Fn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=W_(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=rw.fromSegments(t.noDocument.path),i=eS(t.noDocument.readTime);n=Sw.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return pb();var a=rw.fromSegments(t.unknownDocument.path),o=eS(t.unknownDocument.version);n=Sw.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Ob(e[0],e[1]);return Lb.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Lb.min()))return n}return Sw.newInvalidDocument(e)}}]),e}(),tE=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ao(this,n),(i=t.call(this)).qn=e,i.trackRemovals=r,i.Gn=new n_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Ro(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new o_((function(e,t){return Rb(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.qn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=JI(t.qn.M,o);i=i.add(a.path.popLast());var c=OS(s);r+=c-u.size,n.push(t.qn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=JI(t.qn.M,o.convertToNoDocument(Lb.min()));n.push(t.qn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.qn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.qn.updateMetadata(e,r)),OI.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.qn.$n(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.qn.Ln(e,t).next((function(e){var t=e.documents;return e.Un.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(ZS);function nE(e){return GI(e,"remoteDocumentGlobal")}function rE(e){return GI(e,"remoteDocumentsV14")}function iE(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function aE(e,t){var n=t.documentKey.path.toArray();return[e,XI(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function oE(e,t){var n=e.path.length-t.path.length;return 0!==n?n:rw.comparator(e,t)}var uE=function(){function e(t){Ao(this,e),this.M=t}return Ro(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new LI("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lI,{unique:!0}),e.createObjectStore("documentMutations")}(e),sE(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=OI.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),sE(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lb.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lI,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return OI.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Kn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:SI});t.createIndex("collectionPathOverlayIndex",EI,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",TI,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:pI});t.createIndex("documentKeyIndex",vI),t.createIndex("collectionGroupIndex",mI)}(e)})).next((function(){return i.Hn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:wI}).createIndex("sequenceNumberIndex",xI,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:_I}).createIndex("documentKeyIndex",II,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=OS(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Kn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return OI.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return OI.forEach(r,(function(r){vb(r.userId===n.userId);var i=tS(t.M,r);return DS(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new zb(n),o=function(e){return[0,oI(e)]}(a);r.push(t.get(o).next((function(n){return n?OI.resolve():function(n){return t.put({targetId:0,path:oI(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return OI.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:bI});var n=t.store("collectionParents"),r=new IS,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:oI(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new zb(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=f(e,3),r=(n[0],n[1]),a=(n[2],cI(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=nS(r),a=rS(t.M,i);return n.put(a)}))}},{key:"Hn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new rw(zb.fromString(i.document.name).popFirst(5)):i.noDocument?rw.fromSegments(i.noDocument.path):i.unknownDocument?rw.fromSegments(i.unknownDocument.path):pb()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return OI.waitFor(r)}))}}]),e}();function sE(e){e.createObjectStore("targetDocuments",{keyPath:gI}).createIndex("documentTargetsIndex",kI,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",yI,{unique:!0}),e.createObjectStore("targetGlobal")}var cE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lE=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Ao(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Jn=a,this.window=o,this.document=u,this.Yn=c,this.Xn=l,this.Zn=f,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=function(e){return Promise.resolve()},!e.vt())throw new gb(yb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new JS(this,i),this.cs=n+"main",this.M=new YI(s),this.hs=new MI(this.cs,this.Zn,new uE(this.M)),this.ls=new jS(this.referenceDelegate,this.M),this.fs=function(e){return new eE(e)}(this.M),this.ds=new uS,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===l&&fb("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Ro(e,[{key:"start",value:function(){var e=this;return this.ws().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new gb(yb.FAILED_PRECONDITION,cE);return e.gs(),e.ys(),e.ps(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ls.getHighestSequenceNumber(t)}))})).then((function(t){e.ts=new Cb(t,e.Yn)})).then((function(){e.es=!0})).catch((function(t){return e.hs&&e.hs.close(),Promise.reject(t)}))}},{key:"Is",value:function(e){var t=this;return this.us=function(){var n=Do(Lo().mark((function n(r){return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.hs.Ot(function(){var t=Do(Lo().mark((function t(n){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget(Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ws();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ws",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return hE(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ts(t).next((function(t){t||(e.isPrimary=!1,e.Jn.enqueueRetryable((function(){return e.us(!1)})))}))})).next((function(){return e.Es(t)})).next((function(n){return e.isPrimary&&!n?e.As(t).next((function(){return!1})):!!n&&e.Rs(t).next((function(){return!0}))}))})).catch((function(t){if(UI(t))return lb("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return lb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Jn.enqueueRetryable((function(){return e.us(t)})),e.isPrimary=t}))}},{key:"Ts",value:function(e){var t=this;return fE(e).get("owner").next((function(e){return OI.resolve(t.bs(e))}))}},{key:"Ps",value:function(e){return hE(e).delete(this.clientId)}},{key:"Vs",value:function(){var e=Do(Lo().mark((function e(){var t,n,r,i,a=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vs(this.os,18e5)){e.next=6;break}return this.os=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=GI(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ss(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return OI.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._s){n=Mo(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._s.removeItem(this.Ds(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ps",value:function(){var e=this;this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ws().then((function(){return e.Vs()})).then((function(){return e.ps()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Es",value:function(e){var t=this;return this.Xn?OI.resolve(!0):fE(e).get("owner").next((function(n){if(null!==n&&t.vs(n.leaseTimestampMs,5e3)&&!t.Cs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new gb(yb.FAILED_PRECONDITION,cE);return!1}}return!(!t.networkEnabled||!t.inForeground)||hE(e).qt().next((function(e){return void 0===t.Ss(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&lb("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Do(Lo().mark((function e(){var t=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.es=!1,this.xs(),this.rs&&(this.rs.cancel(),this.rs=null),this.Ns(),this.ks(),e.next=7,this.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new WI(e,Cb.A);return t.As(n).next((function(){return t.Ps(n)}))}));case 7:this.hs.close(),this.Ms();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ss",value:function(e,t){var n=this;return e.filter((function(e){return n.vs(e.updateTimeMs,t)&&!n.Cs(e.clientId)}))}},{key:"Os",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return hE(t).qt().next((function(t){return e.Ss(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.es}},{key:"getMutationQueue",value:function(e,t){return LS.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getIndexManager",value:function(e){return new ES(e)}},{key:"getDocumentOverlayCache",value:function(e){return lS.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;lb("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.Zn)?RI:13===i?NI:12===i?AI:11===i?CI:void pb();return this.hs.runTransaction(e,o,u,(function(i){return a=new WI(i,r.ts?r.ts.next():Cb.A),"readwrite-primary"===t?r.Ts(a).next((function(e){return!!e||r.Es(a)})).next((function(t){if(!t)throw fb("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Jn.enqueueRetryable((function(){return r.us(!1)})),new gb(yb.FAILED_PRECONDITION,PI);return n(a)})).next((function(e){return r.Rs(a).next((function(){return e}))})):r.Fs(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e){var t=this;return fE(e).get("owner").next((function(e){if(null!==e&&t.vs(e.leaseTimestampMs,5e3)&&!t.Cs(e.ownerId)&&!t.bs(e)&&!(t.Xn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new gb(yb.FAILED_PRECONDITION,cE)}))}},{key:"Rs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fE(e).put("owner",t)}},{key:"As",value:function(e){var t=this,n=fE(e);return n.get("owner").next((function(e){return t.bs(e)?(lb("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):OI.resolve()}))}},{key:"vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(fb("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gs",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=function(){e.Jn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ws()}))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ns",value:function(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}},{key:"ys",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=function(){t.xs(),!eu()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Jn.enterRestrictedMode(!0),t.Jn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ns))}},{key:"ks",value:function(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}},{key:"Cs",value:function(e){var t;try{var n=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return lb("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return fb("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xs",value:function(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(om){fb("Failed to set zombie client id.",om)}}},{key:"Ms",value:function(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(om){}}},{key:"Ds",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return MI.vt()}}]),e}();function fE(e){return GI(e,"owner")}function hE(e){return GI(e,"clientMetadata")}function dE(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var pE=function(){function e(t,n,r){Ao(this,e),this.fs=t,this.$s=n,this.indexManager=r}return Ro(e,[{key:"Bs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.fs.getEntry(e,t).next((function(e){var t,r=Mo(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Us",value:function(e,t){e.forEach((function(e,n){var r,i=Mo(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"qs",value:function(e,t){var n=this;return this.fs.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Us(t,e)}))}},{key:"Ks",value:function(e,t,n){return function(e){return rw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):sx(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new rw(t)).next((function(e){var t=h_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=h_();return this.indexManager.getCollectionParents(e,i).next((function(o){return OI.forEach(o,(function(o){var u=function(e,t){return new tx(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.fs.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.$s.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Mo(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Mo(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Sw.newInvalidDocument(s),r=r.insert(s,c)),zx(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){vx(t,n)||(r=r.remove(e))})),r}))}}]),e}(),vE=function(){function e(t,n,r,i){Ao(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return Ro(e,null,[{key:"Js",value:function(t,n){var r,i=m_(),a=m_(),o=Mo(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),mE=function(){function e(){Ao(this,e)}return Ro(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Ks",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Lb.min())?this.Zs(e,t):this.Xs.qs(e,r).next((function(a){var o=i.ti(t,a);return(ix(t)||ax(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(cb()<=Au.DEBUG&&lb("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),px(t)),i.Xs.Ks(e,t,Rw(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new o_(yx(e));return t.forEach((function(t,r){vx(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return cb()<=Au.DEBUG&&lb("QueryEngine","Using full collection scan to execute query:",px(t)),this.Xs.Ks(e,t,Dw.min())}}]),e}(),yE=function(){function e(t,n,r,i){Ao(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new r_(Rb),this.ii=new n_((function(e){return Fw(e)}),Vw),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(r)}return Ro(e,[{key:"ui",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new pE(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function gE(e,t,n,r){return new yE(e,t,n,r)}function kE(e,t){return bE.apply(this,arguments)}function bE(){return bE=Do(Lo().mark((function e(t,n){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mb(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.$s.getAllMutationBatches(e).next((function(i){return t=i,r.ui(n),r.$s.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=m_(),s=Mo(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Mo(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Mo(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Mo(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ai.qs(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function wE(e,t){var n=mb(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=OI.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);vb(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.$s.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}function xE(e){var t=mb(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ls.getLastRemoteSnapshotVersion(e)}))}function _E(e,t){var n=mb(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.ls.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.ls.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Wb.EMPTY_BYTE_STRING,Lb.min()).withLastLimboFreeSnapshotVersion(Lb.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.ls.updateTargetData(e,c))}}));var u=l_();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(IE(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Lb.min())){var s=n.ls.getLastRemoteSnapshotVersion(e).next((function(t){return n.ls.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return OI.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ai.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function IE(e,t,n){var r=m_();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=l_();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Lb.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):lb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function SE(e,t){var n=mb(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.$s.getNextMutationBatchAfterBatchId(e,t)}))}function EE(e,t){var n=mb(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ls.getTargetData(e,t).next((function(i){return i?(r=i,OI.resolve(r)):n.ls.allocateTargetId(e).next((function(i){return r=new QI(t,i,0,e.currentSequenceNumber),n.ls.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function TE(e,t,n){return CE.apply(this,arguments)}function CE(){return CE=Do(Lo().mark((function e(t,n,r){var i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=mb(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),UI(e.t1)){e.next=12;break}throw e.t1;case 12:lb("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),CE.apply(this,arguments)}function AE(e,t,n){var r=mb(e),i=Lb.min(),a=m_();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=mb(e),i=r.ii.get(n);return void 0!==i?OI.resolve(r.si.get(i)):r.ls.getTargetData(t,n)}(r,e,lx(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Ks(e,t,n?i:Lb.min(),n?a:m_())})).next((function(e){return PE(r,mx(t),e),{documents:e,hi:a}}))}))}function NE(e,t){var n=mb(e),r=mb(n.ls),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function RE(e,t){var n=mb(e),r=n.ri.get(t)||Lb.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.oi.getAllFromCollectionGroup(e,t,Rw(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return PE(n,t,e),e}))}function PE(e,t,n){var r=Lb.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ri.set(t,r)}function DE(e,t,n,r){return OE.apply(this,arguments)}function OE(){return OE=Do(Lo().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=mb(t),o=m_(),u=l_(),s=Mo(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.li(l.metadata.name),l.document&&(o=o.add(f)),(h=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,EE(a,function(e){return lx(rx(zb.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return IE(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.ls.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.ls.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ai.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}function LE(e,t){return ME.apply(this,arguments)}function ME(){return ME=Do(Lo().mark((function e(t,n){var r,i,a,o=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:m_(),e.next=3,EE(t,lx(iS(n.bundledQuery)));case 3:return i=e.sent,a=mb(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=O_(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.ds.saveNamedQuery(e,n);var o=i.withResumeToken(Wb.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.ls.updateTargetData(e,o).next((function(){return a.ls.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ls.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),ME.apply(this,arguments)}var FE=function(){function e(t){Ao(this,e),this.M=t,this._i=new Map,this.wi=new Map}return Ro(e,[{key:"getBundleMetadata",value:function(e,t){return OI.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:O_(n.createTime)}),OI.resolve()}},{key:"getNamedQuery",value:function(e,t){return OI.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:iS(e.bundledQuery),readTime:O_(e.readTime)}}(t)),OI.resolve()}}]),e}(),VE=function(){function e(){Ao(this,e),this.overlays=new r_(rw.comparator),this.mi=new Map}return Ro(e,[{key:"getOverlay",value:function(e,t){return OI.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),OI.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),OI.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=d_(),i=t.length+1,a=new rw(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return OI.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new r_((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=d_(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=d_(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return OI.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new $I(t,n));var a=this.mi.get(t);void 0===a&&(a=m_(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),UE=function(){function e(){Ao(this,e),this.gi=new o_(zE.yi),this.pi=new o_(zE.Ii)}return Ro(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new zE(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new zE(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new rw(new zb([])),r=new zE(n,e),i=new zE(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new rw(new zb([])),n=new zE(t,e),r=new zE(t,e+1),i=m_();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new zE(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),zE=function(){function e(t,n){Ao(this,e),this.key=t,this.Vi=n}return Ro(e,null,[{key:"yi",value:function(e,t){return rw.comparator(e.key,t.key)||Rb(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return Rb(e.Vi,t.Vi)||rw.comparator(e.key,t.key)}}]),e}(),jE=function(){function e(t,n){Ao(this,e),this.indexManager=t,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new o_(zE.yi)}return Ro(e,[{key:"checkEmpty",value:function(e){return OI.resolve(0===this.$s.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.$s.length>0&&this.$s[this.$s.length-1];var a=new KI(i,t,n,r);this.$s.push(a);var o,u=Mo(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new zE(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return OI.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return OI.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return OI.resolve(this.$s.length>i?this.$s[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return OI.resolve(0===this.$s.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return OI.resolve(this.$s.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new zE(t,0),i=new zE(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),OI.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new o_(Rb);return t.forEach((function(e){var t=new zE(e,0),i=new zE(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),OI.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;rw.isDocumentKey(i)||(i=i.child(""));var a=new zE(new rw(i),0),o=new o_(Rb);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),OI.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;vb(0===this.Ni(t.batchId,"removed")),this.$s.shift();var r=this.Si;return OI.forEach(t.mutations,(function(i){var a=new zE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new zE(t,0),r=this.Si.firstAfterOrEqual(n);return OI.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.$s.length,OI.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.$s.length?0:e-this.$s[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}]),e}(),BE=function(){function e(t){Ao(this,e),this.ki=t,this.docs=new r_(rw.comparator),this.size=0}return Ro(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return OI.resolve(n?n.document.mutableCopy():Sw.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=l_();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Sw.newInvalidDocument(e))})),OI.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=l_(),i=new rw(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Ow(Pw(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return OI.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){pb()}},{key:"Mi",value:function(e,t){return OI.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new qE(this)}},{key:"getSize",value:function(e){return OI.resolve(this.size)}}]),e}(),qE=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ao(this,n),(r=t.call(this)).qn=e,r}return Ro(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.qn.addEntry(e,i)):t.qn.removeEntry(r)})),OI.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.qn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.qn.getEntries(e,t)}}]),n}(ZS),WE=function(){function e(t){Ao(this,e),this.persistence=t,this.Oi=new n_((function(e){return Fw(e)}),Vw),this.lastRemoteSnapshotVersion=Lb.min(),this.highestTargetId=0,this.Fi=0,this.$i=new UE,this.targetCount=0,this.Bi=zS.mn()}return Ro(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),OI.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return OI.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return OI.resolve(this.Fi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),OI.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fi&&(this.Fi=t),OI.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new zS(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,OI.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),OI.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,OI.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),OI.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return OI.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return OI.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.$i.Ti(t,n),OI.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.$i.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),OI.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.$i.Ri(t),OI.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.$i.Pi(t);return OI.resolve(n)}},{key:"containsKey",value:function(e,t){return OI.resolve(this.$i.containsKey(t))}}]),e}(),GE=function(){function e(t,n){var r=this;Ao(this,e),this.Li={},this.overlays={},this.ts=new Cb(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new WE(this),this.indexManager=new _S,this.fs=new BE((function(e){return r.referenceDelegate.Ui(e)})),this.M=new YI(n),this.ds=new FE(this.M)}return Ro(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.es=!1,Promise.resolve()}},{key:"started",get:function(){return this.es}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new VE,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new jE(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;lb("MemoryPersistence","Starting transaction:",e);var i=new KE(this.ts.next());return this.referenceDelegate.qi(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ki",value:function(e,t){return OI.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),KE=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ao(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ro(n)}(DI),HE=function(){function e(t){Ao(this,e),this.persistence=t,this.Qi=new UE,this.ji=null}return Ro(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw pb()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),OI.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),OI.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),OI.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qi",value:function(){this.ji=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return OI.forEach(this.zi,(function(r){var i=rw.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,Lb.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"Ui",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return OI.or([function(){return OI.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ki(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function $E(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function QE(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function YE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var JE=function(){function e(t,n,r,i){Ao(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Ro(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new gb(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(fb("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),XE=function(){function e(t,n,r){Ao(this,e),this.targetId=t,this.state=n,this.error=r}return Ro(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new gb(i.error.code,i.error.message))),a?new e(t,i.state,r):(fb("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ZE=function(){function e(t,n){Ao(this,e),this.clientId=t,this.activeTargetIds=n}return Ro(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=g_(),o=0;i&&o<r.activeTargetIds.length;++o)i=nw(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(fb("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),eT=function(){function e(t,n){Ao(this,e),this.clientId=t,this.onlineState=n}return Ro(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(fb("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),tT=function(){function e(){Ao(this,e),this.activeTargetIds=g_()}return Ro(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),nT=function(){function e(t,n,r,i,a){Ao(this,e),this.window=t,this.Jn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new r_(Rb),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=$E(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new tT),this.ar=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return Ro(e,[{key:"start",value:function(){var e=Do(Lo().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Os();case 2:t=e.sent,n=Mo(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem($E(this.persistenceKey,i)))&&(o=ZE.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=Mo(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(YE(this.persistenceKey,e));if(n){var r=XE.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(YE(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return lb("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){lb("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){lb("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(lb("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void fb("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable(Do(Lo().mark((function e(){var r,i,a,o,u,s,c;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ar.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=Cb.A;if(null!=e)try{var n=JSON.parse(e);vb("number"==typeof n),t=n}catch(e){fb("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Cb.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new JE(this.currentUser,e,t,n),i=QE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=QE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=YE(this.persistenceKey,e),i=new XE(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.ar.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return ZE.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return JE.Ji(new ob(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return XE.Ji(r,t)}},{key:"wr",value:function(e){return eT.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"vr",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:lb("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=g_();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),rT=function(){function e(){Ao(this,e),this.Fr=new tT,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ro(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new tT,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),iT=function(){function e(){Ao(this,e)}return Ro(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),aT=function(){function e(){var t=this;Ao(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Gr()},this.Kr=[],this.Qr()}return Ro(e,[{key:"Br",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){lb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Mo(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){lb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Mo(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),oT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},uT=function(){function e(t){Ao(this,e),this.jr=t.jr,this.Wr=t.Wr}return Ro(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),sT=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ao(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ro(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new ib;o.listenOnce(Zk.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Xk.NO_ERROR:var t=o.getResponseJson();lb("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Xk.TIMEOUT:lb("Connection",'RPC "'+e+'" timed out'),a(new gb(yb.DEADLINE_EXCEEDED,"Request time out"));break;case Xk.HTTP_ERROR:var n=o.getStatus();if(lb("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(yb).indexOf(t)>=0?t:yb.UNKNOWN}(r.status);a(new gb(u,r.message))}else a(new gb(yb.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new gb(yb.UNAVAILABLE,"Connection failed."));break;default:pb()}}finally{lb("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Yk(),a=Jk(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new nb({})),this.uo(o.initMessageHeaders,t,n),Zo()||nu()||Xo().indexOf("Electron/")>=0||ru()||Xo().indexOf("MSAppHost/")>=0||tu()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");lb("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new uT({jr:function(e){l?lb("Connection","Not sending because WebChannel is closed:",e):(c||(lb("Connection","Opening WebChannel transport."),s.open(),c=!0),lb("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,rb.EventType.OPEN,(function(){l||lb("Connection","WebChannel transport opened.")})),h(s,rb.EventType.CLOSE,(function(){l||(l=!0,lb("Connection","WebChannel transport closed"),f.eo())})),h(s,rb.EventType.ERROR,(function(e){l||(l=!0,hb("Connection","WebChannel transport errored:",e),f.eo(new gb(yb.UNAVAILABLE,"The operation could not be completed")))})),h(s,rb.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];vb(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){lb("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Qx[e];if(void 0!==t)return t_(t)}(a),u=i.message;void 0===o&&(o=yb.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new gb(o,u)),s.close()}else lb("Connection","WebChannel received:",n),f.no(n)}})),h(a,eb.STAT_EVENT,(function(e){e.stat===tb.PROXY?lb("Connection","Detected buffering proxy"):e.stat===tb.NOPROXY&&lb("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){Ao(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ro(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);lb("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.ao(e,a,o,n).then((function(e){return lb("RestConnection","Received: ",e),e}),(function(t){throw hb("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"co",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ub,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=oT[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function cT(){return"undefined"!=typeof window?window:null}function lT(){return"undefined"!=typeof document?document:null}function fT(e){return new N_(e,!0)}var hT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ao(this,e),this.Jn=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return Ro(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&lb("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),dT=function(){function e(t,n,r,i,a,o,u,s){Ao(this,e),this.Jn=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new hT(t,n)}return Ro(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"close",value:function(){var e=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===yb.RESOURCE_EXHAUSTED?(fb(n.toString()),fb("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===yb.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=f(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new gb(yb.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.vo=n.Jn.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Do(Lo().mark((function t(){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return lb("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.Jn.enqueueAndForget((function(){return t.Po===e?n():(lb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),pT=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i,a,o,u){var s;return Ao(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return Ro(n,[{key:"Go",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:pb()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(vb(void 0===t||"string"==typeof t),Wb.fromBase64String(t||"")):(vb(void 0===t||t instanceof Uint8Array),Wb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?yb.UNKNOWN:t_(e.code);return new gb(t,e.message||"")}(o);n=new __(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=V_(e,s.document.name),l=O_(s.document.updateTime),f=new _w({mapValue:{fields:s.document.fields}}),h=Sw.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new w_(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=V_(e,v.document),y=v.readTime?O_(v.readTime):Lb.min(),g=Sw.newNoDocument(m,y),k=v.removedTargetIds||[];n=new w_([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=V_(e,b.document),x=b.removedTargetIds||[];n=new w_([],x,w,null)}else{if(!("filter"in t))return pb();t.filter;var _=t.filter;_.targetId;var I=_.count||0,S=new Zx(I),E=_.targetId;n=new x_(E,S)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Lb.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Lb.min():t.readTime?O_(t.readTime):Lb.min()}(e);return this.listener.Ko(t,n)}},{key:"Qo",value:function(e){var t={};t.database=j_(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Uw(r)?{documents:$_(e,r)}:{query:Q_(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=P_(e,t.resumeToken):t.snapshotVersion.compareTo(Lb.min())>0&&(n.readTime=R_(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pb()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=j_(this.M),t.removeTarget=e,this.Oo(t)}}]),n}(dT),vT=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i,a,o,u){var s;return Ao(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Wo=!1,s}return Ro(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Os(Vo(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Go",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(vb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(vb(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?O_(e.updateTime):O_(t);return n.isEqual(Lb.min())&&(n=O_(t)),new Lx(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=O_(e.commitTime);return this.listener.Jo(n,t)}return vb(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=j_(this.M),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return K_(t.M,e)}))};this.Oo(n)}}]),n}(dT),mT=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i,a){var o;return Ao(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.Zo=!1,o}return Ro(n,[{key:"tu",value:function(){if(this.Zo)throw new gb(yb.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===yb.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new gb(yb.UNKNOWN,e.toString())}))}},{key:"co",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],u=a[1];return r.bo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===yb.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new gb(yb.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return Ro((function e(){Ao(this,e)}))}()),yT=function(){function e(t,n){Ao(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return Ro(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(fb(t),this.su=!1):lb("OnlineStateTracker",t)}},{key:"au",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),gT=Ro((function e(t,n,r,i,a){var o=this;Ao(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=AT(o),!e.t0){e.next=5;break}return lb("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Do(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=mb(t)).lu.add(4),e.next=4,wT(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,kT(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new yT(r,i)}));function kT(e){return bT.apply(this,arguments)}function bT(){return bT=Do(Lo().mark((function e(t){var n,r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!AT(t)){e.next=18;break}n=Mo(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),bT.apply(this,arguments)}function wT(e){return xT.apply(this,arguments)}function xT(){return xT=Do(Lo().mark((function e(t){var n,r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Mo(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),xT.apply(this,arguments)}function _T(e,t){var n=mb(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),CT(n)?TT(n):iC(n).Co()&&ST(n,t))}function IT(e,t){var n=mb(e),r=iC(n);n.hu.delete(t),r.Co()&&ET(n,t),0===n.hu.size&&(r.Co()?r.ko():AT(n)&&n._u.set("Unknown"))}function ST(e,t){e.wu.Z(t.targetId),iC(e).Qo(t)}function ET(e,t){e.wu.Z(t),iC(e).jo(t)}function TT(e){e.wu=new S_({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.hu.get(t)||null}}),iC(e).start(),e._u.iu()}function CT(e){return AT(e)&&!iC(e).Do()&&e.hu.size>0}function AT(e){return 0===mb(e).lu.size}function NT(e){e.wu=void 0}function RT(e){return PT.apply(this,arguments)}function PT(){return PT=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){ST(t,e)}));case 1:case"end":return e.stop()}}),e)}))),PT.apply(this,arguments)}function DT(e,t){return OT.apply(this,arguments)}function OT(){return OT=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:NT(t),CT(t)?(t._u.uu(n),TT(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),OT.apply(this,arguments)}function LT(e,t,n){return MT.apply(this,arguments)}function MT(){return MT=Do(Lo().mark((function e(t,n,r){var i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof __&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Do(Lo().mark((function e(t,n){var r,i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Mo(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),lb("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,FT(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof w_?t.wu.ut(n):n instanceof x_?t.wu._t(n):t.wu.ht(n),r.isEqual(Lb.min())){e.next=29;break}return e.prev=14,e.next=17,xE(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(Wb.EMPTY_BYTE_STRING,n.snapshotVersion)),ET(e,t);var r=new QI(n.target,t,1,n.sequenceNumber);ST(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),lb("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,FT(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),MT.apply(this,arguments)}function FT(e,t,n){return VT.apply(this,arguments)}function VT(){return VT=Do(Lo().mark((function e(t,n,r){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(UI(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,wT(t);case 5:t._u.set("Offline"),r||(r=function(){return xE(t.localStore)}),t.asyncQueue.enqueueRetryable(Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lb("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,kT(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),VT.apply(this,arguments)}function UT(e,t){return t().catch((function(n){return FT(e,n,t)}))}function zT(e){return jT.apply(this,arguments)}function jT(){return jT=Do(Lo().mark((function e(t){var n,r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=mb(t),r=aC(n),i=n.cu.length>0?n.cu[n.cu.length-1].batchId:-1;case 2:if(!BT(n)){e.next=19;break}return e.prev=3,e.next=6,SE(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.cu.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,qT(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,FT(n,e.t0);case 17:e.next=2;break;case 19:WT(n)&&GT(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),jT.apply(this,arguments)}function BT(e){return AT(e)&&e.cu.length<10}function qT(e,t){e.cu.push(t);var n=aC(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function WT(e){return AT(e)&&!aC(e).Do()&&e.cu.length>0}function GT(e){aC(e).start()}function KT(e){return HT.apply(this,arguments)}function HT(){return HT=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:aC(t).Xo();case 1:case"end":return e.stop()}}),e)}))),HT.apply(this,arguments)}function $T(e){return QT.apply(this,arguments)}function QT(){return QT=Do(Lo().mark((function e(t){var n,r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=aC(t),r=Mo(t.cu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),QT.apply(this,arguments)}function YT(e,t,n){return JT.apply(this,arguments)}function JT(){return JT=Do(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.cu.shift(),a=HI.from(i,n,r),e.next=3,UT(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,zT(t);case 5:case"end":return e.stop()}}),e)}))),JT.apply(this,arguments)}function XT(e,t){return ZT.apply(this,arguments)}function ZT(){return ZT=Do(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&aC(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Do(Lo().mark((function e(t,n){var r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!e_(i=n.code)||i===yb.ABORTED){e.next=7;break}return r=t.cu.shift(),aC(t).No(),e.next=5,UT(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,zT(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:WT(t)&&GT(t);case 5:case"end":return e.stop()}}),e)}))),ZT.apply(this,arguments)}function eC(e,t){return tC.apply(this,arguments)}function tC(){return tC=Do(Lo().mark((function e(t,n){var r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=mb(t)).asyncQueue.verifyOperationInProgress(),lb("RemoteStore","RemoteStore received new credentials"),i=AT(r),r.lu.add(3),e.next=6,wT(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,kT(r);case 12:case"end":return e.stop()}}),e)}))),tC.apply(this,arguments)}function nC(e,t){return rC.apply(this,arguments)}function rC(){return rC=Do(Lo().mark((function e(t,n){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mb(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,kT(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,wT(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),rC.apply(this,arguments)}function iC(e){return e.mu||(e.mu=function(e,t,n){var r=mb(e);return r.tu(),new pT(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:RT.bind(null,e),Jr:DT.bind(null,e),Ko:LT.bind(null,e)}),e.fu.push(function(){var t=Do(Lo().mark((function t(n){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),CT(e)?TT(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:NT(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function aC(e){return e.gu||(e.gu=function(e,t,n){var r=mb(e);return r.tu(),new vT(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:KT.bind(null,e),Jr:XT.bind(null,e),Yo:$T.bind(null,e),Jo:YT.bind(null,e)}),e.fu.push(function(){var t=Do(Lo().mark((function t(n){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,zT(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.cu.length>0&&(lb("RemoteStore","Stopping write stream with ".concat(e.cu.length," pending writes")),e.cu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var oC=function(){function e(t,n,r,i,a){Ao(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new kb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ro(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gb(yb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function uC(e,t){if(fb("AsyncQueue","".concat(t,": ").concat(e)),UI(e))return new gb(yb.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var sC=function(){function e(t){Ao(this,e),this.comparator=t?function(e,n){return t(e,n)||rw.comparator(e.key,n.key)}:function(e,t){return rw.comparator(e.key,t.key)},this.keyedMap=h_(),this.sortedSet=new r_(this.comparator)}return Ro(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),cC=function(){function e(){Ao(this,e),this.yu=new r_(rw.comparator)}return Ro(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):pb():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),lC=function(){function e(t,n,r,i,a,o,u,s){Ao(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Ro(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,sC.emptySet(n),a,r,i,!0,!1)}}]),e}(),fC=Ro((function e(){Ao(this,e),this.Iu=void 0,this.listeners=[]})),hC=Ro((function e(){Ao(this,e),this.queries=new n_((function(e){return dx(e)}),hx),this.onlineState="Unknown",this.Tu=new Set}));function dC(e,t){return pC.apply(this,arguments)}function pC(){return pC=Do(Lo().mark((function e(t,n){var r,i,a,o,u;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mb(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new fC),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=uC(e.t0,"Initialization of query '".concat(px(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&kC(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),pC.apply(this,arguments)}function vC(e,t){return mC.apply(this,arguments)}function mC(){return mC=Do(Lo().mark((function e(t,n){var r,i,a,o,u;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mb(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),mC.apply(this,arguments)}function yC(e,t){var n,r=mb(e),i=!1,a=Mo(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Mo(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&kC(r)}function gC(e,t,n){var r=mb(e),i=r.queries.get(t);if(i){var a,o=Mo(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function kC(e){e.Tu.forEach((function(e){e.next()}))}var bC=function(){function e(t,n,r){Ao(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return Ro(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Mo(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new lC(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),a=!0):this.vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=lC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),wC=function(){function e(t,n){Ao(this,e),this.payload=t,this.byteLength=n}return Ro(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),xC=function(){function e(t){Ao(this,e),this.M=t}return Ro(e,[{key:"li",value:function(e){return V_(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?W_(this.M,e.document,!1):Sw.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return O_(e)}}]),e}(),_C=function(){function e(t,n,r){Ao(this,e),this.xu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=IC(t)}return Ro(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=zb.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new xC(this.M),i=Mo(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=Mo(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||m_()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Do(Lo().mark((function e(){var t,n,r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DE(this.localStore,new xC(this.M),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Mo(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,LE(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function IC(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var SC=Ro((function e(t){Ao(this,e),this.key=t})),EC=Ro((function e(t){Ao(this,e),this.key=t})),TC=function(){function e(t,n){Ao(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=m_(),this.mutatedKeys=m_(),this.Lu=yx(t),this.Uu=new sC(this.Lu)}return Ro(e,[{key:"qu",get:function(){return this.Fu}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Ku:new cC,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=ix(this.query)&&i.size===this.query.limit?i.last():null,c=ax(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=vx(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),ix(this.query)||ax(this.query))for(;o.size>this.query.limit;){var l=ix(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Ku:r,ei:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Ku.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pb()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new lC(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new cC,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=m_(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new EC(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new SC(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.hi,this.Bu=m_();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return lC.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),CC=Ro((function e(t,n,r){Ao(this,e),this.query=t,this.targetId=n,this.view=r})),AC=Ro((function e(t){Ao(this,e),this.key=t,this.Xu=!1})),NC=function(){function e(t,n,r,i,a,o){Ao(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.ta=new n_((function(e){return dx(e)}),hx),this.ea=new Map,this.na=new Set,this.sa=new r_(rw.comparator),this.ia=new Map,this.ra=new UE,this.oa={},this.ua=new Map,this.aa=zS.gn(),this.onlineState="Unknown",this.ca=void 0}return Ro(e,[{key:"isPrimaryClient",get:function(){return!0===this.ca}}]),e}();function RC(e,t){return PC.apply(this,arguments)}function PC(){return PC=Do(Lo().mark((function e(t,n){var r,i,a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=IA(t),!(o=r.ta.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,EE(r.localStore,lx(n));case 8:return u=e.sent,r.isPrimaryClient&&_T(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,DC(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),PC.apply(this,arguments)}function DC(e,t,n,r){return OC.apply(this,arguments)}function OC(){return OC=Do(Lo().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ha=function(e,n,r){return function(){var e=Do(Lo().mark((function e(t,n,r,i){var a,o,u;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,AE(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(eA(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,AE(t.localStore,n,!0);case 3:return a=e.sent,o=new TC(n,a.hi),u=o.Gu(a.documents),s=b_.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),eA(t,r,c.zu),l=new CC(n,r,o),e.abrupt("return",(t.ta.set(n,l),t.ea.has(r)?t.ea.get(r).push(n):t.ea.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),OC.apply(this,arguments)}function LC(e,t){return MC.apply(this,arguments)}function MC(){return MC=Do(Lo().mark((function e(t,n){var r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mb(t),i=r.ta.get(n),!((a=r.ea.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ea.set(i.targetId,a.filter((function(e){return!hx(e,n)}))),void r.ta.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,TE(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),IT(r.remoteStore,i.targetId),XC(r,i.targetId)})).catch(GS);case 9:e.next=14;break;case 11:return XC(r,i.targetId),e.next=14,TE(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),MC.apply(this,arguments)}function FC(e,t,n){return VC.apply(this,arguments)}function VC(){return VC=Do(Lo().mark((function e(t,n,r){var i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=SA(t),e.prev=1,e.next=4,function(e,t){var n,r=mb(e),i=Ob.now(),a=t.reduce((function(e,t){return e.add(t.key)}),m_());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ai.qs(e,a).next((function(a){n=a;var o,u=[],s=Mo(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=jx(c,n.get(c.key));null!=l&&u.push(new Gx(c.key,l,Iw(l.value.mapValue),Mx.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.$s.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oa[e.currentUser.toKey()];r||(r=new r_(Rb)),r=r.insert(t,n),e.oa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,rA(i,a.changes);case 9:return e.next=11,zT(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=uC(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),VC.apply(this,arguments)}function UC(e,t){return zC.apply(this,arguments)}function zC(){return zC=Do(Lo().mark((function e(t,n){var r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mb(t),e.prev=1,e.next=4,_E(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ia.get(t);n&&(vb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?vb(n.Xu):e.removedDocuments.size>0&&(vb(n.Xu),n.Xu=!1))})),e.next=8,rA(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,GS(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),zC.apply(this,arguments)}function jC(e,t,n){var r=mb(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ta.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=mb(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Mo(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&kC(n)}(r.eventManager,t),i.length&&r.Zu.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function BC(e,t,n){return qC.apply(this,arguments)}function qC(){return qC=Do(Lo().mark((function e(t,n,r){var i,a,o,u,s,c;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=mb(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ia.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new r_(rw.comparator)).insert(o,Sw.newNoDocument(o,Lb.min())),s=m_().add(o),c=new k_(Lb.min(),new Map,new o_(Rb),u,s),e.next=9,UC(i,c);case 9:i.sa=i.sa.remove(o),i.ia.delete(n),nA(i),e.next=16;break;case 14:return e.next=16,TE(i.localStore,n,!1).then((function(){return XC(i,n,r)})).catch(GS);case 16:case"end":return e.stop()}}),e)}))),qC.apply(this,arguments)}function WC(e,t){return GC.apply(this,arguments)}function GC(){return GC=Do(Lo().mark((function e(t,n){var r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mb(t),i=n.batch.batchId,e.prev=1,e.next=4,wE(r.localStore,n);case 4:return a=e.sent,JC(r,i,null),YC(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,rA(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,GS(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),GC.apply(this,arguments)}function KC(e,t,n){return HC.apply(this,arguments)}function HC(){return HC=Do(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mb(t),e.prev=1,e.next=4,function(e,t){var n=mb(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.$s.lookupMutationBatch(e,t).next((function(t){return vb(null!==t),r=t.keys(),n.$s.removeMutationBatch(e,t)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,JC(i,n,r),YC(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,rA(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,GS(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),HC.apply(this,arguments)}function $C(e,t){return QC.apply(this,arguments)}function QC(){return QC=Do(Lo().mark((function e(t,n){var r,i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return AT((r=mb(t)).remoteStore)||lb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=mb(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.$s.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ua.get(i)||[]).push(n),r.ua.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=uC(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),QC.apply(this,arguments)}function YC(e,t){(e.ua.get(t)||[]).forEach((function(e){e.resolve()})),e.ua.delete(t)}function JC(e,t,n){var r=mb(e),i=r.oa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oa[r.currentUser.toKey()]=i}}function XC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Mo(e.ea.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ta.delete(a),n&&e.Zu.la(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ea.delete(t),e.isPrimaryClient&&e.ra.Ri(t).forEach((function(t){e.ra.containsKey(t)||ZC(e,t)}))}function ZC(e,t){e.na.delete(t.path.canonicalString());var n=e.sa.get(t);null!==n&&(IT(e.remoteStore,n),e.sa=e.sa.remove(t),e.ia.delete(n),nA(e))}function eA(e,t,n){var r,i=Mo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof SC?(e.ra.addReference(a.key,t),tA(e,a)):a instanceof EC?(lb("SyncEngine","Document no longer in limbo: "+a.key),e.ra.removeReference(a.key,t),e.ra.containsKey(a.key)||ZC(e,a.key)):pb()}}catch(o){i.e(o)}finally{i.f()}}function tA(e,t){var n=t.key,r=n.path.canonicalString();e.sa.get(n)||e.na.has(r)||(lb("SyncEngine","New document in limbo: "+n),e.na.add(r),nA(e))}function nA(e){for(;e.na.size>0&&e.sa.size<e.maxConcurrentLimboResolutions;){var t=e.na.values().next().value;e.na.delete(t);var n=new rw(zb.fromString(t)),r=e.aa.next();e.ia.set(r,new AC(n)),e.sa=e.sa.insert(n,r),_T(e.remoteStore,new QI(lx(rx(n.path)),r,2,Cb.A))}}function rA(e,t,n){return iA.apply(this,arguments)}function iA(){return iA=Do(Lo().mark((function e(t,n,r){var i,a,o,u;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=mb(t),a=[],o=[],u=[],e.t0=i.ta.isEmpty(),e.t0){e.next=9;break}return i.ta.forEach((function(e,t){u.push(i.ha(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=vE.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Ko(a),e.next=9,function(){var e=Do(Lo().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mb(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return OI.forEach(n,(function(t){return OI.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return OI.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),UI(e.t0)){e.next=10;break}throw e.t0;case 10:lb("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Mo(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),iA.apply(this,arguments)}function aA(e,t){return oA.apply(this,arguments)}function oA(){return oA=Do(Lo().mark((function e(t,n){var r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=mb(t)).currentUser.isEqual(n)){e.next=11;break}return lb("SyncEngine","User change. New user:",n.toKey()),e.next=5,kE(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ua.forEach((function(e){e.forEach((function(e){e.reject(new gb(yb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ua.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,rA(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),oA.apply(this,arguments)}function uA(e,t){var n=mb(e),r=n.ia.get(t);if(r&&r.Xu)return m_().add(r.key);var i=m_(),a=n.ea.get(t);if(!a)return i;var o,u=Mo(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ta.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function sA(e,t){return cA.apply(this,arguments)}function cA(){return cA=Do(Lo().mark((function e(t,n){var r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mb(t),e.next=3,AE(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&eA(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),cA.apply(this,arguments)}function lA(e,t){return fA.apply(this,arguments)}function fA(){return fA=Do(Lo().mark((function e(t,n){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mb(t),e.abrupt("return",RE(r.localStore,n).then((function(e){return rA(r,e)})));case 2:case"end":return e.stop()}}),e)}))),fA.apply(this,arguments)}function hA(e,t,n,r){return dA.apply(this,arguments)}function dA(){return dA=Do(Lo().mark((function e(t,n,r,i){var a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=mb(t),e.next=3,function(e,t){var n=mb(e),r=mb(n.$s);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ai.qs(e,t):OI.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,zT(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(JC(a,n,i||null),YC(a,n),function(e,t){mb(mb(e).$s).dn(t)}(a.localStore,n)):pb();case 11:return e.next=13,rA(a,o);case 13:e.next=16;break;case 15:lb("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),dA.apply(this,arguments)}function pA(e,t){return vA.apply(this,arguments)}function vA(){return vA=Do(Lo().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(IA(r=mb(t)),SA(r),!0!==n||!0===r.ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,mA(r,i.toArray());case 5:return a=e.sent,r.ca=!0,e.next=9,nC(r.remoteStore,!0);case 9:o=Mo(a);try{for(o.s();!(u=o.n()).done;)s=u.value,_T(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ca){e.next=25;break}return c=[],l=Promise.resolve(),r.ea.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return XC(r,t),TE(r.localStore,t,!0)})),IT(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,mA(r,c);case 21:return function(e){var t=mb(e);t.ia.forEach((function(e,n){IT(t.remoteStore,n)})),t.ra.bi(),t.ia=new Map,t.sa=new r_(rw.comparator)}(r),r.ca=!1,e.next=25,nC(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),vA.apply(this,arguments)}function mA(e,t,n){return yA.apply(this,arguments)}function yA(){return yA=Do(Lo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=mb(t),a=[],o=[],u=Mo(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ea.get(c))||0===f.length){e.next=34;break}return e.next=11,EE(i.localStore,lx(f[0]));case 11:l=e.sent,h=Mo(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ta.get(p),e.next=20,sA(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,NE(i.localStore,c);case 36:return y=e.sent,e.next=39,EE(i.localStore,y);case 39:return l=e.sent,e.next=42,DC(i,gA(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),yA.apply(this,arguments)}function gA(e){return nx(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function kA(e){var t=mb(e);return mb(mb(t.localStore).persistence).Os()}function bA(e,t,n,r){return wA.apply(this,arguments)}function wA(){return wA=Do(Lo().mark((function e(t,n,r,i){var a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=mb(t)).ca){e.next=3;break}return e.abrupt("return",void lb("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ea.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,RE(a.localStore,mx(o[0]));case 10:return u=e.sent,s=k_.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,rA(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,TE(a.localStore,n,!0);case 17:return XC(a,n,i),e.abrupt("break",20);case 19:pb();case 20:case"end":return e.stop()}}),e)}))),wA.apply(this,arguments)}function xA(e,t,n){return _A.apply(this,arguments)}function _A(){return _A=Do(Lo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=IA(t)).ca){e.next=45;break}a=Mo(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ea.has(u)){e.next=10;break}return lb("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,NE(i.localStore,u);case 12:return s=e.sent,e.next=15,EE(i.localStore,s);case 15:return c=e.sent,e.next=18,DC(i,gA(s),c.targetId,!1);case 18:_T(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Mo(r),e.prev=30,h=Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ea.has(t),!e.t0){e.next=5;break}return e.next=5,TE(i.localStore,t,!1).then((function(){IT(i.remoteStore,t),XC(i,t)})).catch(GS);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),_A.apply(this,arguments)}function IA(e){var t=mb(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=UC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=BC.bind(null,t),t.Zu.Ko=yC.bind(null,t.eventManager),t.Zu.la=gC.bind(null,t.eventManager),t}function SA(e){var t=mb(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KC.bind(null,t),t}function EA(e,t,n){var r=mb(e);(function(){var e=Do(Lo().mark((function e(t,n,r){var i,a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=mb(e),r=O_(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(IC(i)),a=new _C(i,t.localStore,n.M),e.next=15,n.fa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,rA(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=mb(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(hb("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var TA=function(){function e(){Ao(this,e),this.synchronizeTabs=!1}return Ro(e,[{key:"initialize",value:function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=fT(t.databaseInfo.databaseId),this.sharedClientState=this.da(t),this.persistence=this._a(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.wa(t),this.localStore=this.ma(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wa",value:function(e){return null}},{key:"ma",value:function(e){return gE(this.persistence,new mE,e.initialUser,this.M)}},{key:"_a",value:function(e){return new GE(HE.Wi,this.M)}},{key:"da",value:function(e){return new rT}},{key:"terminate",value:function(){var e=Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),CA=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ao(this,n),(a=t.call(this)).ga=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Ro(n,[{key:"initialize",value:function(){var e=Do(Lo().mark((function e(t){var r=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Os(Vo(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ga.initialize(this,t);case 4:return e.next=6,SA(this.ga.syncEngine);case 6:return e.next=8,zT(this.ga.remoteStore);case 8:return e.next=10,this.persistence.Is((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return gE(this.persistence,new mE,e.initialUser,this.M)}},{key:"wa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new QS(t,e.asyncQueue)}},{key:"_a",value:function(e){var t=dE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?PS.withCacheSize(this.cacheSizeBytes):PS.DEFAULT;return new lE(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,cT(),lT(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"da",value:function(e){return new rT}}]),n}(TA),AA=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ao(this,n),(i=t.call(this,e,r,!1)).ga=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ro(n,[{key:"initialize",value:function(){var e=Do(Lo().mark((function e(t){var r,i=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Os(Vo(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ga.syncEngine,e.t0=this.sharedClientState instanceof nT,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:hA.bind(null,r),Mr:bA.bind(null,r),Or:xA.bind(null,r),Os:kA.bind(null,r),Nr:lA.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Is(function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pA(i.ga.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"da",value:function(e){var t=cT();if(!nT.vt(t))throw new gb(yb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=dE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nT(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(CA),NA=function(){function e(){Ao(this,e)}return Ro(e,[{key:"initialize",value:function(){var e=Do(Lo().mark((function e(t,n){var r=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return jC(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=aA.bind(null,this.syncEngine),e.next=12,nC(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new hC}},{key:"createDatastore",value:function(e){var t,n=fT(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new sT(t));return function(e,t,n,r){return new mT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return jC(o.syncEngine,e,0)},a=aT.vt()?new aT:new iT,new gT(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new NC(e,t,n,r,i,a);return o&&(u.ca=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Do(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mb(t),lb("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,wT(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function RA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Do(Lo().mark((function r(){var i;return Lo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var PA=function(){function e(t){Ao(this,e),this.observer=t,this.muted=!1}return Ro(e,[{key:"next",value:function(e){this.observer.next&&this.ya(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"pa",value:function(){this.muted=!0}},{key:"ya",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),DA=function(){function e(t,n){var r=this;Ao(this,e),this.Ia=t,this.M=n,this.metadata=new kb,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Ro(e,[{key:"close",value:function(){return this.Ia.cancel()}},{key:"getMetadata",value:function(){var e=Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fa",value:function(){var e=Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ea());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ea",value:function(){var e=Do(Lo().mark((function e(){var t,n,r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Aa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ta.decode(t),r=Number(n),isNaN(r)&&this.Ra("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new wC(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Aa",value:function(){var e=Do(Lo().mark((function e(){var t,n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Pa()<0)){e.next=7;break}return e.next=3,this.Va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Pa())<0&&this.Ra("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=Do(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ra("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ra",value:function(e){throw this.Ia.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Va",value:function(){var e=Do(Lo().mark((function e(){var t,n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ia.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),OA=function(){function e(t){Ao(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Ro(e,[{key:"lookup",value:function(){var e=Do(Lo().mark((function e(t){var n,r=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new gb(yb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Do(Lo().mark((function e(t,n){var r,i,a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mb(t),i=j_(r.M)+"/documents",a={documents:n.map((function(e){return F_(r.M,e)}))},e.next=5,r.co("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=G_(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());vb(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Jx(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Do(Lo().mark((function e(){var t,n=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=rw.fromPath(t);n.mutations.push(new Xx(r,n.precondition(r)))})),e.next=7,function(){var e=Do(Lo().mark((function e(t,n){var r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mb(t),i=j_(r.M)+"/documents",a={writes:n.map((function(e){return K_(r.M,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pb();t=Lb.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new gb(yb.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Mx.updateTime(t):Mx.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Lb.min()))throw new gb(yb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mx.updateTime(t)}return Mx.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),LA=function(){function e(t,n,r,i){Ao(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new hT(this.asyncQueue,"transaction_retry")}return Ro(e,[{key:"run",value:function(){this.va-=1,this.Sa()}},{key:"Sa",value:function(){var e=this;this.So.Io(Do(Lo().mark((function t(){var n,r;return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new OA(e.datastore),(r=e.Da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ca(t)}))}))})).catch((function(t){e.Ca(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Da",value:function(e){try{var t=this.updateFunction(e);return!ew(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ca",value:function(e){var t=this;this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!e_(t)}return!1}}]),e}(),MA=function(){function e(t,n,r,i){var a=this;Ao(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ob.UNAUTHENTICATED,this.clientId=Nb.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lb("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return lb("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Ro(e,[{key:"getConfiguration",value:function(){var e=Do(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new gb(yb.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new kb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Do(Lo().mark((function n(){var r;return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=uC(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function FA(e,t){return VA.apply(this,arguments)}function VA(){return VA=Do(Lo().mark((function e(t,n){var r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),lb("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,kE(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),VA.apply(this,arguments)}function UA(e,t){return zA.apply(this,arguments)}function zA(){return zA=Do(Lo().mark((function e(t,n){var r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,jA(t);case 3:return r=e.sent,lb("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return eC(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return eC(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),zA.apply(this,arguments)}function jA(e){return BA.apply(this,arguments)}function BA(){return BA=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return lb("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,FA(t,new TA);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),BA.apply(this,arguments)}function qA(e){return WA.apply(this,arguments)}function WA(){return WA=Do(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return lb("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,UA(t,new NA);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),WA.apply(this,arguments)}function GA(e){return jA(e).then((function(e){return e.persistence}))}function KA(e){return jA(e).then((function(e){return e.localStore}))}function HA(e){return qA(e).then((function(e){return e.remoteStore}))}function $A(e){return qA(e).then((function(e){return e.syncEngine}))}function QA(e){return YA.apply(this,arguments)}function YA(){return YA=Do(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qA(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=RC.bind(null,n.syncEngine),r.onUnlisten=LC.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),YA.apply(this,arguments)}function JA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new kb;return e.asyncQueue.enqueueAndForget(Do(Lo().mark((function i(){return Lo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new PA({next:function(a){t.enqueueAndForget((function(){return vC(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new gb(yb.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new gb(yb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new bC(rx(n.path),a,{includeMetadataChanges:!0,Du:!0});return dC(e,o)},i.next=3,QA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function XA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new kb;return e.asyncQueue.enqueueAndForget(Do(Lo().mark((function i(){return Lo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new PA({next:function(n){t.enqueueAndForget((function(){return vC(e,o)})),n.fromCache&&"server"===r.source?i.reject(new gb(yb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new bC(n,a,{includeMetadataChanges:!0,Du:!0});return dC(e,o)},i.next=3,QA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var ZA=new Map;function eN(e,t,n){if(!n)throw new gb(yb.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function tN(e,t,n,r){if(!0===t&&!0===r)throw new gb(yb.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function nN(e){if(!rw.isDocumentKey(e))throw new gb(yb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function rN(e){if(rw.isDocumentKey(e))throw new gb(yb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function iN(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":pb()}function aN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gb(yb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=iN(e);throw new gb(yb.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function oN(e,t){if(t<=0)throw new gb(yb.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var uN=function(){function e(t){var n;if(Ao(this,e),void 0===t.host){if(void 0!==t.ssl)throw new gb(yb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new gb(yb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,tN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Ro(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),sN=function(){function e(t,n,r){Ao(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uN({}),this._settingsFrozen=!1,t instanceof Zb?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new gb(yb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zb(e.options.projectId)}(t))}return Ro(e,[{key:"app",get:function(){if(!this._app)throw new gb(yb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new gb(yb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uN(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new wb;switch(e.type){case"gapi":var t=e.client;return vb(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Sb(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new gb(yb.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=ZA.get(e);t&&(lb("ComponentProvider","Removing Datastore"),ZA.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function cN(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=aN(e,sN))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&hb("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=ob.MOCK_USER;else{o=Jo(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new gb(yb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ob(s)}e._authCredentials=new xb(new bb(o,u))}}var lN=function(){function e(t,n,r){Ao(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ro(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new hN(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),fN=function(){function e(t,n,r){Ao(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ro(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),hN=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ao(this,n),(a=t.call(this,e,r,rx(i)))._path=i,a.type="collection",a}return Ro(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new lN(this.firestore,null,new rw(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(fN);function dN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gu(e),eN("collection","path",t),e instanceof sN){var a=zb.fromString.apply(zb,[t].concat(r));return rN(a),new hN(e,null,a)}if(!(e instanceof lN||e instanceof hN))throw new gb(yb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(zb.fromString.apply(zb,[t].concat(r)));return rN(o),new hN(e.firestore,null,o)}function pN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gu(e),1===arguments.length&&(t=Nb.R()),eN("doc","path",t),e instanceof sN){var a=zb.fromString.apply(zb,[t].concat(r));return nN(a),new lN(e,null,new rw(a))}if(!(e instanceof lN||e instanceof hN))throw new gb(yb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(zb.fromString.apply(zb,[t].concat(r)));return nN(o),new lN(e.firestore,e instanceof hN?e.converter:null,new rw(o))}function vN(e,t){return e=gu(e),t=gu(t),(e instanceof lN||e instanceof hN)&&(t instanceof lN||t instanceof hN)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function mN(e,t){return e=gu(e),t=gu(t),e instanceof fN&&t instanceof fN&&e.firestore===t.firestore&&hx(e._query,t._query)&&e.converter===t.converter}var yN=function(){function e(){var t=this;Ao(this,e),this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new hT(this,"async_queue_retry"),this.Ua=function(){var e=lT();e&&lb("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=lT();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ua)}return Ro(e,[{key:"isShuttingDown",get:function(){return this.Ma}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.qa(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;var t=lT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}},{key:"enqueue",value:function(e){var t=this;if(this.qa(),this.Ma)return new Promise((function(){}));var n=new kb;return this.Ga((function(){return t.Ma&&t.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ka.push(e),t.Ka()}))}},{key:"Ka",value:function(){var e=Do(Lo().mark((function e(){var t=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ka.length){e.next=14;break}return e.prev=1,e.next=4,this.ka[0]();case 4:this.ka.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),UI(e.t0)){e.next=12;break}throw e.t0;case 12:lb("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ka.length>0&&this.So.Io((function(){return t.Ka()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.Na.then((function(){return t.$a=!0,e().catch((function(e){t.Fa=e,t.$a=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw fb("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.$a=!1,e}))}));return this.Na=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.qa(),this.La.indexOf(e)>-1&&(t=0);var i=oC.createAndSchedule(this,e,t,n,(function(e){return r.Qa(e)}));return this.Oa.push(i),i}},{key:"qa",value:function(){this.Fa&&pb()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ja",value:function(){var e=Do(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Na,e.next=3,t;case 3:if(t!==this.Na){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t,n=Mo(this.Oa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"za",value:function(e){var t=this;return this.ja().then((function(){t.Oa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Mo(t.Oa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ja()}))}},{key:"Ha",value:function(e){this.La.push(e)}},{key:"Qa",value:function(e){var t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}]),e}();function gN(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Mo(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var kN=function(){function e(){Ao(this,e),this._progressObserver={},this._taskCompletionResolver=new kb,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Ro(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),bN=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ao(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new yN,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Ro(n,[{key:"_terminate",value:function(){return this._firestoreClient||xN(this),this._firestoreClient.terminate()}}]),n}(sN);function wN(e){return e._firestoreClient||xN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function xN(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Xb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new MA(e._authCredentials,e._appCheckCredentials,e._queue,r)}function _N(e,t,n){var r=new kb;return e.asyncQueue.enqueue(Do(Lo().mark((function i(){return Lo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,FA(e,n);case 3:return i.next=5,UA(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===yb.FAILED_PRECONDITION||e.code===yb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function IN(e){return function(e){return e.asyncQueue.enqueue(Do(Lo().mark((function t(){var n,r;return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,GA(e);case 2:return n=t.sent,t.next=5,HA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=mb(e);return t.lu.delete(0),kT(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(wN(e=aN(e,bN)))}function SN(e){return function(e){return e.asyncQueue.enqueue(Do(Lo().mark((function t(){var n,r;return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,GA(e);case 2:return n=t.sent,t.next=5,HA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Do(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=mb(t)).lu.add(0),e.next=4,wT(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(wN(e=aN(e,bN)))}function EN(e,t){var n=wN(e=aN(e,bN)),r=new kN;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new DA(e,t)}(function(e,t){if(e instanceof Uint8Array)return RA(e,t);if(e instanceof ArrayBuffer)return RA(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,fT(t));e.asyncQueue.enqueueAndForget(Do(Lo().mark((function t(){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=EA,t.next=3,$A(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function TN(e,t){return function(e,t){return e.asyncQueue.enqueue(Do(Lo().mark((function n(){return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=mb(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.ds.getNamedQuery(e,t)}))},n.next=3,KA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(wN(e=aN(e,bN)),t).then((function(t){return t?new fN(e,null,t.query):null}))}function CN(e){if(e._initialized||e._terminated)throw new gb(yb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var AN=function(){function e(){Ao(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new gb(yb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bb(n)}return Ro(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var NN=function(){function e(t){Ao(this,e),this._byteString=t}return Ro(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Wb.fromBase64String(t))}catch(t){throw new gb(yb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Wb.fromUint8Array(t))}}]),e}(),RN=Ro((function e(t){Ao(this,e),this._methodName=t})),PN=function(){function e(t,n){if(Ao(this,e),!isFinite(t)||t<-90||t>90)throw new gb(yb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new gb(yb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ro(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Rb(this._lat,e._lat)||Rb(this._long,e._long)}}]),e}(),DN=/^__.*__$/,ON=function(){function e(t,n,r){Ao(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ro(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Gx(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wx(e,this.data,t,this.fieldTransforms)}}]),e}(),LN=function(){function e(t,n,r){Ao(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ro(e,[{key:"toMutation",value:function(e,t){return new Gx(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function MN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pb()}}var FN=function(){function e(t,n,r,i,a,o){Ao(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ro(e,[{key:"path",get:function(){return this.settings.path}},{key:"Ya",get:function(){return this.settings.Ya}},{key:"Xa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Za",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.ec(e),r}},{key:"nc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.Ja(),r}},{key:"sc",value:function(e){return this.Xa({path:void 0,tc:!0})}},{key:"ic",value:function(e){return rR(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ja",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ec(this.path.get(e))}},{key:"ec",value:function(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(MN(this.Ya)&&DN.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}]),e}(),VN=function(){function e(t,n,r){Ao(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||fT(t)}return Ro(e,[{key:"uc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new FN({Ya:e,methodName:t,oc:n,path:Bb.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function UN(e){var t=e._freezeSettings(),n=fT(e._databaseId);return new VN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zN(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.uc(a.merge||a.mergeFields?2:0,t,n,i);ZN("Data must be an object, but it was:",o,r);var u,s,c=JN(r,o);if(a.merge)u=new qb(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Mo(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=eR(t,d,n);if(!o.contains(p))throw new gb(yb.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));iR(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new qb(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new ON(new _w(c),u,s)}var jN=function(e){Fo(n,e);var t=Bo(n);function n(){return Ao(this,n),t.apply(this,arguments)}return Ro(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Ya)throw 1===e.Ya?e.ic("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ic("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(RN);function BN(e,t,n){return new FN({Ya:3,oc:t.settings.oc,methodName:e._methodName,tc:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var qN=function(e){Fo(n,e);var t=Bo(n);function n(){return Ao(this,n),t.apply(this,arguments)}return Ro(n,[{key:"_toFieldTransform",value:function(e){return new Ox(e.path,new Ex)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(RN),WN=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ao(this,n),(i=t.call(this,e)).ac=r,i}return Ro(n,[{key:"_toFieldTransform",value:function(e){var t=BN(this,e,!0),n=this.ac.map((function(e){return YN(e,t)})),r=new Tx(n);return new Ox(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(RN),GN=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ao(this,n),(i=t.call(this,e)).ac=r,i}return Ro(n,[{key:"_toFieldTransform",value:function(e){var t=BN(this,e,!0),n=this.ac.map((function(e){return YN(e,t)})),r=new Ax(n);return new Ox(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(RN),KN=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ao(this,n),(i=t.call(this,e)).cc=r,i}return Ro(n,[{key:"_toFieldTransform",value:function(e){var t=new Rx(e.M,wx(e.M,this.cc));return new Ox(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(RN);function HN(e,t,n,r){var i=e.uc(1,t,n);ZN("Data must be an object, but it was:",i,r);var a=[],o=_w.empty();Fb(r,(function(e,r){var u=nR(t,e,n);r=gu(r);var s=i.nc(u);if(r instanceof jN)a.push(u);else{var c=YN(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new qb(a);return new LN(o,u,i.fieldTransforms)}function $N(e,t,n,r,i,a){var o=e.uc(1,t,n),u=[eR(t,r,n)],s=[i];if(a.length%2!=0)throw new gb(yb.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(eR(t,a[c])),s.push(a[c+1]);for(var l=[],f=_w.empty(),h=u.length-1;h>=0;--h)if(!iR(l,u[h])){var d=u[h],p=s[h];p=gu(p);var v=o.nc(d);if(p instanceof jN)l.push(d);else{var m=YN(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new qb(l);return new LN(f,y,o.fieldTransforms)}function QN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return YN(n,e.uc(r?4:3,t))}function YN(e,t){if(XN(e=gu(e)))return ZN("Unsupported field value:",t,e),JN(e,t);if(e instanceof RN)return function(e,t){if(!MN(t.Ya))throw t.ic("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ic("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Mo(e);try{for(a.s();!(n=a.n()).done;){var o=YN(n.value,t.sc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=gu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return wx(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ob.fromDate(e);return{timestampValue:R_(t.M,n)}}if(e instanceof Ob){var r=new Ob(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:R_(t.M,r)}}if(e instanceof PN)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof NN)return{bytesValue:P_(t.M,e._byteString)};if(e instanceof lN){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ic("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:L_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ic("Unsupported field value: ".concat(iN(e)))}(e,t)}function JN(e,t){var n={};return Vb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fb(e,(function(e,r){var i=YN(r,t.Za(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function XN(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ob||e instanceof PN||e instanceof NN||e instanceof lN||e instanceof RN)}function ZN(e,t,n){if(!XN(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=iN(n);throw"an object"===r?t.ic(e+" a custom object"):t.ic(e+" "+r)}}function eR(e,t,n){if((t=gu(t))instanceof AN)return t._internalPath;if("string"==typeof t)return nR(e,t);throw rR("Field path arguments must be of type string or ",e,!1,void 0,n)}var tR=new RegExp("[~\\*/\\[\\]]");function nR(e,t,n){if(t.search(tR)>=0)throw rR("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return qo(AN,s(t.split(".")))._internalPath}catch(r){throw rR("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function rR(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new gb(yb.INVALID_ARGUMENT,u+e+s)}function iR(e,t){return e.some((function(e){return e.isEqual(t)}))}var aR=function(){function e(t,n,r,i,a){Ao(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ro(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new lN(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new oR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(uR("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),oR=function(e){Fo(n,e);var t=Bo(n);function n(){return Ao(this,n),t.apply(this,arguments)}return Ro(n,[{key:"data",value:function(){return Os(Vo(n.prototype),"data",this).call(this)}}]),n}(aR);function uR(e,t){return"string"==typeof t?nR(e,t):t instanceof AN?t._internalPath:t._delegate._internalPath}var sR=function(){function e(t,n){Ao(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ro(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),cR=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i,a,o,u){var s;return Ao(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Ro(n,[{key:"exists",value:function(){return Os(Vo(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new lR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(uR("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(aR),lR=function(e){Fo(n,e);var t=Bo(n);function n(){return Ao(this,n),t.apply(this,arguments)}return Ro(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Os(Vo(n.prototype),"data",this).call(this,e)}}]),n}(cR),fR=function(){function e(t,n,r,i){Ao(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new sR(i.hasPendingWrites,i.fromCache),this.query=r}return Ro(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new lR(n._firestore,n._userDataWriter,r.key,r,new sR(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new gb(yb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new lR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sR(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new lR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sR(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:hR(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function hR(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pb()}}function dR(e,t){return e instanceof cR&&t instanceof cR?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof fR&&t instanceof fR&&e._firestore===t._firestore&&mN(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function pR(e){if(ax(e)&&0===e.explicitOrderBy.length)throw new gb(yb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vR=Ro((function e(){Ao(this,e)}));function mR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var yR=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ao(this,n),(a=t.call(this)).hc=e,a.lc=r,a.fc=i,a.type="where",a}return Ro(n,[{key:"_apply",value:function(e){var t=UN(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new gb(yb.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){CR(o,a);var s,c=[],l=Mo(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(TR(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=TR(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||CR(o,a),u=QN(n,"where",o,"in"===a||"not-in"===a);var h=jw.create(i,a,u);return function(e,t){if(t.S()){var n=ux(e);if(null!==n&&!n.isEqual(t.field))throw new gb(yb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=ox(e);null!==r&&AR(e,t.field,r)}var i=function(e,t){var n,r=Mo(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new gb(yb.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new gb(yb.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new fN(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new tx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(vR);var gR=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ao(this,n),(i=t.call(this)).hc=e,i.dc=r,i.type="orderBy",i}return Ro(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new gb(yb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new gb(yb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Jw(t,n);return function(e,t){if(null===ox(e)){var n=ux(e);null!==n&&AR(e,n,t.field)}}(e,r),r}(e._query,this.hc,this.dc);return new fN(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new tx(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(vR);var kR=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ao(this,n),(a=t.call(this)).type=e,a._c=r,a.wc=i,a}return Ro(n,[{key:"_apply",value:function(e){return new fN(e.firestore,e.converter,fx(e._query,this._c,this.wc))}}]),n}(vR);var bR=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ao(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return Ro(n,[{key:"_apply",value:function(e){var t=ER(e,this.type,this.mc,this.gc);return new fN(e.firestore,e.converter,function(e,t){return new tx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(vR);function wR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bR("startAt",t,!0)}function xR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bR("startAfter",t,!1)}var _R=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ao(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return Ro(n,[{key:"_apply",value:function(e){var t=ER(e,this.type,this.mc,this.gc);return new fN(e.firestore,e.converter,function(e,t){return new tx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(vR);function IR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _R("endBefore",t,!1)}function SR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _R("endAt",t,!0)}function ER(e,t,n,r){if(n[0]=gu(n[0]),n[0]instanceof aR)return function(e,t,n,r,i){if(!r)throw new gb(yb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Mo(cx(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(dw(t,r.key));else{var c=r.data.field(s.field);if(Qb(c))throw new gb(yb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new gb(yb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Yw(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=UN(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new gb(yb.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new gb(yb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!sx(e)&&-1!==c.indexOf("/"))throw new gb(yb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(zb.fromString(c));if(!rw.isDocumentKey(l))throw new gb(yb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new rw(l);u.push(dw(t,f))}else{var h=QN(n,r,c);u.push(h)}}return new Yw(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function TR(e,t,n){if("string"==typeof(n=gu(n))){if(""===n)throw new gb(yb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sx(t)&&-1!==n.indexOf("/"))throw new gb(yb.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(zb.fromString(n));if(!rw.isDocumentKey(r))throw new gb(yb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return dw(e,new rw(r))}if(n instanceof lN)return dw(e,n._key);throw new gb(yb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(iN(n),"."))}function CR(e,t){if(!Array.isArray(e)||0===e.length)throw new gb(yb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new gb(yb.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function AR(e,t,n){if(!n.isEqual(t))throw new gb(yb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var NR=function(){function e(){Ao(this,e)}return Ro(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ow(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($b(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pb()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Fb(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new PN(Hb(e.latitude),Hb(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Yb(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Jb(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Kb(e);return new Ob(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=zb.fromString(e);vb(aI(n));var r=new Zb(n.get(1),n.get(3)),i=new rw(n.popFirst(5));return r.isEqual(t)||fb("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function RR(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var PR=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ao(this,n),(r=t.call(this)).firestore=e,r}return Ro(n,[{key:"convertBytes",value:function(e){return new NN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new lN(this.firestore,null,t)}}]),n}(NR),DR=function(){function e(t,n){Ao(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=UN(t)}return Ro(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=OR(e,this._firestore),i=RR(r.converter,t,n),a=zN(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Mx.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=OR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=gu(t))||t instanceof AN?$N(this._dataReader,"WriteBatch.update",i._key,t,n,o):HN(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Mx.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=OR(e,this._firestore);return this._mutations=this._mutations.concat(new Jx(t._key,Mx.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new gb(yb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function OR(e,t){if((e=gu(e)).firestore!==t)throw new gb(yb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var LR=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ao(this,n),(r=t.call(this)).firestore=e,r}return Ro(n,[{key:"convertBytes",value:function(e){return new NN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new lN(this.firestore,null,t)}}]),n}(NR);function MR(e){e=aN(e,lN);var t=aN(e.firestore,bN),n=wN(t),r=new LR(t);return function(e,t){var n=new kb;return e.asyncQueue.enqueueAndForget(Do(Lo().mark((function r(){return Lo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Do(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=mb(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ai.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new gb(yb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=uC(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,KA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new cR(t,r,e._key,n,new sR(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function FR(e){e=aN(e,fN);var t=aN(e.firestore,bN),n=wN(t),r=new LR(t);return function(e,t){var n=new kb;return e.asyncQueue.enqueueAndForget(Do(Lo().mark((function r(){return Lo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Do(Lo().mark((function e(t,n,r){var i,a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,AE(t,n,!0);case 3:i=e.sent,a=new TC(n,i.hi),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=uC(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,KA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new fR(t,r,e,n)}))}function VR(e,t,n){e=aN(e,lN);var r=aN(e.firestore,bN),i=RR(e.converter,t,n);return BR(r,[zN(UN(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Mx.none())])}function UR(e,t,n){e=aN(e,lN);for(var r=aN(e.firestore,bN),i=UN(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return BR(r,[("string"==typeof(t=gu(t))||t instanceof AN?$N(i,"updateDoc",e._key,t,n,o):HN(i,"updateDoc",e._key,t)).toMutation(e._key,Mx.exists(!0))])}function zR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=gu(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||gN(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(gN(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof lN)l=aN(e.firestore,bN),f=rx(e._key.path),c={next:function(t){n[s]&&n[s](qR(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=aN(e,fN);l=aN(p.firestore,bN),f=p._query;var v=new LR(l);c={next:function(e){n[s]&&n[s](new fR(l,v,p,e))},error:n[s+1],complete:n[s+2]},pR(e._query)}return function(e,t,n,r){var i=new PA(r),a=new bC(t,i,n);return e.asyncQueue.enqueueAndForget(Do(Lo().mark((function t(){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=dC,t.next=3,QA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.pa(),e.asyncQueue.enqueueAndForget(Do(Lo().mark((function t(){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=vC,t.next=3,QA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(wN(l),f,h,c)}function jR(e,t){return function(e,t){var n=new PA(t);return e.asyncQueue.enqueueAndForget(Do(Lo().mark((function t(){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){mb(e).Tu.add(t),t.next()},t.next=3,QA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.pa(),e.asyncQueue.enqueueAndForget(Do(Lo().mark((function t(){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){mb(e).Tu.delete(t)},t.next=3,QA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(wN(e=aN(e,bN)),gN(t)?t:{next:t})}function BR(e,t){return function(e,t){var n=new kb;return e.asyncQueue.enqueueAndForget(Do(Lo().mark((function r(){return Lo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=FC,r.next=3,$A(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(wN(e),t)}function qR(e,t,n){var r=n.docs.get(t._key),i=new LR(e);return new cR(e,i,t._key,r,new sR(n.hasPendingWrites,n.fromCache),t.converter)}var WR=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ao(this,n),(i=t.call(this,e,r))._firestore=e,i}return Ro(n,[{key:"get",value:function(e){var t=this,r=OR(e,this._firestore),i=new LR(this._firestore);return Os(Vo(n.prototype),"get",this).call(this,e).then((function(e){return new cR(t._firestore,i,r._key,e._document,new sR(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ao(this,e),this._firestore=t,this._transaction=n,this._dataReader=UN(t)}return Ro(e,[{key:"get",value:function(e){var t=this,n=OR(e,this._firestore),r=new PR(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return pb();var i=e[0];if(i.isFoundDocument())return new aR(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new aR(t._firestore,r,n._key,null,n.converter);throw pb()}))}},{key:"set",value:function(e,t,n){var r=OR(e,this._firestore),i=RR(r.converter,t,n),a=zN(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=OR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=gu(t))||t instanceof AN?$N(this._dataReader,"Transaction.update",i._key,t,n,o):HN(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=OR(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function GR(e,t){return function(e,t){var n=new kb;return e.asyncQueue.enqueueAndForget(Do(Lo().mark((function r(){var i;return Lo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return qA(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new LA(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(wN(e=aN(e,bN)),(function(n){return t(new WR(e,n))}))}function KR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WN("arrayUnion",t)}function HR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GN("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ub=e}(ns),Qu(new Iu("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new bN(i,new _b(e.getProvider("auth-internal")),new Tb(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),ss(ab,"3.4.7",e),ss(ab,"3.4.7","esm2017")}();function $R(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new gb("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function QR(){if("undefined"===typeof Uint8Array)throw new gb("unimplemented","Uint8Arrays are not available in this environment.")}function YR(){if("undefined"==typeof atob)throw new gb("unimplemented","Blobs are unavailable in Firestore in this environment.")}var JR=function(){function e(t){Ao(this,e),this._delegate=t}return Ro(e,[{key:"toBase64",value:function(){return YR(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return QR(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return YR(),new e(NN.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return QR(),new e(NN.fromUint8Array(t))}}]),e}();function XR(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Mo(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var ZR=function(){function e(){Ao(this,e)}return Ro(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){CN(e=aN(e,bN));var n=wN(e),r=e._freezeSettings(),i=new NA;return _N(n,i,new CA(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){CN(e=aN(e,bN));var t=wN(e),n=e._freezeSettings(),r=new NA;return _N(t,r,new AA(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new gb(yb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new kb;return e._queue.enqueueAndForgetEvenWhileRestricted(Do(Lo().mark((function n(){return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Do(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(MI.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,MI.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(dE(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),eP=function(){function e(t,n,r){var i=this;Ao(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Zb||(this._appCompat=t)}return Ro(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||hb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};cN(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return IN(this._delegate)}},{key:"disableNetwork",value:function(){return SN(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&tN("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new kb;return e.asyncQueue.enqueueAndForget(Do(Lo().mark((function n(){return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=$C,n.next=3,$A(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(wN(e=aN(e,bN)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return jR(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new gb("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new pP(this,dN(this._delegate,e))}catch(t){throw oP(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new aP(this,pN(this._delegate,e))}catch(t){throw oP(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new fP(this,function(e,t){if(e=aN(e,sN),eN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new gb(yb.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new fN(e,null,function(e){return new tx(zb.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw oP(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return GR(this._delegate,(function(n){return e(new nP(t,n))}))}},{key:"batch",value:function(){var e=this;return wN(this._delegate),new rP(new DR(this._delegate,(function(t){return BR(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return EN(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return TN(this._delegate,e).then((function(e){return e?new fP(t,e):null}))}}]),e}(),tP=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ao(this,n),(r=t.call(this)).firestore=e,r}return Ro(n,[{key:"convertBytes",value:function(e){return new JR(new NN(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return aP.forKey(t,this.firestore,null)}}]),n}(NR);var nP=function(){function e(t,n){Ao(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new tP(t)}return Ro(e,[{key:"get",value:function(e){var t=this,n=vP(e);return this._delegate.get(n).then((function(e){return new cP(t._firestore,new cR(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=vP(e);return n?($R("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=vP(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=vP(e);return this._delegate.delete(t),this}}]),e}(),rP=function(){function e(t){Ao(this,e),this._delegate=t}return Ro(e,[{key:"set",value:function(e,t,n){var r=vP(e);return n?($R("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=vP(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=vP(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),iP=function(){function e(t,n,r){Ao(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Ro(e,[{key:"fromFirestore",value:function(e,t){var n=new lR(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lP(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new tP(t),n),i.set(n,a)),a}}]),e}();iP.INSTANCES=new WeakMap;var aP=function(){function e(t,n){Ao(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new tP(t)}return Ro(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new pP(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new pP(this.firestore,dN(this._delegate,e))}catch(t){throw oP(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=gu(e))instanceof lN&&vN(this._delegate,e)}},{key:"set",value:function(e,t){t=$R("DocumentReference.set",t);try{return t?VR(this._delegate,e,t):VR(this._delegate,e)}catch(n){throw oP(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?UR(this._delegate,e):UR.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw oP(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return BR(aN(e.firestore,bN),[new Jx(e._key,Mx.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=uP(n),a=sP(n,(function(t){return new cP(e.firestore,new cR(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return zR(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?MR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=aN(e,lN);var t=aN(e.firestore,bN);return JA(wN(t),e._key,{source:"server"}).then((function(n){return qR(t,e,n)}))}(this._delegate):function(e){e=aN(e,lN);var t=aN(e.firestore,bN);return JA(wN(t),e._key).then((function(n){return qR(t,e,n)}))}(this._delegate),t.then((function(e){return new cP(n.firestore,new cR(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(iP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new gb("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new lN(n._delegate,r,new rw(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new lN(n._delegate,r,t))}}]),e}();function oP(e,t,n){return e.message=e.message.replace(t,n),e}function uP(e){var t,n=Mo(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!XR(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function sP(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=XR(e[0])?e[0]:XR(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var cP=function(){function e(t,n){Ao(this,e),this._firestore=t,this._delegate=n}return Ro(e,[{key:"ref",get:function(){return new aP(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return dR(this._delegate,e._delegate)}}]),e}(),lP=function(e){Fo(n,e);var t=Bo(n);function n(){return Ao(this,n),t.apply(this,arguments)}return Ro(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||pb()}(void 0!==t),t}}]),n}(cP),fP=function(){function e(t,n){Ao(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new tP(t)}return Ro(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,mR(this._delegate,function(e,t,n){var r=t,i=uR("where",e);return new yR(i,r,n)}(t,n,r)))}catch(i){throw oP(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,mR(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=uR("orderBy",e);return new gR(n,t)}(t,n)))}catch(r){throw oP(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,mR(this._delegate,function(e){return oN("limit",e),new kR("limit",e,"F")}(t)))}catch(n){throw oP(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,mR(this._delegate,function(e){return oN("limitToLast",e),new kR("limitToLast",e,"L")}(t)))}catch(n){throw oP(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,mR(this._delegate,wR.apply(void 0,arguments)))}catch(t){throw oP(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,mR(this._delegate,xR.apply(void 0,arguments)))}catch(t){throw oP(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,mR(this._delegate,IR.apply(void 0,arguments)))}catch(t){throw oP(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,mR(this._delegate,SR.apply(void 0,arguments)))}catch(t){throw oP(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return mN(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?FR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=aN(e,fN);var t=aN(e.firestore,bN),n=wN(t),r=new LR(t);return XA(n,e._query,{source:"server"}).then((function(n){return new fR(t,r,e,n)}))}(this._delegate):function(e){e=aN(e,fN);var t=aN(e.firestore,bN),n=wN(t),r=new LR(t);return pR(e._query),XA(n,e._query).then((function(n){return new fR(t,r,e,n)}))}(this._delegate),t.then((function(e){return new dP(n.firestore,new fR(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=uP(n),a=sP(n,(function(t){return new dP(e.firestore,new fR(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return zR(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(iP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),hP=function(){function e(t,n){Ao(this,e),this._firestore=t,this._delegate=n}return Ro(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new lP(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),dP=function(){function e(t,n){Ao(this,e),this._firestore=t,this._delegate=n}return Ro(e,[{key:"query",get:function(){return new fP(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new lP(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new hP(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new lP(n._firestore,r))}))}},{key:"isEqual",value:function(e){return dR(this._delegate,e._delegate)}}]),e}(),pP=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ao(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Ro(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new aP(this.firestore,e):null}},{key:"doc",value:function(e){try{return new aP(this.firestore,void 0===e?pN(this._delegate):pN(this._delegate,e))}catch(t){throw oP(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=aN(e.firestore,bN),r=pN(e),i=RR(e.converter,t);return BR(n,[zN(UN(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Mx.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new aP(t.firestore,e)}))}},{key:"isEqual",value:function(e){return vN(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(iP.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(fP);function vP(e){return aN(e,lN)}var mP=function(){function e(){Ao(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=qo(AN,n)}return Ro(e,[{key:"isEqual",value:function(e){return(e=gu(e))instanceof AN&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Bb.keyField().canonicalString())}}]),e}(),yP=function(){function e(t){Ao(this,e),this._delegate=t}return Ro(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new qN("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new jN("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=KR.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=HR.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new KN("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),gP={Firestore:eP,GeoPoint:PN,Timestamp:Ob,Blob:JR,Transaction:nP,WriteBatch:rP,DocumentReference:aP,DocumentSnapshot:cP,Query:fP,QueryDocumentSnapshot:lP,QuerySnapshot:dP,CollectionReference:pP,FieldPath:mP,FieldValue:yP,setLogLevel:function(e){!function(e){sb.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Iu("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},gP)))}(e,(function(e,t){return new eP(e,t,new ZR)})),e.registerVersion("@firebase/firestore-compat","0.1.16")}(Ps);Ps.registerVersion("firebase","9.6.10","app-compat");var kP=Ps.initializeApp({apiKey:"AIzaSyADJw1-in6BFItF3W5akFg6cL51EGdU6YY",authDomain:"todo-app-431cf.firebaseapp.com",projectId:"todo-app-431cf",storageBucket:"todo-app-431cf.appspot.com",messagingSenderId:"575495029398",appId:"1:575495029398:web:4a4e16da657c469ac138b7"}).firestore();var bP=function(){var e=f((0,t.useState)([]),2),n=e[0],r=e[1],i=f((0,t.useState)(" "),2),a=i[0],o=i[1];return(0,t.useEffect)((function(){kP.collection("todos").orderBy("timestamp","desc").onSnapshot((function(e){r(e.docs.map((function(e){return e.data().todo})))}))}),[]),console.log(a),(0,ui.jsxs)("div",{className:"App",children:[(0,ui.jsx)("h1",{children:"Todo App "}),(0,ui.jsxs)("form",{children:[(0,ui.jsxs)(ra,{children:[(0,ui.jsx)(ma,{children:"\u2714 write a Todo"}),(0,ui.jsx)(qa,{value:a,onChange:function(e){return o(e.target.value)}})]}),(0,ui.jsx)($i,{disabled:!a,onClick:function(e){e.preventDefault(),kP.collection("todos").add({todo:a,timestamp:Ps.firestore.FieldValue.serverTimestamp()}),r([].concat(s(n),[a])),o("")},type:"submit",variant:"outlined",children:"Add todo"})]}),(0,ui.jsx)("ul",{children:n.map((function(e){return(0,ui.jsx)(Co,{text:e})}))})]})},wP=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.render((0,ui.jsx)(t.StrictMode,{children:(0,ui.jsx)(bP,{})}),document.getElementById("root")),wP()}()}();
//# sourceMappingURL=main.07a409a1.js.map